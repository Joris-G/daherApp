{"version":3,"file":"src_app_pages_admin_admin_module_ts.js","mappings":";;;;;;;;;;;;;;;;AAAoD;IAMvC,aAAa,SAAb,aAAa;IAExB,SAAS,CAAC,KAAa;QACrB,IAAI,KAAK,EAAE;YACT,OAAO,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,QAAQ,KAAK,KAAK,CAClD,CAAC;SACH;IACH,CAAC;CAEF;AATY,aAAa;IAHzB,mDAAI,CAAC;QACJ,IAAI,EAAE,WAAW;KAClB,CAAC;GACW,aAAa,CASzB;AATyB;;;;;;;;;;;;;;;;;;;;;;;;ACNwB;AACT;AAE0B;IAOtD,0BAA0B,SAA1B,0BAA0B;IAErC,YACS,WAAwB,EACvB,MAAc;QADf,gBAAW,GAAX,WAAW,CAAa;QACvB,WAAM,GAAN,MAAM,CAAQ;IAGxB,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC;IACxC,CAAC;IACD,WAAW;QACT,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE;aACtB,SAAS,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;QACnC,CAAC,CAAC,CAAC;IACP,CAAC;IACD,YAAY;QACV,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;IAClC,CAAC;CACF;;YA5BQ,4EAAW;YAFX,mDAAM;;AASF,0BAA0B;IALtC,wDAAS,CAAC;QACT,QAAQ,EAAE,yBAAyB;QACnC,qFAAmD;;KAEpD,CAAC;GACW,0BAA0B,CAqBtC;AArBsC;;;;;;;;;;;;;;;;;;;;;;ACVE;AACM;AACF;AACA;AACgC;IAOhE,uBAAuB,SAAvB,uBAAuB;CAAI;AAA3B,uBAAuB;IALnC,uDAAQ,CAAC;QACR,OAAO,EAAE,CAAC,yDAAY,EAAE,uDAAW,EAAE,uDAAW,EAAE;QAClD,YAAY,EAAE,CAAC,sFAA0B,CAAC;QAC1C,OAAO,EAAE,CAAC,sFAA0B,CAAC;KACtC,CAAC;GACW,uBAAuB,CAAI;AAAJ;;;;;;;;;;;;;;;;;;;;;;;;ACXsD;AAC7B;AAEuB;IAOvE,gBAAgB,SAAhB,gBAAgB;IAS3B,YACU,cAA8B;QAA9B,mBAAc,GAAd,cAAc,CAAgB;QATxC,oBAAoB;QACb,uBAAkB,GAAG,KAAK,CAAC;QAC3B,kBAAa,GAAG,KAAK,CAAC;QAGtB,4BAAuB,GAAa,CAAC,QAAQ,EAAE,IAAI,EAAE,YAAY,EAAE,WAAW,EAAE,WAAW,EAAE,UAAU,CAAC,CAAC;IAK5G,CAAC;IACL,kBAAkB;QAChB,0CAA0C;IAE5C,CAAC;IACD,WAAW;IACX,CAAC;IAED,eAAe;QACb,IAAI,CAAC,WAAW,EAAE,CAAC;IACrB,CAAC;IAED,QAAQ;QACN,sBAAsB;QACtB,0CAA0C;QAC1C,yCAAyC;QACzC,wBAAwB;QACxB,wBAAwB;IAE1B,CAAC;IAED,WAAW;QACT,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;QAC/B,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE;aAC9B,SAAS,CACR,CAAC,QAAmB,EAAE,EAAE;YACtB,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;YACzB,IAAI,CAAC,kBAAkB,GAAG,KAAK,CAAC;YAChC,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;YAC3B,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,OAAgB,EAAE,EAAE;gBACzC,OAAO,CAAC,MAAM,GAAG,KAAK,CAAC;YACzB,CAAC,CAAC,CAAC;YACH,IAAI,CAAC,UAAU,GAAG,IAAI,uEAAkB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC1D,CAAC,EACD,CAAC,KAAK,EAAE,EAAE;YACR,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;YACrB,IAAI,CAAC,kBAAkB,GAAG,KAAK,CAAC;YAChC,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;QAC5B,CAAC,CAAC,CAAC;IACT,CAAC;IAED,WAAW,CAAC,KAAY;QACtB,MAAM,WAAW,GAAI,KAAK,CAAC,MAA2B,CAAC,KAAK,CAAC;QAC7D,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,WAAW,CAAC,IAAI,EAAE,CAAC,WAAW,EAAE,CAAC;IAC5D,CAAC;CACF;;YA/DQ,6FAAc;;AAOV,gBAAgB;IAL5B,wDAAS,CAAC;QACT,QAAQ,EAAE,mBAAmB;QAC7B,0EAAwC;;KAEzC,CAAC;GACW,gBAAgB,CAwD5B;AAxD4B;;;;;;;;;;;;;;;;;;;;;;;ACVY;AACc;AACQ;AACO;AACT;AAEpB;AAEzC,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,kDAAS;QACpB,QAAQ,EACN,CAAC;gBACC,IAAI,EAAE,YAAY;gBAClB,SAAS,EAAE,sEAAa;gBACxB,WAAW,EAAE,CAAC,wEAAS,CAAC;gBACxB,IAAI,EAAE;oBACJ,YAAY,EAAE,CAAC,YAAY,CAAC;iBAC7B;aACF;YACD;gBACE,IAAI,EAAE,eAAe;gBACrB,WAAW,EAAE,CAAC,wEAAS,CAAC;gBACxB,IAAI,EAAE;oBACJ,YAAY,EAAE,CAAC,YAAY,CAAC;iBAC7B;gBACD,SAAS,EAAE,+EAAgB;aAC5B;SACA;KACJ;IACD;QACE,IAAI,EAAE,IAAI;QACV,UAAU,EAAE,MAAM;KACnB;CAEF,CAAC;IAMW,sBAAsB,SAAtB,sBAAsB;CAAI;AAA1B,sBAAsB;IAJlC,uDAAQ,CAAC;QACR,OAAO,EAAE,CAAC,kEAAqB,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,yDAAY,CAAC;KACxB,CAAC;GACW,sBAAsB,CAAI;AAAJ;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1CQ;AAGpB;AACW;AAEoC;AACI;AACL;IAOxD,aAAa,SAAb,aAAa;IAWxB,YACU,WAAyB,EACzB,QAAkB,EAClB,cAA8B,EAC9B,YAA0B;QAH1B,gBAAW,GAAX,WAAW,CAAc;QACzB,aAAQ,GAAR,QAAQ,CAAU;QAClB,mBAAc,GAAd,cAAc,CAAgB;QAC9B,iBAAY,GAAZ,YAAY,CAAc;QAV7B,mBAAc,GAAG,KAAK,CAAC;QAC9B,iCAA4B,GAAa,CAAC,IAAI,EAAE,KAAK,EAAE,QAAQ,EAAE,WAAW,EAAE,OAAO,EAAE,UAAU,CAAC,CAAC;QAE3F,iBAAY,GAAa,EAAE,CAAC;QAC5B,gBAAW,GAAa,EAAE,CAAC;IASnC,CAAC;IAED,YAAY,CAAC,IAAS;QACpB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QAClB,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;QAC3B,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;IAC3B,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,cAAc,CAAC,YAAY,EAAE,CAAC;QACnC,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE;aACxB,SAAS,CAAC,CAAC,KAAa,EAAE,EAAE;YAC3B,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;YACnB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,iBAAiB,EAAE,CAAC;YAC7C,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,oBAAoB,EAAE,CAAC;YAC/C,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;YACjD,4BAA4B;YAC5B,IAAI,CAAC,SAAS,GAAG,IAAI,qDAAK,CAAC,IAAI,CAAC,cAAc,CAAC,aAAa,EAAE;gBAC5D,IAAI,EAAE,MAAM;gBACZ,IAAI,EAAE;oBACJ,MAAM,EAAE,IAAI,CAAC,YAAY;oBACzB,QAAQ,EAAE;wBACR;4BACE,KAAK,EAAE,oCAAoC;4BAC3C,IAAI,EAAE,KAAK;4BACX,eAAe,EAAE,sBAAsB;4BACvC,WAAW,EAAE,oBAAoB;4BACjC,cAAc,EAAE,MAAM;4BACtB,UAAU,EAAE,EAAE;4BACd,gBAAgB,EAAE,GAAG;4BACrB,eAAe,EAAE,OAAO;4BACxB,gBAAgB,EAAE,oBAAoB;4BACtC,oBAAoB,EAAE,MAAM;4BAC5B,gBAAgB,EAAE,CAAC;4BACnB,gBAAgB,EAAE,CAAC;4BACnB,yBAAyB,EAAE,oBAAoB;4BAC/C,qBAAqB,EAAE,qBAAqB;4BAC5C,qBAAqB,EAAE,CAAC;4BACxB,WAAW,EAAE,CAAC;4BACd,cAAc,EAAE,EAAE;4BAClB,IAAI,EAAE,IAAI,CAAC,WAAW;4BACtB,QAAQ,EAAE,KAAK;yBAChB;qBACF;iBACF;aACF,CAAC,CAAC;YACH,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC;YACxB,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE,CAAC;QACpC,CAAC,CAAC,CAAC;IACP,CAAC;IAID,iBAAiB;QACf,MAAM,OAAO,GAAG,IAAI,IAAI,EAAE,CAAC;QAC3B,MAAM,SAAS,GAAG,IAAI,IAAI,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACvC,MAAM,MAAM,GAAa,EAAE,CAAC;QAC5B,OAAO,SAAS,GAAG,OAAO,EAAE;YAC1B,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC,CAAC;YACzD,SAAS,CAAC,OAAO,CAAC,SAAS,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC,CAAC;SAC5C;QACD,OAAO,MAAM,CAAC;IAChB,CAAC;IAED,oBAAoB;QAClB,MAAM,OAAO,GAAG,IAAI,IAAI,EAAE,CAAC;QAC3B,IAAI,SAAS,GAAG,IAAI,IAAI,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACrC,MAAM,oBAAoB,GAAa,EAAE,CAAC;QAC1C,OAAO,SAAS,GAAG,OAAO,EAAE;YAC1B,MAAM,mBAAmB,GAAG,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC;YAChD,mBAAmB,CAAC,OAAO,CAAC,mBAAmB,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC,CAAC;YAC/D,MAAM,WAAW,GAAG,IAAI,CAAC,KAAK;iBAC3B,MAAM,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,CAChB,IAAI,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,SAAS;;oBAEpC,IAAI,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,mBAAmB,CAAC,CACjD,CAAC;YACJ,MAAM,aAAa,GAAG,WAAW,CAAC,MAAM,CAAC;YACzC,oBAAoB,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;YAEzC,SAAS,GAAG,mBAAmB,CAAC;SACjC;QACD,OAAO,oBAAoB,CAAC;IAC9B,CAAC;IAGD,aAAa,CAAC,KAAU,EAAE,IAAU;QAClC,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;IAC7C,CAAC;IAEO,WAAW,CAAC,OAAa,EAAE,KAAc;QAC/C,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;IAC9B,CAAC;CACF;;YAtHQ,8EAAY;YARZ,qDAAQ;YAOR,mFAAc;YADd,+EAAY;;;6BAUlB,oDAAS,SAAC,UAAU;;AADV,aAAa;IALzB,wDAAS,CAAC;QACT,QAAQ,EAAE,gBAAgB;QAC1B,uEAAqC;;KAEtC,CAAC;GACW,aAAa,CA+GzB;AA/GyB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACfe;AACgB;AACZ;AACY;AACZ;AACmB;AACvB;AACmE;AAC9C;AACQ;AACT;AACW;AACY;AACf;AACW;IAqBnE,eAAe,SAAf,eAAe;CAAI;AAAnB,eAAe;IAnB3B,wDAAQ,CAAC;QACR,OAAO,EAAE;YACP,0DAAY;YACZ,wDAAW;YACX,wDAAW;YACX,oEAAc;YACd,yEAAsB;YACtB,sHAAuB;YACvB,0FAAe;SAChB;QACD,YAAY,EAAE,CAAC,kDAAS,EAAE,uEAAa,EAAE,sEAAa,EAAE,+EAAgB,CAAC;QACzE,SAAS,EAAE;YACT,sDAAQ;YACR,iFAAU;YACV,6FAAc;YACd,8EAAY;SAEb;KACF,CAAC;GACW,eAAe,CAAI;AAAJ;;;;;;;;;;;;;;;;;;;;;;;ACnCyB;AACG;IAO3C,SAAS,SAAT,SAAS;IAEpB,YACU,OAAsB;QAAtB,YAAO,GAAP,OAAO,CAAe;IAC5B,CAAC;IACL,gBAAgB;QACd,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;IACxB,CAAC;IACD,QAAQ,CAAC,GAAW;QAClB,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC;IACpC,CAAC;CACF;;YAlBiB,yDAAa;;;wBAQ5B,oDAAS,SAAC,WAAW;;AADX,SAAS;IALrB,wDAAS,CAAC;QACT,QAAQ,EAAE,WAAW;QACrB,kEAAgC;;KAEjC,CAAC;GACW,SAAS,CAWrB;AAXqB","sources":["./src/app/_pipes/is-active.pipe.ts","./src/app/composants/shared-admin-header/shared-admin-header.component.ts","./src/app/composants/shared-admin-header/shared-admin-header.module.ts","./src/app/pages/admin/admin-molding/admin-molding.page.ts","./src/app/pages/admin/admin-routing.module.ts","./src/app/pages/admin/admin-user/admin-user.page.ts","./src/app/pages/admin/admin.module.ts","./src/app/pages/admin/admin.page.ts"],"sourcesContent":["import { Pipe, PipeTransform } from '@angular/core';\r\nimport { User } from '../_interfaces/user';\r\n\r\n@Pipe({\r\n  name: 'NotActive'\r\n})\r\nexport class NotActivePipe implements PipeTransform {\r\n\r\n  transform(users: User[]): User[] {\r\n    if (users) {\r\n      return users.filter(user => user.isActive === false\r\n      );\r\n    }\r\n  }\r\n\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { User } from 'src/app/_interfaces/user';\r\nimport { AuthService } from 'src/app/_services/users/auth.service';\r\n\r\n@Component({\r\n  selector: 'app-shared-admin-header',\r\n  templateUrl: './shared-admin-header.component.html',\r\n  styleUrls: ['./shared-admin-header.component.scss'],\r\n})\r\nexport class SharedAdminHeaderComponent implements OnInit {\r\n  public user: User;\r\n  constructor(\r\n    public authService: AuthService,\r\n    private router: Router\r\n  ) {\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.user = this.authService.authUser;\r\n  }\r\n  logoutClick() {\r\n    this.authService.logout()\r\n      .subscribe(() => {\r\n        this.router.navigate(['/login']);\r\n      });\r\n  }\r\n  navigateHome() {\r\n    this.router.navigate(['/home']);\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { SharedAdminHeaderComponent } from './shared-admin-header.component';\r\n\r\n@NgModule({\r\n  imports: [CommonModule, FormsModule, IonicModule,],\r\n  declarations: [SharedAdminHeaderComponent],\r\n  exports: [SharedAdminHeaderComponent]\r\n})\r\nexport class SharedAdminHeaderModule { }\r\n","import { AfterViewChecked, Component, OnDestroy, OnInit, ViewChild } from '@angular/core';\r\nimport { MatTableDataSource } from '@angular/material/table';\r\nimport { Molding } from 'src/app/_interfaces/molding/molding';\r\nimport { MoldingService } from 'src/app/_services/molding/moldings/molding.service';\r\n\r\n@Component({\r\n  selector: 'app-admin-molding',\r\n  templateUrl: './admin-molding.page.html',\r\n  styleUrls: ['./admin-molding.page.scss'],\r\n})\r\nexport class AdminMoldingPage implements OnInit, OnDestroy, AfterViewChecked {\r\n  // public properties\r\n  public moldingListLoading = false;\r\n  public moldingsError = false;\r\n  public moldings: Molding[];\r\n  public dataSource: MatTableDataSource<Molding>;\r\n  public displayedMoldingColumns: string[] = ['status', 'id', 'moldingDay', 'createdBy', 'outillage', 'commands'];\r\n  // private properties\r\n  private refreshData;\r\n  constructor(\r\n    private moldingService: MoldingService\r\n  ) { }\r\n  ngAfterViewChecked(): void {\r\n    // indicators to be reloaded with interval\r\n\r\n  }\r\n  ngOnDestroy(): void {\r\n  }\r\n\r\n  ionViewDidEnter() {\r\n    this.getMoldings();\r\n  }\r\n\r\n  ngOnInit() {\r\n    // this.getMoldings();\r\n    // indicators to be reloaded with interval\r\n    // this.refreshData = setInterval(() => {\r\n    //   this.getMoldings();\r\n    // }, this.refreshTime);\r\n\r\n  }\r\n\r\n  getMoldings() {\r\n    this.moldingListLoading = true;\r\n    this.moldingService.getMoldings()\r\n      .subscribe(\r\n        (moldings: Molding[]) => {\r\n          this.moldings = moldings;\r\n          this.moldingListLoading = false;\r\n          this.moldingsError = false;\r\n          this.moldings.forEach((molding: Molding) => {\r\n            molding.status = false;\r\n          });\r\n          this.dataSource = new MatTableDataSource(this.moldings);\r\n        },\r\n        (error) => {\r\n          console.error(error);\r\n          this.moldingListLoading = false;\r\n          this.moldingsError = true;\r\n        });\r\n  }\r\n\r\n  applyFilter(event: Event) {\r\n    const filterValue = (event.target as HTMLInputElement).value;\r\n    this.dataSource.filter = filterValue.trim().toLowerCase();\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { RoleGuard } from 'src/app/_services/users/role.guard';\r\nimport { AdminMoldingPage } from './admin-molding/admin-molding.page';\r\nimport { AdminUserPage } from './admin-user/admin-user.page';\r\n\r\nimport { AdminPage } from './admin.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: AdminPage,\r\n    children:\r\n      [{\r\n        path: 'admin-user',\r\n        component: AdminUserPage,\r\n        canActivate: [RoleGuard],\r\n        data: {\r\n          expectedRole: ['ROLE_ADMIN']\r\n        },\r\n      },\r\n      {\r\n        path: 'admin-molding',\r\n        canActivate: [RoleGuard],\r\n        data: {\r\n          expectedRole: ['ROLE_ADMIN']\r\n        },\r\n        component: AdminMoldingPage,\r\n      },\r\n      ]\r\n  },\r\n  {\r\n    path: '**',\r\n    redirectTo: 'home'\r\n  }\r\n\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class AdminPageRoutingModule { }\r\n","import { DatePipe } from '@angular/common';\r\nimport {\r\n  Component, ElementRef, OnInit, ViewChild\r\n} from '@angular/core';\r\nimport Chart from 'chart.js/auto';\r\nimport { User } from 'src/app/_interfaces/user';\r\nimport { AlertService } from 'src/app/_services/divers/alert.service';\r\nimport { LoadingService } from 'src/app/_services/divers/loading.service';\r\nimport { UsersService } from 'src/app/_services/users/users.service';\r\n\r\n@Component({\r\n  selector: 'app-admin-user',\r\n  templateUrl: './admin-user.page.html',\r\n  styleUrls: ['./admin-user.page.scss'],\r\n})\r\nexport class AdminUserPage implements OnInit {\r\n  @ViewChild('newUsers') private newUsersCanvas: ElementRef;\r\n\r\n  public users: User[];\r\n  public selectedUser: User;\r\n  public isUserSelected = false;\r\n  displayedUserInactiveColumns: string[] = ['id', 'nom', 'prenom', 'matricule', 'roles', 'commands'];\r\n  private lineChart: any;\r\n  private weeklyLabels: string[] = [];\r\n  private weeklyUsers: number[] = [];\r\n\r\n  constructor(\r\n    private userService: UsersService,\r\n    private datePipe: DatePipe,\r\n    private loadingService: LoadingService,\r\n    private alertService: AlertService,\r\n  ) {\r\n\r\n  }\r\n\r\n  onSelectUser(test: any) {\r\n    console.log(test);\r\n    this.isUserSelected = true;\r\n    this.selectedUser = test;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.loadingService.startLoading();\r\n    this.userService.getUsers()\r\n      .subscribe((users: User[]) => {\r\n        this.users = users;\r\n        this.weeklyLabels = this.createWeeklyLabel();\r\n        this.weeklyUsers = this.createWeeklyUserData();\r\n        console.log(this.weeklyLabels, this.weeklyUsers);\r\n        // this.lineChart.destroy();\r\n        this.lineChart = new Chart(this.newUsersCanvas.nativeElement, {\r\n          type: 'line',\r\n          data: {\r\n            labels: this.weeklyLabels,\r\n            datasets: [\r\n              {\r\n                label: 'Evolution du nombre d\\'inscription',\r\n                fill: false,\r\n                backgroundColor: 'rgba(75,192,192,0.4)',\r\n                borderColor: 'rgba(75,192,192,1)',\r\n                borderCapStyle: 'butt',\r\n                borderDash: [],\r\n                borderDashOffset: 0.0,\r\n                borderJoinStyle: 'miter',\r\n                pointBorderColor: 'rgba(75,192,192,1)',\r\n                pointBackgroundColor: '#fff',\r\n                pointBorderWidth: 1,\r\n                pointHoverRadius: 5,\r\n                pointHoverBackgroundColor: 'rgba(75,192,192,1)',\r\n                pointHoverBorderColor: 'rgba(220,220,220,1)',\r\n                pointHoverBorderWidth: 2,\r\n                pointRadius: 1,\r\n                pointHitRadius: 10,\r\n                data: this.weeklyUsers,\r\n                spanGaps: false,\r\n              }\r\n            ]\r\n          }\r\n        });\r\n        this.lineChart.update();\r\n        this.loadingService.stopLoading();\r\n      });\r\n  }\r\n\r\n\r\n\r\n  createWeeklyLabel(): string[] {\r\n    const endDate = new Date();\r\n    const startDate = new Date(2022, 0, 1);\r\n    const labels: string[] = [];\r\n    while (startDate < endDate) {\r\n      labels.push(this.datePipe.transform(startDate, 'dd/MM'));\r\n      startDate.setDate(startDate.getDate() + 7);\r\n    }\r\n    return labels;\r\n  }\r\n\r\n  createWeeklyUserData(): number[] {\r\n    const endDate = new Date();\r\n    let startDate = new Date(2022, 0, 1);\r\n    const totaluserPerWeekData: number[] = [];\r\n    while (startDate < endDate) {\r\n      const intermediateEndDate = new Date(startDate);\r\n      intermediateEndDate.setDate(intermediateEndDate.getDate() + 7);\r\n      const filterUsers = this.users\r\n        .filter((user) => (\r\n          new Date(user.createdAt) > startDate\r\n          &&\r\n          new Date(user.createdAt) <= intermediateEndDate)\r\n        );\r\n      const totalUserWeek = filterUsers.length;\r\n      totaluserPerWeekData.push(totalUserWeek);\r\n\r\n      startDate = intermediateEndDate;\r\n    }\r\n    return totaluserPerWeekData;\r\n  }\r\n\r\n\r\n  statusChanged(event: any, user: User) {\r\n    this.confirmUser(user, event.detail.value);\r\n  }\r\n\r\n  private confirmUser(element: User, state: boolean) {\r\n    console.log(element, state);\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule, DatePipe } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { MatTableModule } from '@angular/material/table';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { AdminPageRoutingModule } from './admin-routing.module';\r\nimport { AdminPage } from './admin.page';\r\nimport { SharedAdminHeaderModule } from 'src/app/composants/shared-admin-header/shared-admin-header.module';\r\nimport { NotActivePipe } from 'src/app/_pipes/is-active.pipe';\r\nimport { AdminMoldingPage } from './admin-molding/admin-molding.page';\r\nimport { AdminUserPage } from './admin-user/admin-user.page';\r\nimport { KitService } from 'src/app/_services/molding/kits/kit.service';\r\nimport { MoldingService } from 'src/app/_services/molding/moldings/molding.service';\r\nimport { UsersService } from 'src/app/_services/users/users.service';\r\nimport { ComponentModule } from 'src/app/composants/component/component.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    MatTableModule,\r\n    AdminPageRoutingModule,\r\n    SharedAdminHeaderModule,\r\n    ComponentModule,\r\n  ],\r\n  declarations: [AdminPage, NotActivePipe, AdminUserPage, AdminMoldingPage],\r\n  providers: [\r\n    DatePipe,\r\n    KitService,\r\n    MoldingService,\r\n    UsersService,\r\n\r\n  ]\r\n})\r\nexport class AdminPageModule { }\r\n","import { Component, ViewChild } from '@angular/core';\nimport { IonMenu, NavController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-admin',\n  templateUrl: './admin.page.html',\n  styleUrls: ['./admin.page.scss'],\n})\nexport class AdminPage {\n  @ViewChild('menuAdmin') menuAdmin: IonMenu;\n  constructor(\n    private navCtrl: NavController,\n  ) { }\n  ionViewWillEnter() {\n    this.menuAdmin.open();\n  }\n  navigate(url: string) {\n    this.navCtrl.navigateForward(url);\n  }\n}\n"],"names":[],"sourceRoot":"webpack:///"}