"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8592],{5062:(w,v,r)=>{r.d(v,{i:()=>n});const n=c=>c&&""!==c.dir?"rtl"===c.dir.toLowerCase():"rtl"===(null==document?void 0:document.dir.toLowerCase())},4560:(w,v,r)=>{r.r(v),r.d(v,{startFocusVisible:()=>m});const n="ion-focused",l=["Tab","ArrowDown","Space","Escape"," ","Shift","Enter","ArrowLeft","ArrowRight","ArrowUp","Home","End"],m=d=>{let u=[],g=!0;const s=d?d.shadowRoot:document,a=d||document.body,i=h=>{u.forEach(p=>p.classList.remove(n)),h.forEach(p=>p.classList.add(n)),u=h},o=()=>{g=!1,i([])},e=h=>{g=l.includes(h.key),g||i([])},t=h=>{if(g&&h.composedPath){const p=h.composedPath().filter(M=>!!M.classList&&M.classList.contains("ion-focusable"));i(p)}},_=()=>{s.activeElement===a&&i([])};return s.addEventListener("keydown",e),s.addEventListener("focusin",t),s.addEventListener("focusout",_),s.addEventListener("touchstart",o),s.addEventListener("mousedown",o),{destroy:()=>{s.removeEventListener("keydown",e),s.removeEventListener("focusin",t),s.removeEventListener("focusout",_),s.removeEventListener("touchstart",o),s.removeEventListener("mousedown",o)},setFocus:i}}},6223:(w,v,r)=>{r.d(v,{a:()=>n,b:()=>s,c:()=>c,d:()=>d,e:()=>a,f:()=>g,g:()=>u,h:()=>m,i:()=>l});const n="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Arrow Down</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M112 268l144 144 144-144M256 392V100' class='ionicon-fill-none'/></svg>",c="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Caret Back</title><path d='M368 64L144 256l224 192V64z'/></svg>",l="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Caret Down</title><path d='M64 144l192 224 192-224H64z'/></svg>",m="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Caret Up</title><path d='M448 368L256 144 64 368h384z'/></svg>",d="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Back</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M328 112L184 256l144 144' class='ionicon-fill-none'/></svg>",u="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Down</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M112 184l144 144 144-144' class='ionicon-fill-none'/></svg>",g="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Forward</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",s="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Forward</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",a="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Ellipsis Horizontal</title><circle cx='256' cy='256' r='48'/><circle cx='416' cy='256' r='48'/><circle cx='96' cy='256' r='48'/></svg>"},5375:(w,v,r)=>{r.d(v,{e:()=>a});var n=r(2340),c=r(1086),l=r(2868),m=r(4850),d=r(7221),u=r(5e3),g=r(8219),s=r(2853);let a=(()=>{class i{constructor(e,t){this.requestService=e,this.alertService=t}getKitById(e){return this.requestService.createGetRequest(`${n.N.moldingApi}datas_kits?page=1&idMM=${e}`).pipe((0,l.b)(t=>this.log(t),t=>{console.error(t),this.alertService.simpleAlert("Erreur Kit","Kit non conforme","Il semble y avoir un probl\xe8me avec le kit scann\xe9. V\xe9rifier le kit et essayer de nouveau.")}),(0,m.U)(t=>{if(console.log(t),t.length>0){const _={id:t[0].id,aCuirAv:t[0].ACuirAv,aDrapAv:t[0].ADrapAv,createdAt:t[0].createdAt,decongel:t[0].Decongel,designationSAP:t[0].DesignationSAP,idMM:t[0].idMM,lotSAP:t[0].LotSAP,peremptionMoins18:t[0].PeremptionMoins18,referenceSAP:t[0].ReferenceSAP,status:t[0].status,tackLife:t[0].TackLife,timeOut:t[0].TimeOut,updateAt:t[0].updateAt};return console.log(_),_}return(0,c.of)(void 0)}),(0,d.K)(t=>this.handleError(t,[])))}isPerim(e,t){return new Date(e)<new Date(t)}kitIsInKits(e,t){return!(t.length<=0)&&t.every(_=>_.idMM===e.idMM)}getIri(e){return`/api/datas_kits/${e.id}`}log(e){console.table(e)}handleError(e,t){return console.error(e),(0,c.of)(t)}}return i.\u0275fac=function(e){return new(e||i)(u.LFG(g.s),u.LFG(s.c))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac}),i})()},9528:(w,v,r)=>{r.d(v,{s:()=>s});var n=r(2340),c=r(4850),l=r(5e3),m=r(5375),d=r(4224),u=r(1377),g=r(8219);let s=(()=>{class a{constructor(o,e,t,_){this.kitService=o,this.toolService=e,this.userService=t,this.requestService=_}saveMolding(o){return this.requestService.createPostRequest(`${n.N.moldingApi}moldings`,o).pipe((0,c.U)(e=>(e.kits=this.moldingServerToMoldingObject(e),e)))}updateMolding(o){return this.requestService.createPatchRequest(`${n.N.moldingApi}moldings/${o.id}`,o)}updateDates(o){o.aCuireAv=null,o.aDraperAv=null,o.matPolym=o.kits.reduce((e,t)=>e.aCuirAv>t.aCuirAv?t:e),o.aCuireAv=o.matPolym.aCuirAv,o.matDrap=o.kits.reduce((e,t)=>e.aDrapAv>t.aDrapAv?t:e),o.aDraperAv=o.matDrap.aDrapAv}moldingServerToMoldingObject(o){return o.kits.map(e=>({aCuirAv:e.ACuirAv,aDrapAv:e.ADrapAv,createdAt:e.createdAt,decongel:e.Decongel,designationSAP:e.DesignationSAP,id:e.id,idMM:e.idMM,lotSAP:e.LotSAP,peremptionMoins18:e.PeremptionMoins18,referenceSAP:e.ReferenceSAP,status:e.status,tackLife:e.TackLife,timeOut:e.TimeOut}))}getMoldingById(o){return this.requestService.createGetRequest(`${n.N.moldingApi}moldings/${o}`).pipe((0,c.U)(e=>(e.kits=this.moldingServerToMoldingObject(e),e)))}getMoldings(){return this.requestService.createGetRequest(`${n.N.moldingApi}moldings`)}toIri(o){return{id:o.id,kits:o.kits.map(e=>this.kitService.getIri(e)),moldingDay:o.moldingDay,createdBy:this.userService.getIri(o.createdBy),outillage:o.OT?this.toolService.getIri(o.OT):null,aCuireAv:o.aCuireAv,aDraperAv:o.aDraperAv,matPolym:this.kitService.getIri(o.matPolym),matDrap:this.kitService.getIri(o.matDrap)}}}return a.\u0275fac=function(o){return new(o||a)(l.LFG(m.e),l.LFG(d.o),l.LFG(u.f),l.LFG(g.s))},a.\u0275prov=l.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()}}]);