"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2914],{2914:($,q,c)=>{c.r(q),c.d(q,{Control3DPageModule:()=>j});var d=c(9808),u=c(3075),l=c(3349),Z=c(8555),g=(()=>{return(n=g||(g={})).mail="Mail",n.dqrc="DQRC",n.pvIndentificationOrControl="PV d\u2019identification ou de contr\xf4le",g;var n})(),p=(()=>{return(n=p||(p={})).bras="Bras",n.laser="Laser",n.laserAndTProbe="laser + TProbe",p;var n})(),e=c(5e3),_=c(9973),h=c(7704),T=c(2853),A=c(2833),f=c(9172),C=c(5075),m=c(8023);const R=["groupTest"];function v(n,r){if(1&n&&(e.TgZ(0,"ion-item"),e.TgZ(1,"ion-label"),e._uU(2),e.qZA(),e.qZA()),2&n){const t=r.$implicit,o=e.oxw();e.xp6(1),e.Udp("text-decoration",(null==o.toolRequest||null==o.toolRequest.controle?null:o.toolRequest.controle.typeRapport)===t.value?"":"line-through"),e.xp6(1),e.Oqu(t.value)}}function D(n,r){if(1&n&&(e.TgZ(0,"ion-item"),e.TgZ(1,"ion-label"),e._uU(2),e.qZA(),e.qZA()),2&n){const t=r.$implicit,o=e.oxw();e.xp6(1),e.Udp("text-decoration",(null==o.toolRequest||null==o.toolRequest.controle?null:o.toolRequest.controle.moyenMesure)===t.value?"":"line-through"),e.xp6(1),e.Oqu(t.value)}}let M=(()=>{class n{constructor(){this.moyenMesure=p,this.typeRapport=g}ngOnChanges(t){console.log(t)}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-controleddd"]],viewQuery:function(t,o){if(1&t&&e.Gf(R,5),2&t){let i;e.iGM(i=e.CRH())&&(o.groupTest=i.first)}},inputs:{toolRequest:"toolRequest"},features:[e.TTD],decls:115,vars:43,consts:[["id","toExport",1,"pdf","page"],[1,"header"],["size","6"],["size","6",1,"ion-float-right"],["size","12"],["no-padding","",1,"table","content"],["size","2"],["src","assets/images/logoDaher.png",1,"logo"],["size","5",1,"ion-text-center"],["size","4"],["size","1"],["size","12",1,"item-rows"],["size","12",1,"ion-text-center"],[1,"etiquette"],["size","6",3,"innerHtml"],[4,"ngFor","ngForOf"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"ion-grid",1),e.TgZ(2,"ion-row"),e.TgZ(3,"ion-col",2),e._uU(4,"Processus \xab D\xe9velopper modifier un avion\xbb"),e.qZA(),e.TgZ(5,"ion-col",3),e._uU(6,"FORMALISME A VENIR"),e.qZA(),e.qZA(),e.TgZ(7,"ion-row"),e.TgZ(8,"ion-col",4),e._uU(9,"\xab Fournir un avion \xbb / \xab D\xe9velopper modifier une a\xe9rostructure \xbb"),e.qZA(),e.qZA(),e.TgZ(10,"ion-row"),e.TgZ(11,"ion-col",2),e._uU(12,"\xab Fournir une a\xe9rostructure \xbb / \xab Maintenir un a\xe9ronef \xbb"),e.qZA(),e.TgZ(13,"ion-col",3),e._uU(14,"Doc de rattachement : (A VENIR)"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(15,"ion-grid",5),e.TgZ(16,"ion-row"),e.TgZ(17,"ion-col",6),e._UZ(18,"ion-img",7),e.qZA(),e.TgZ(19,"ion-col",8),e._uU(20,"MESURE 3D DE DEMANDE OUTILLAGE "),e.qZA(),e.TgZ(21,"ion-col",9),e.TgZ(22,"ion-row"),e.TgZ(23,"ion-col",4),e._uU(24,"N\xb0 r\xe9f. : "),e.qZA(),e.qZA(),e.TgZ(25,"ion-row"),e.TgZ(26,"ion-col",4),e._uU(27),e.ALo(28,"date"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(29,"ion-col",10),e._uU(30,"page 1/1 "),e.qZA(),e.qZA(),e.TgZ(31,"ion-row"),e.TgZ(32,"ion-col",4),e._uU(33),e.qZA(),e.qZA(),e.TgZ(34,"ion-row"),e.TgZ(35,"ion-col",2),e._uU(36),e.qZA(),e.TgZ(37,"ion-col",2),e._uU(38),e.qZA(),e.qZA(),e.TgZ(39,"ion-row"),e.TgZ(40,"ion-col",11),e.TgZ(41,"ion-row"),e.TgZ(42,"ion-col",12),e._uU(43,"DEMANDEUR"),e.qZA(),e.qZA(),e.TgZ(44,"ion-row"),e.TgZ(45,"ion-col",2),e.TgZ(46,"ion-label",13),e._uU(47,"R\xe9f\xe9rence r\xe9glementaire : "),e.qZA(),e.qZA(),e.TgZ(48,"ion-col",2),e._uU(49),e.qZA(),e.qZA(),e.TgZ(50,"ion-row"),e.TgZ(51,"ion-col",2),e.TgZ(52,"ion-label",13),e._uU(53,"Format du mod\xe8le 3D fourni si n\xe9cessaire : "),e.qZA(),e.qZA(),e.TgZ(54,"ion-col",2),e._uU(55),e.qZA(),e.qZA(),e.TgZ(56,"ion-row"),e.TgZ(57,"ion-col",2),e.TgZ(58,"ion-label",13),e._uU(59,"But du contr\xf4le, de l'essai ou de l'expertise : "),e.qZA(),e.qZA(),e._UZ(60,"ion-col",14),e.qZA(),e.TgZ(61,"ion-row"),e.TgZ(62,"ion-col",2),e.TgZ(63,"ion-label",13),e._uU(64,"D\xe9tails de la mesure : "),e.qZA(),e.qZA(),e.TgZ(65,"ion-col",2),e._uU(66),e.qZA(),e.qZA(),e.TgZ(67,"ion-row"),e.TgZ(68,"ion-col",2),e.TgZ(69,"ion-label",13),e._uU(70,"Pr\xe9cision demand\xe9e et attendue : "),e.qZA(),e.qZA(),e.TgZ(71,"ion-col",2),e._uU(72),e.qZA(),e.qZA(),e.TgZ(73,"ion-row"),e.TgZ(74,"ion-col",2),e.TgZ(75,"ion-label",13),e._uU(76,"Date de mise \xe0 disposition au service outillage :"),e.qZA(),e.qZA(),e.TgZ(77,"ion-col",2),e._uU(78),e.ALo(79,"date"),e.qZA(),e.qZA(),e.TgZ(80,"ion-row"),e.TgZ(81,"ion-col",2),e.TgZ(82,"ion-label",13),e._uU(83,"Date butoir demand\xe9e : "),e.qZA(),e.qZA(),e.TgZ(84,"ion-col",2),e._uU(85),e.ALo(86,"date"),e.qZA(),e.qZA(),e.TgZ(87,"ion-row"),e.TgZ(88,"ion-col",2),e.TgZ(89,"ion-label",13),e._uU(90,"Types de rapport :"),e.qZA(),e.qZA(),e.TgZ(91,"ion-col",2),e.YNc(92,v,3,3,"ion-item",15),e.ALo(93,"keyvalue"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(94,"ion-row"),e.TgZ(95,"ion-col",11),e.TgZ(96,"ion-row"),e.TgZ(97,"ion-col",12),e._uU(98,"MESURE 3D OUTILLAGE"),e.qZA(),e.qZA(),e.TgZ(99,"ion-row"),e.TgZ(100,"ion-col",4),e._uU(101),e.ALo(102,"date"),e.qZA(),e.qZA(),e.TgZ(103,"ion-row"),e.TgZ(104,"ion-col",4),e._uU(105,"Moyen de mesure : "),e.YNc(106,D,3,3,"ion-item",15),e.ALo(107,"keyvalue"),e.qZA(),e.qZA(),e.TgZ(108,"ion-row"),e.TgZ(109,"ion-col",4),e._uU(110),e.qZA(),e.qZA(),e.TgZ(111,"ion-row"),e.TgZ(112,"ion-col",4),e._uU(113),e.ALo(114,"date"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(19),e.Udp("font-size","16px"),e.xp6(8),e.hij("Date de demande : ",e.xi3(28,24,null==o.toolRequest?null:o.toolRequest.createdAt,"dd/MM/yyyy")," "),e.xp6(6),e.hij("Demandeur : ",null==o.toolRequest?null:o.toolRequest.controle.demandeur.username,""),e.xp6(3),e.hij("N\xb0 outillage : OT0",null==o.toolRequest||null==o.toolRequest.controle||null==o.toolRequest.controle.outillage?null:o.toolRequest.controle.outillage.sapToolNumber,""),e.xp6(2),e.hij("Oi ou Eotp : ",null==o.toolRequest||null==o.toolRequest.controle?null:o.toolRequest.controle.ligneBudgetaire,""),e.xp6(4),e.Udp("font-weight","bold"),e.xp6(7),e.AsE(" ",null==o.toolRequest?null:o.toolRequest.controle.refPlan,"/",null==o.toolRequest?null:o.toolRequest.controle.indPlan," "),e.xp6(6),e.hij(" ",null==o.toolRequest?null:o.toolRequest.controle.cheminCAO," "),e.xp6(5),e.Q6J("innerHtml",null==o.toolRequest?null:o.toolRequest.controle.description,e.oJD),e.xp6(6),e.hij(" ",null==o.toolRequest?null:o.toolRequest.controle.detailsControle," "),e.xp6(6),e.hij(" ",null==o.toolRequest?null:o.toolRequest.controle.tolerances," "),e.xp6(6),e.hij(" ",e.xi3(79,27,null==o.toolRequest||null==o.toolRequest.controle?null:o.toolRequest.controle.dispoOut,"dd/MM/yyyy")," "),e.xp6(7),e.hij(" ",e.xi3(86,30,null==o.toolRequest||null==o.toolRequest.controle?null:o.toolRequest.controle.dateBesoin,"dd/MM/yyyy")," "),e.xp6(7),e.Q6J("ngForOf",e.lcZ(93,33,o.typeRapport)),e.xp6(5),e.Udp("font-weight","bold"),e.xp6(4),e.hij("Date d\u2019intervention : ",e.xi3(102,35,null==o.toolRequest||null==o.toolRequest.controle?null:o.toolRequest.controle.interventionDate,"dd/MM/yyyy"),""),e.xp6(5),e.Q6J("ngForOf",e.lcZ(107,38,o.moyenMesure)),e.xp6(4),e.hij("Informations compl\xe9mentaires : ",null==o.toolRequest||null==o.toolRequest.controle?null:o.toolRequest.controle.infosComplementaire,""),e.xp6(3),e.AsE("Date : ",e.xi3(114,40,null==o.toolRequest||null==o.toolRequest.controle?null:o.toolRequest.controle.createdAt,"dd/MM/yyyy")," Nom et Signature : ",null==o.toolRequest||null==o.toolRequest.userReal?null:o.toolRequest.userReal.nom," "))},directives:[l.jY,l.Nd,l.wI,l.Xz,l.Q$,d.sg,l.Ie],pipes:[d.uU,d.Nd],styles:[".logo[_ngcontent-%COMP%]{width:100px}.table[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{border:solid 1px}.page[_ngcontent-%COMP%]{width:210mm;height:297mm;background-color:#fff;font-feature-settings:normal;font-variant-numeric:normal}.header[_ngcontent-%COMP%]{font-size:12px}.content[_ngcontent-%COMP%]{font-size:14px}.item-rows[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{padding-bottom:4px}.etiquette[_ngcontent-%COMP%]{text-decoration:underline}"]}),n})();var y=c(8844);const U=["ctrlReasons"],P=["statut"];function E(n,r){if(1&n&&(e.TgZ(0,"ion-text",29),e._uU(1),e.ALo(2,"date"),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,null==t.toolRequest||null==t.toolRequest.controle?null:t.toolRequest.controle.dispoOut,"dd/MM/yyyy "),"")}}function w(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"ion-content"),e.TgZ(1,"ion-datetime",40,41),e.NdJ("ionChange",function(){e.CHM(t);const i=e.MAs(2),a=e.oxw();return a.toolRequest.controle.dispoOut=a.dateValue(i.value)}),e.TgZ(3,"div",42),e._uU(4,"Date de mise \xe0 disposition au service outillage"),e.qZA(),e.qZA(),e.qZA()}}function N(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"ion-content"),e.TgZ(1,"ion-datetime",43,44),e.NdJ("ngModelChange",function(){e.CHM(t);const i=e.MAs(2),a=e.oxw();return a.toolRequest.controle.dateBesoin=a.dateValue(i.value)}),e.TgZ(3,"div",42),e._uU(4,"Date butoir demand\xe9e"),e.qZA(),e.qZA(),e.qZA()}}function O(n,r){if(1&n&&(e.TgZ(0,"ion-select-option",45),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(t.value)}}function S(n,r){if(1&n&&(e.TgZ(0,"ion-text",53),e._uU(1),e.ALo(2,"date"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",e.xi3(2,1,null==t.toolRequest||null==t.toolRequest.controle?null:t.toolRequest.controle.interventionDate,"dd/MM/yyyy"),"")}}function F(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"ion-content"),e.TgZ(1,"ion-datetime",54,55),e.NdJ("ionChange",function(){e.CHM(t);const i=e.MAs(2),a=e.oxw(2);return a.toolRequest.controle.interventionDate=a.dateValue(i.value)}),e.TgZ(3,"div",42),e._uU(4,"Date d'intervention"),e.qZA(),e.qZA(),e.qZA()}}function x(n,r){if(1&n&&(e.TgZ(0,"ion-select-option",45),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(t.value)}}function b(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"ion-card"),e.TgZ(1,"ion-card-header",20),e.TgZ(2,"ion-card-title",6),e._uU(3,"La Mesure"),e.qZA(),e.qZA(),e.TgZ(4,"ion-item",46),e.TgZ(5,"ion-label"),e._uU(6,"Date d'intervention"),e.qZA(),e._UZ(7,"ion-icon",10),e.YNc(8,S,3,4,"ion-text",47),e.TgZ(9,"ion-modal",48),e.YNc(10,F,5,0,"ng-template"),e.qZA(),e.qZA(),e.TgZ(11,"ion-item"),e.TgZ(12,"ion-label"),e._uU(13,"Informations compl\xe9mentaires "),e.qZA(),e.TgZ(14,"ion-input",49,50),e.NdJ("ionChange",function(){e.CHM(t);const i=e.MAs(15);return e.oxw().toolRequest.controle.infosComplementaire=i.value.toString()}),e.qZA(),e.qZA(),e.TgZ(16,"ion-item"),e.TgZ(17,"ion-label"),e._uU(18,"Moyen de mesure"),e.qZA(),e.TgZ(19,"ion-select",51,52),e.NdJ("ionChange",function(){e.CHM(t);const i=e.MAs(20);return e.oxw().toolRequest.controle.moyenMesure=i.value}),e.YNc(21,x,2,2,"ion-select-option",35),e.ALo(22,"keyvalue"),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=e.oxw();e.xp6(8),e.Q6J("ngIf",null==t.toolRequest||null==t.toolRequest.controle?null:t.toolRequest.controle.interventionDate),e.xp6(13),e.Q6J("ngForOf",e.lcZ(22,2,t.moyenMesure))}}const B=function(){return{plugins:"lists link image table wordcount",base_url:"/tinymce",suffix:".min",menubar:!1,statusbar:!1}},I=[{path:"",component:(()=>{class n{constructor(t,o,i,a,s,z,H,G,V){this.toolRequestService=t,this.authService=o,this.alertService=i,this.activatedRoute=a,this.roleGuard=s,this.navCtrl=z,this.loadingControler=H,this.formBuilder=G,this.loaderService=V,this.typeRapport=g,this.canUpDate=!1,this.page={title:"Nouvelle demande de contr\xf4le 3D"}}ionViewWillEnter(){const t=this.activatedRoute.snapshot.paramMap.get("id");t?(this.loaderService.startLoading("Patienter pendant le chargement"),this.loadControlData(t)):this.canUpDate=!1}test(){this.ctrlReasons.getInputElement().then(t=>{console.log(t),this.toolRequest.controle.description=t.innerHTML})}upDateSpec(){console.log("updateSpec"),this.toolRequest.controle.cheminCAO=this.controlForm.controls.caoPath.value,this.toolRequest.controle.refPlan=this.controlForm.controls.refPlan.value,this.toolRequest.controle.indPlan=this.controlForm.controls.indPlan.value,this.toolRequest.controle.description=this.controlForm.controls.ctrlReasons.value,this.toolRequest.controle.detailsControle=this.controlForm.controls.ctrlDetails.value,this.toolRequest.controle.typeRapport=this.controlForm.controls.typeRapport.value,this.toolRequest.controle.tolerances=this.controlForm.controls.precisionTolerances.value,this.toolRequest.controle.ligneBudgetaire=this.controlForm.controls.ligneBudgetaire.value,this.toolRequest.controle.infosComplementaire=this.controlForm.controls.infosComplementaire.value,this.toolRequest.controle.moyenMesure=this.controlForm.controls.moyenMesure.value,this.toolRequest.controle.ligneBudgetaire=this.controlForm.controls.ligneBudgetaire.value}dateValue(t){return new Date(t)}ngOnInit(){console.log("init"),this.controlForm=this.formBuilder.group({refPlan:new u.NI,indPlan:new u.NI,caoPath:new u.NI,ctrlReasons:new u.NI,ctrlDetails:new u.NI,precisionTolerances:new u.NI,dispoTool:new u.NI,needDate:new u.NI,typeRapport:new u.NI,interventionDate:new u.NI,moyenMesure:new u.NI,infosComplementaire:new u.NI,outillage:new u.NI,ligneBudgetaire:new u.NI,statut:new u.NI}),this.toolRequest={createdAt:new Date,demandeur:this.authService.authUser,toolSAP:"",dateBesoin:new Date,type:"",controle:{refPlan:"",indPlan:"",cheminCAO:"",description:"",detailsControle:"",tolerances:"",dispoOut:new Date,dateBesoin:new Date,typeRapport:g.dqrc,interventionDate:null,moyenMesure:p.bras,infosComplementaire:"",demandeur:this.authService.authUser,outillage:null,ligneBudgetaire:"",visaControleur:""}}}ionViewDidLeave(){this.controlForm.reset()}loadControlData(t){this.toolRequestService.getToolRequest(t).then(o=>{this.toolRequestService.getControl(o.controle.id).then(i=>{console.log(o),this.toolRequest=o,this.toolRequest.controle=i,this.controlForm.patchValue({refPlan:this.toolRequest.controle.refPlan,indPlan:this.toolRequest.controle.indPlan,caoPath:this.toolRequest.controle.cheminCAO,ctrlReasons:this.toolRequest.controle.description,ctrlDetails:this.toolRequest.controle.detailsControle,precisionTolerances:this.toolRequest.controle.tolerances,dispoTool:this.toolRequest.controle.dispoOut,needDate:this.toolRequest.controle.dateBesoin,typeRapport:this.toolRequest.controle.typeRapport,interventionDate:this.toolRequest.controle.interventionDate,moyenMesure:this.toolRequest.controle.moyenMesure,infoComplementaires:this.toolRequest.controle.infosComplementaire,outillage:this.toolRequest.controle.outillage.sapToolNumber,ligneBudgetaire:this.toolRequest.controle.ligneBudgetaire,statut:this.toolRequest.statut}),this.page.title="Modification demande de contr\xf4le 3D : ID "+this.toolRequest.id,this.loaderService.stopLoading()}),"NOUVELLE"===this.toolRequest.statut?(this.canUpDate=!0,console.log(this.canUpDate),this.canManage=this.roleGuard.isRole(["ROLE_RESP_OUTIL","ROLE_ADMIN"])):(this.canUpDate=this.roleGuard.isRole(["ROLE_RESP_OUTIL","ROLE_ADMIN"]),this.canManage=this.canUpDate,console.log(this.canUpDate))},()=>{this.navCtrl.back()}).catch(o=>{console.error(o)})}submitControlForm(){this.loaderService.startLoading("Envoie de la demande en cours"),this.upDateSpec(),console.log(this.toolRequest.controle),this.toolRequestService.createControlRequest(this.toolRequest.controle).then(()=>{this.controlForm.reset(),this.alertService.simpleAlert("Message de l'application","Cr\xe9ation d'une demande","La demande a bien \xe9t\xe9 cr\xe9\xe9e. Vous allez \xeatre redirig\xe9 vers la liste des demandes").then(()=>{this.navCtrl.navigateForward("tooling/tool-request-list")})}).finally(()=>{this.loaderService.stopLoading()}).catch(t=>{console.error(t)})}updateForm(){this.loaderService.startLoading("Chargement de la mise \xe0 jour"),this.toolRequestService.updateRequest(this.toolRequest).then(t=>{console.log(t),this.toolRequestService.updateControlRequest(this.toolRequest).then(()=>{this.loaderService.stopLoading(),this.controlForm.reset(),this.alertService.simpleAlert("Message de l'application","Mise \xe0 jour d'une demande","La demande a bien \xe9t\xe9 modifi\xe9e. Vous allez \xeatre redirig\xe9 vers la liste des demandes").then(()=>{this.navCtrl.navigateForward("tooling/tool-request-list")})}).catch(o=>{this.alertService.simpleAlert("Erreur","Mise \xe0 jour d'une demande","La demande n'a pas pu \xeatre modifi\xe9e. V\xe9rifiez les donn\xe9es"),console.error(o)})})}onChangeStatut(t){this.toolRequest.statut=t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.C),e.Y36(h.e),e.Y36(T.c),e.Y36(Z.gz),e.Y36(A.p),e.Y36(l.SH),e.Y36(l.HT),e.Y36(u.qu),e.Y36(f.b))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-control"]],viewQuery:function(t,o){if(1&t&&(e.Gf(U,5),e.Gf(P,5)),2&t){let i;e.iGM(i=e.CRH())&&(o.ctrlReasons=i.first),e.iGM(i=e.CRH())&&(o.ctrlStatut=i.first)}},decls:94,vars:19,consts:[["color","dark"],["color","light",3,"fullscreen"],[1,"content-container"],[1,"control-form"],[1,"main-form",3,"formGroup","ngSubmit"],["color","light","padding",""],[1,"ion-text-uppercase"],[3,"tool","evOnToolChange"],["button","","id","open-modal"],["slot","end",4,"ngIf"],["slot","end","icon","calendar-outline"],["trigger","open-modal"],[1,"flex-row"],["color","danger"],["required","","formControlName","refPlan","type","text","placeholder","indiquer n\xb0 de plan",3,"ionChange"],["refPlan",""],["required","","formControlName","indPlan","type","text","placeholder","indiquer l 'indice du plan",3,"ionChange"],["indPlan",""],["formControlName","caoPath","type","text","placeholder","Fournir CAO et / ou chemin d\u2019acc\xe8s",3,"ionChange"],["caoPath",""],["color","light"],["fill","outline","lines","none"],["slot","","formControlName","ctrlReasons","required","",3,"init","ionChange"],["ctrlReasons",""],["autoGrow","","required","","formControlName","ctrlDetails","type","text","placeholder","lieux, r\xe9f\xe9rentiel...",3,"ionChange"],["ctrlDetails",""],["autoGrow","","required","","formControlName","precisionTolerances","type","text","placeholder","IT plans et sp\xe9cifications de d\xe9finition",3,"ionChange"],["tolerance",""],["button","","id","open-date-butoir"],["slot","end"],["trigger","open-date-butoir "],["required","","formControlName","ligneBudgetaire","type","text","placeholder","Indiquez le n\xb0 pour imputation",3,"ionChange"],["ligneBudgetaire",""],["required","","formControlName","typeRapport",3,"change"],["typeRapportSelect",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"print-preview"],[3,"toolRequest"],[3,"canManage","canUpdate","form","evStatusChange","evSubmit","evUpdate"],["presentation","date","formControlName","dispoTool","display-format","EEEE DD.MMMM.YYYY",3,"ionChange"],["dispoTool",""],["slot","title"],["presentation","date","formControlName","needDate","display-format","DD.MM.YYYY",3,"ngModelChange"],["needDate",""],[3,"value"],["button","","id","open-date-interv"],["slot","end ",4,"ngIf"],["trigger","open-date-interv"],["formControlName","infosComplementaire","type","text","placeholder","Information compl\xe9mentaire",3,"ionChange"],["infosComplementaire",""],["formControlName","moyenMesure",3,"ionChange"],["moyenMesureSelect",""],["slot","end "],["presentation","date","formControlName","interventionDate","display-format","DD.MM.YYYY",3,"ionChange"],["interventionDate",""]],template:function(t,o){if(1&t){const i=e.EpF();e.TgZ(0,"ion-header"),e.TgZ(1,"ion-toolbar",0),e.TgZ(2,"ion-title"),e._uU(3),e.qZA(),e.qZA(),e.qZA(),e.TgZ(4,"ion-content",1),e.TgZ(5,"div",2),e.TgZ(6,"div",3),e.TgZ(7,"form",4),e.NdJ("ngSubmit",function(){return o.submitControlForm()}),e.TgZ(8,"ion-card",5),e.TgZ(9,"ion-card-header"),e.TgZ(10,"ion-card-title",6),e._uU(11,"L'outillage"),e.qZA(),e.qZA(),e.TgZ(12,"app-tool-input",7),e.NdJ("evOnToolChange",function(s){return o.toolRequest.controle.outillage=s}),e.qZA(),e.TgZ(13,"ion-item",8),e.TgZ(14,"ion-label"),e._uU(15,"Date de mise \xe0 disposition au service outillage"),e.qZA(),e.YNc(16,E,3,4,"ion-text",9),e._UZ(17,"ion-icon",10),e.TgZ(18,"ion-modal",11),e.YNc(19,w,5,0,"ng-template"),e.qZA(),e.qZA(),e.TgZ(20,"div",12),e.TgZ(21,"ion-item"),e.TgZ(22,"ion-label"),e._uU(23,"R\xe9f\xe9rence "),e.TgZ(24,"ion-text",13),e._uU(25,"*"),e.qZA(),e.qZA(),e.TgZ(26,"ion-input",14,15),e.NdJ("ionChange",function(){e.CHM(i);const s=e.MAs(27);return o.toolRequest.controle.refPlan=s.value.toString()}),e.qZA(),e.qZA(),e.TgZ(28,"ion-item"),e.TgZ(29,"ion-label"),e._uU(30,"Indice plan "),e.TgZ(31,"ion-text",13),e._uU(32,"*"),e.qZA(),e.qZA(),e.TgZ(33,"ion-input",16,17),e.NdJ("ionChange",function(){e.CHM(i);const s=e.MAs(34);return o.toolRequest.controle.indPlan=s.value.toString()}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(35,"ion-item"),e.TgZ(36,"ion-label"),e._uU(37,"Format du mod\xe8le 3D fourni si n\xe9cessaire "),e.qZA(),e.TgZ(38,"ion-input",18,19),e.NdJ("ionChange",function(){e.CHM(i);const s=e.MAs(39);return o.toolRequest.controle.cheminCAO=s.value.toString()}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(40,"ion-card"),e.TgZ(41,"ion-card-header",20),e.TgZ(42,"ion-card-title",6),e._uU(43,"Le contr\xf4le"),e.qZA(),e.qZA(),e.TgZ(44,"ion-item",21),e.TgZ(45,"ion-label"),e._uU(46,"But du contr\xf4le, de l'essai ou de l 'expertise "),e.TgZ(47,"ion-text",13),e._uU(48,"*"),e.qZA(),e.qZA(),e.TgZ(49,"editor",22,23),e.NdJ("ionChange",function(){return o.test()}),e.qZA(),e.qZA(),e.TgZ(51,"ion-item"),e.TgZ(52,"ion-label"),e._uU(53,"D\xe9tails de la mesure "),e.TgZ(54,"ion-text",13),e._uU(55,"*"),e.qZA(),e.qZA(),e.TgZ(56,"ion-textarea",24,25),e.NdJ("ionChange",function(){e.CHM(i);const s=e.MAs(57);return o.toolRequest.controle.detailsControle=s.value.toString()}),e.qZA(),e.qZA(),e.TgZ(58,"ion-item"),e.TgZ(59,"ion-label"),e._uU(60,"Pr\xe9cision demand\xe9e et attendue "),e.TgZ(61,"ion-text",13),e._uU(62,"*"),e.qZA(),e.qZA(),e.TgZ(63,"ion-textarea",26,27),e.NdJ("ionChange",function(){e.CHM(i);const s=e.MAs(64);return o.toolRequest.controle.tolerances=s.value.toString()}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(65,"ion-card"),e.TgZ(66,"ion-item",28),e.TgZ(67,"ion-label"),e._uU(68,"Date butoir demand\xe9e"),e.qZA(),e._UZ(69,"ion-icon",10),e.TgZ(70,"ion-text",29),e._uU(71),e.ALo(72,"date"),e.qZA(),e.TgZ(73,"ion-modal",30),e.YNc(74,N,5,0,"ng-template"),e.qZA(),e.qZA(),e.TgZ(75,"ion-item"),e.TgZ(76,"ion-label"),e._uU(77,"Oi ou Eotp "),e.TgZ(78,"ion-text",13),e._uU(79,"*"),e.qZA(),e.qZA(),e.TgZ(80,"ion-input",31,32),e.NdJ("ionChange",function(){e.CHM(i);const s=e.MAs(81);return o.toolRequest.controle.ligneBudgetaire=s.value.toString()}),e.qZA(),e.qZA(),e.TgZ(82,"ion-item"),e.TgZ(83,"ion-label"),e._uU(84,"Types de rapport"),e.qZA(),e.TgZ(85,"ion-select",33,34),e.NdJ("change",function(){e.CHM(i);const s=e.MAs(86);return o.toolRequest.controle.typeRapport=s.value}),e.YNc(87,O,2,2,"ion-select-option",35),e.ALo(88,"keyvalue"),e.qZA(),e.qZA(),e.qZA(),e.YNc(89,b,23,4,"ion-card",36),e.qZA(),e.qZA(),e.TgZ(90,"div",37),e._UZ(91,"app-controleddd",38),e.qZA(),e.qZA(),e.qZA(),e.TgZ(92,"ion-footer"),e.TgZ(93,"app-tool-request-footer",39),e.NdJ("evStatusChange",function(s){return o.onChangeStatut(s)})("evSubmit",function(){return o.submitControlForm()})("evUpdate",function(){return o.updateForm()}),e.qZA(),e.qZA()}2&t&&(e.xp6(3),e.Oqu(o.page.title),e.xp6(1),e.Q6J("fullscreen",!1),e.xp6(3),e.Q6J("formGroup",o.controlForm),e.xp6(5),e.Q6J("tool",o.toolRequest.controle.outillage),e.xp6(4),e.Q6J("ngIf",null==o.toolRequest||null==o.toolRequest.controle?null:o.toolRequest.controle.dispoOut),e.xp6(33),e.Q6J("init",e.DdM(18,B)),e.xp6(22),e.hij(" ",e.xi3(72,13,o.toolRequest.controle.dateBesoin,"dd/MM/yyyy"),""),e.xp6(16),e.Q6J("ngForOf",e.lcZ(88,16,o.typeRapport)),e.xp6(2),e.Q6J("ngIf",o.canManage),e.xp6(2),e.Q6J("toolRequest",o.toolRequest),e.xp6(2),e.Q6J("canManage",o.canManage)("canUpdate",o.canUpDate)("form",o.controlForm))},directives:[l.Gu,l.sr,l.wd,l.W2,u._Y,u.JL,u.sg,l.PM,l.Zi,l.Dq,C.b,l.Ie,l.Q$,d.O5,l.gu,l.ki,l.yW,l.pK,l.j9,u.Q7,u.JJ,u.u,m.PG,l.g2,l.QI,l.t9,d.sg,M,l.fr,y.Z,l.x4,l.n0],pipes:[d.uU,d.Nd],styles:[".main-form[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.flex-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.content-container[_ngcontent-%COMP%]{display:flex;height:100%;overflow:hidden}.control-form[_ngcontent-%COMP%], .print-preview[_ngcontent-%COMP%]{overflow-y:auto}"]}),n})(),pathMatch:"full"}];let L=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[Z.Bz.forChild(I)],Z.Bz]}),n})(),J=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[d.ez,l.Pc]]}),n})();var Y=c(1818),Q=c(3522);let j=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[{provide:m.f8,useValue:"tinymce/tinymce.min.js"}],imports:[[d.ez,u.u5,u.UX,l.Pc,L,J,Y.O,Q.y,m.Z_]]}),n})()}}]);