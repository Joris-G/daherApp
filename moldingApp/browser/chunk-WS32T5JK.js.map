{
  "version": 3,
  "sources": ["src/app/_interfaces/tooling/tool-request-types.ts"],
  "sourcesContent": ["/* eslint-disable @typescript-eslint/naming-convention */\r\nimport { AbstractControl, FormControl, FormGroup } from '@angular/forms';\r\nimport { GroupeAffectation } from 'src/app/_interfaces/groupe-affectation';\r\nimport { User } from 'src/app/_interfaces/user';\r\nimport { OutillNoRefSAP, Tool } from './tool';\r\n\r\n\r\n// ============================================================================\r\n// ENUMS\r\n// ============================================================================\r\n\r\nexport enum RequestType {\r\n  SBO = 'sbo',\r\n  MAINTENANCE = 'maintenance',\r\n  CONTROLE = 'controle'\r\n}\r\n\r\nexport enum RequestStatus {\r\n  DRAFT = 'Brouillon',\r\n  SUBMITTED = 'Nouvelle',\r\n  IN_PROGRESS = 'En cours',\r\n  COMPLETED = 'Finalisée',\r\n  RETURNED = 'Retournée',\r\n  CANCELLED = 'Annulée',\r\n  STANDBY = 'En attente'\r\n}\r\n\r\nexport enum TypeRapport {\r\n  MAIL = 'Mail',\r\n  DQRC = 'DQRC',\r\n  PV_IDENTIFICATION = 'PV d`identification ou de contrôle'\r\n}\r\n\r\nexport enum MoyenMesure {\r\n  BRAS = 'Bras',\r\n  LASER = 'Laser',\r\n  LASER_TPROBE = 'laser + TProbe'\r\n}\r\n\r\n\r\n// ============================================================================\r\n// TOOL REQUEST (Demande principale)\r\n// ============================================================================\r\nexport class ToolRequest {\r\n  id?: number;\r\n  type: RequestType;\r\n  typeData?: SpecCtrl | SpecMaintRep | SpecSBO;\r\n  demandeur?: User;\r\n  bloquantProd: boolean;\r\n  createdAt?: Date;\r\n  dateBesoin?: Date;\r\n  outillage?: Tool;\r\n  groupeAffectation?: GroupeAffectation;\r\n  affectation?: string[];\r\n  dateAffectation?: Date;\r\n  datePlanif?: Date;\r\n  statut?: RequestStatus;\r\n  dateReal?: Date;\r\n  userReal?: User;\r\n  toolingNote?: string;\r\n  // controle?: SpecCtrl;\r\n  // maintenance?: SpecMaintRep;\r\n  // sbo?: SpecSBO;\r\n}\r\nexport type ToolRequestCreation = Omit<ToolRequest, 'programme' | 'description'>\r\n\r\n// Type pour les formulaires (sans les champs auto-générés)\r\nexport interface ToolRequestFormValue {\r\n  type: RequestType;\r\n  bloquantProd: boolean;\r\n  dateBesoin?: Date;\r\n  aircraftProgram?: string;\r\n  groupeAffectation?: number;\r\n  toolingNote?: string;\r\n  typeData: FormGroup\r\n}\r\n\r\n// ============================================================================\r\n// SPÉCIFICATIONS CONTRÔLE\r\n// ============================================================================\r\nexport class SpecCtrl {\r\n  id?: number;\r\n  idRequest?: number;\r\n  //TODO faire un choix sur outillage\r\n  outillage?: Tool;\r\n  outillNoRefSAP?: OutillNoRefSAP\r\n  // equipement?: Equipement;\r\n  dateBesoin: Date;\r\n  description: string;\r\n  image?: string;\r\n  fichier?: string;\r\n  refPlan: string;\r\n  indPlan: string;\r\n  cheminCAO?: string;\r\n  detailsControle?: string;\r\n  tolerances?: string;\r\n  dispoOut?: Date;\r\n  typeRapport?: TypeRapport;\r\n  moyenMesure?: MoyenMesure;\r\n  infosComplementaire?: string;\r\n  ligneBudgetaire: string;\r\n  visaControleur?: string;\r\n  userCreat?: string;\r\n  demandeur?: User;\r\n  OT?: Tool;\r\n  createdAt?: Date;\r\n  modifiedAt?: Date;\r\n  userModif?: User;\r\n  interventionDate?: Date;\r\n  statut?: string;\r\n  constructor() { }\r\n}\r\nexport interface SpecCtrlFormValue {\r\n  refPlan: string;\r\n  indPlan: string;\r\n  cheminCAO?: string;\r\n  description: string;\r\n  detailsControle?: string;\r\n  tolerances?: string;\r\n  dispoOut?: Date;\r\n  dateBesoin: Date;\r\n  typeRapport?: TypeRapport;\r\n  moyenMesure?: MoyenMesure;\r\n  infosComplementaire?: string;\r\n  outillage?: number;\r\n  outillNoRefSAP?: OutillNoRefSAP;\r\n  ligneBudgetaire: string;\r\n  visaControleur?: string;\r\n  bloquantProd: boolean;\r\n  immobilisationOutillage: boolean;\r\n}\r\n\r\n// ============================================================================\r\n// SPÉCIFICATIONS MAINTENANCE\r\n// ============================================================================\r\nexport interface SpecMaintRep {\r\n  id?: number;\r\n  outillage?: Tool;\r\n  outillNoRefSAP: OutillNoRefSAP\r\n  itemActionCorrective: MaintenanceItem[];\r\n  // equipement: string;\r\n  // OT?: Tool;\r\n  // equipement?: string;\r\n  // dateBesoin: Date;\r\n  // respo?: string[];\r\n  rep?: string[];\r\n  createdAt?: Date;\r\n  modifiedAt?: Date;\r\n  userCreat?: User;\r\n  userModif?: User;\r\n  userValideur?: User;\r\n  image?: string;\r\n  fichier?: string;\r\n  sigle?: string;\r\n  dateValid?: Date;\r\n  demandeur?: User;\r\n\r\n  // constructor() {\r\n  //   this.itemActionCorrective = [new MaintenanceItem(1)];\r\n  // }\r\n\r\n  // addMaintenanceItem(): number {\r\n  //   const rep = this.itemActionCorrective.length + 1;\r\n  //   const maintenanceItem: MaintenanceItem = new MaintenanceItem(rep);\r\n  //   return this.itemActionCorrective.push(maintenanceItem);\r\n  // }\r\n\r\n  // removeMaintenanceItem(rep: number) {\r\n  //   const index = rep - 1;\r\n  //   delete this.itemActionCorrective[index];\r\n  // }\r\n}\r\n\r\nexport interface MaintenanceItem {\r\n  id?: number;\r\n  rep: number;\r\n  nonConformite: string;\r\n  actionsCorrectives: string;\r\n  respo?: string;\r\n  delaiAction: Date;\r\n  userReal?: string;\r\n  dateReal?: Date;\r\n  // constructor(rep: number) {\r\n  //   this.rep = rep;\r\n  //   // this.delaiAction = new Date();\r\n  // }\r\n}\r\nexport interface SpecMaintenanceFormValue {\r\n  outillage?: number;\r\n  outillNoRefSAP?: OutillNoRefSAP;\r\n  dateBesoin?: Date;\r\n  image?: string;\r\n  fichier?: string;\r\n  sigle?: string;\r\n  userValideur?: number;\r\n  dateValid?: Date;\r\n  itemActionCorrective: MaintenanceItem[];\r\n}\r\n\r\n// ============================================================================\r\n// SPÉCIFICATIONS SBO (Nouvelle demande outillage)\r\n// ============================================================================\r\nexport interface SpecSBO {\r\n  id: number;\r\n  title: string;\r\n  description: string;\r\n  dateBesoin: Date;\r\n  aircraftProgram?: string;\r\n}\r\nexport type SpecSBOCreation = Omit<SpecSBO, \"id\" | \"aircraftProgram\">\r\n\r\nexport interface SpecSBOFormValue {\r\n  title: string;\r\n  description: string;\r\n  dateBesoin: Date;\r\n  aircraftProgram: string;\r\n}\r\n\r\n// ============================================================================\r\n// REQUÊTES COMPLÈTES (avec spécifications)\r\n// ============================================================================\r\n// export interface ControlRequest {\r\n//   toolRequest: ToolRequest;\r\n//   specCtrl: SpecCtrl;\r\n// }\r\n// export interface MaintenanceRequest {\r\n//   toolRequest: ToolRequest;\r\n//   specMaintenance: SpecMaintRep;\r\n// }\r\n// export interface NewTool {\r\n//   toolRequest: ToolRequest;\r\n//   specSbo: SpecSBO;\r\n// }\r\n\r\n\r\n// export class ToolRequestFormGroup extends FormGroup {\r\n//   declare value: ToolRequest;\r\n//   declare controls: {\r\n//     id: AbstractControl;\r\n//     statut: AbstractControl;\r\n//     groupeAffectation?: AbstractControl;\r\n//     demandeur: AbstractControl;\r\n//     createdAt: AbstractControl;\r\n//     dateAffectation: AbstractControl;\r\n//     datePlanif: AbstractControl;\r\n//     dateReal: AbstractControl;\r\n//     bloquantProd: AbstractControl;\r\n//     aircraftProgram: AbstractControl;\r\n//     needDate: AbstractControl;\r\n//     title: AbstractControl;\r\n//   };\r\n//   constructor() {\r\n//     super(({\r\n//       id: new FormControl(),\r\n//       statut: new FormControl(),\r\n//       groupeAffectation: new FormControl(),\r\n//       createdAt: new FormControl(),\r\n//       dateAffectation: new FormControl(),\r\n//       datePlanif: new FormControl(),\r\n//       dateReal: new FormControl(),\r\n//       demandeur: new FormControl(),\r\n//       aircraftProgram: new FormControl(),\r\n//       bloquantProd: new FormControl<boolean>(false),\r\n//       needDate: new FormControl(),\r\n//       title: new FormControl(),\r\n//     }));\r\n//   }\r\n// }\r\n\r\n// export class OutillNoRefSAPFormGroup extends FormGroup {\r\n//   declare value: OutillNoRefSAP;\r\n//   declare controls: {\r\n//     identification: AbstractControl;\r\n//     description: AbstractControl;\r\n//     localisation: AbstractControl<string>;\r\n//   };\r\n//   constructor() {\r\n//     super({\r\n//       identification: new FormControl(''),\r\n//       description: new FormControl(''),\r\n//       localisation: new FormControl(''),\r\n//     });\r\n//   }\r\n// }\r\n\r\n// export class SpecCtrlFormGroup extends FormGroup {\r\n//   declare value: SpecCtrl;\r\n//   declare controls: {\r\n//     refPlan: AbstractControl;\r\n//     indPlan: AbstractControl;\r\n//     cheminCAO: AbstractControl;\r\n//     description: AbstractControl;\r\n//     detailsControle: AbstractControl;\r\n//     tolerances: AbstractControl;\r\n//     dispoOut: AbstractControl;\r\n//     dateBesoin: AbstractControl;\r\n//     typeRapport: AbstractControl;\r\n//     // interventionDate: AbstractControl;\r\n//     moyenMesure: AbstractControl;\r\n//     infosComplementaire: AbstractControl;\r\n//     outillage: AbstractControl;\r\n//     outillNoRefSAP: OutillNoRefSAPFormGroup;\r\n//     ligneBudgetaire: AbstractControl;\r\n//     statut: AbstractControl;\r\n//     visaControleur: AbstractControl;\r\n//     bloquantProd: AbstractControl;\r\n//     immobilisationOutillage: AbstractControl;\r\n//   };\r\n//   constructor() {\r\n//     super({\r\n//       refPlan: new FormControl(''),\r\n//       indPlan: new FormControl(''),\r\n//       cheminCAO: new FormControl(''),\r\n//       description: new FormControl(''),\r\n//       detailsControle: new FormControl(''),\r\n//       tolerances: new FormControl(''),\r\n//       dispoOut: new FormControl(''),\r\n//       dateBesoin: new FormControl(''),\r\n//       typeRapport: new FormControl(''),\r\n//       // interventionDate: new FormControl(''),\r\n//       moyenMesure: new FormControl(''),\r\n//       infosComplementaire: new FormControl(''),\r\n//       outillage: new FormControl(''),\r\n//       outillNoRefSAP: new OutillNoRefSAPFormGroup(),\r\n//       ligneBudgetaire: new FormControl(''),\r\n//       statut: new FormControl(''),\r\n//       visaControleur: new FormControl(''),\r\n//       bloquantProd: new FormControl(''),\r\n//       immobilisationOutillage: new FormControl(''),\r\n//     });\r\n//   }\r\n// }\r\n\r\n// export class MaintFormGroup extends FormGroup {\r\n//   declare value: SpecMaintRep;\r\n//   declare controls: {\r\n//     id?: AbstractControl;\r\n//     outillage?: AbstractControl;\r\n//     equipement?: AbstractControl;\r\n//     dateBesoin?: AbstractControl;\r\n//     image?: AbstractControl;\r\n//     fichier?: AbstractControl;\r\n//     sigle?: AbstractControl;\r\n//     userValideur?: AbstractControl;\r\n//     dateValid?: AbstractControl;\r\n//     itemActionCorrective: ItemActionCorrectiveFormGroup;\r\n//     outillNoRefSAP: OutillNoRefSAPFormGroup;\r\n//   };\r\n//   constructor() {\r\n//     super(\r\n//       {\r\n//         outillage: new FormControl(),\r\n//         dateBesoin: new FormControl(),\r\n//         // equipment: new FormControl(),\r\n//         image: new FormControl(),\r\n//         fichier: new FormControl(),\r\n//         sigle: new FormControl(),\r\n//         userValideur: new FormControl(),\r\n//         dateValid: new FormControl(),\r\n//         itemActionCorrective: new ItemActionCorrectiveFormGroup(),\r\n//         outillNoRefSAP: new OutillNoRefSAPFormGroup(),\r\n//       }\r\n//     );\r\n//     this.value.itemActionCorrective = [new MaintenanceItem(1)];\r\n//   }\r\n// }\r\n\r\n// export class ItemActionCorrectiveFormGroup extends FormGroup {\r\n//   declare value: MaintenanceItem;\r\n//   declare controls: {\r\n//     nonConformite: AbstractControl;\r\n//     actionsCorrectives: AbstractControl;\r\n//     respo?: AbstractControl;\r\n//     delaiAction: AbstractControl<Date>;\r\n//     userReal?: AbstractControl;\r\n//     dateReal?: AbstractControl;\r\n//   };\r\n//   constructor() {\r\n//     super({\r\n//       nonConformite: new FormControl(),\r\n//       actionsCorrectives: new FormControl(),\r\n//       respo: new FormControl(),\r\n//       delaiAction: new FormControl(),\r\n//       userReal: new FormControl(),\r\n//       dateReal: new FormControl()\r\n//     });\r\n//   }\r\n// }\r\n\r\n\r\n// export interface MaintenanceItemFormGroup extends FormGroup {\r\n//   value: MaintenanceItem;\r\n//   controls: {\r\n//     nonConformite: AbstractControl;\r\n//     actionsCorrectives: AbstractControl;\r\n//     respo?: AbstractControl;\r\n//     delaiAction: AbstractControl;\r\n//     userReal?: AbstractControl;\r\n//     dateReal?: AbstractControl;\r\n//     rep: AbstractControl;\r\n//     id?: AbstractControl;\r\n//   };\r\n// }"],
  "mappings": ";AAWA,IAAY;CAAZ,SAAYA,cAAW;AACrB,EAAAA,aAAA,KAAA,IAAA;AACA,EAAAA,aAAA,aAAA,IAAA;AACA,EAAAA,aAAA,UAAA,IAAA;AACF,GAJY,gBAAA,cAAW,CAAA,EAAA;AAMvB,IAAY;CAAZ,SAAYC,gBAAa;AACvB,EAAAA,eAAA,OAAA,IAAA;AACA,EAAAA,eAAA,WAAA,IAAA;AACA,EAAAA,eAAA,aAAA,IAAA;AACA,EAAAA,eAAA,WAAA,IAAA;AACA,EAAAA,eAAA,UAAA,IAAA;AACA,EAAAA,eAAA,WAAA,IAAA;AACA,EAAAA,eAAA,SAAA,IAAA;AACF,GARY,kBAAA,gBAAa,CAAA,EAAA;AAUzB,IAAY;CAAZ,SAAYC,cAAW;AACrB,EAAAA,aAAA,MAAA,IAAA;AACA,EAAAA,aAAA,MAAA,IAAA;AACA,EAAAA,aAAA,mBAAA,IAAA;AACF,GAJY,gBAAA,cAAW,CAAA,EAAA;AAMvB,IAAY;CAAZ,SAAYC,cAAW;AACrB,EAAAA,aAAA,MAAA,IAAA;AACA,EAAAA,aAAA,OAAA,IAAA;AACA,EAAAA,aAAA,cAAA,IAAA;AACF,GAJY,gBAAA,cAAW,CAAA,EAAA;AAUjB,IAAO,cAAP,MAAkB;EACtB;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;",
  "names": ["RequestType", "RequestStatus", "TypeRapport", "MoyenMesure"]
}
