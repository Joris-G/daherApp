{
  "version": 3,
  "sources": ["src/app/molding/services/kit.service.ts", "src/app/_interfaces/molding/molding.ts", "src/app/molding/services/core.service.ts", "src/app/molding/services/other-materials.service.ts", "src/app/molding/services/molding.service.ts", "src/app/_pipes/dateHeure.pipe.ts"],
  "sourcesContent": ["import { Injectable } from '@angular/core';\r\nimport { environment } from 'src/environments/environment';\r\nimport { of } from 'rxjs';\r\nimport { map, } from 'rxjs/operators';\r\nimport { Kit } from 'src/app/_interfaces/molding/composite-material-types';\r\nimport { AlertService } from 'src/app/shared/services/divers/alert.service';\r\nimport { RequestService } from 'src/app/shared/services/request.service';\r\n\r\n@Injectable({ providedIn: \"root\" })\r\nexport class KitService {\r\n  constructor(\r\n    private requestService: RequestService,\r\n    private alertService: AlertService,\r\n  ) { }\r\n\r\n  getKitById(id: string) {\r\n    // const kitSubject: Subject<Kit> = new Subject();\r\n    return this.requestService.createGetRequest(`${environment.moldingApi}datas_kits?page=1&idMM=${id}`)\r\n      .pipe(\r\n        // takeWhile((returnsData) => returnsData.length > 0 ),\r\n        map((returnsData) => {\r\n          if (returnsData.length === 0) {\r\n            this.alertService.simpleAlert(\r\n              `Erreur`,\r\n              `Kit non trouvé`,\r\n              `Veuillez ré-essayer`\r\n            );\r\n            throw new Error(`aucun kit ne correspond au numéro : ${id}`);\r\n          }\r\n          const kit: Kit = {\r\n            id: returnsData[0].id,\r\n            aCuirAv: returnsData[0].ACuirAv,\r\n            aDrapAv: returnsData[0].ADrapAv,\r\n            createdAt: returnsData[0].createdAt,\r\n            decongel: returnsData[0].Decongel,\r\n            designationSAP: returnsData[0].DesignationSAP,\r\n            idMM: returnsData[0].idMM,\r\n            lotSAP: returnsData[0].LotSAP,\r\n            peremptionMoins18: returnsData[0].PeremptionMoins18,\r\n            referenceSAP: returnsData[0].ReferenceSAP,\r\n            status: returnsData[0].status,\r\n            tackLife: returnsData[0].TackLife,\r\n            timeOut: returnsData[0].TimeOut,\r\n            updateAt: returnsData[0].updateAt\r\n          };\r\n          return kit;\r\n        }),\r\n        // catchError((error) => this.handleError(error))\r\n      );\r\n    // return kitSubject;\r\n  }\r\n  // if (returnsData.length > 0) {\r\n  // (error) => {\r\n  //   console.error(error);\r\n\r\n\r\n  isPerim(dateToCheck: Date, baseDate: Date): boolean {\r\n    return (new Date(dateToCheck) < new Date(baseDate));\r\n  }\r\n\r\n  /**\r\n   * test si kit déjà dans le moulage\r\n   *\r\n   * @param kitToTest du type KIT\r\n   * @param kits la liste des kits\r\n   * @return retourne un boolean\r\n   * @memberof KitService\r\n   */\r\n  kitIsInKits(kitToTest: Kit, kits: Kit[]): boolean {\r\n    return kits.some(kit => kit.idMM === kitToTest.idMM);\r\n  }\r\n\r\n  getIri(kit: Kit): string {\r\n    return `/api/datas_kits/${kit.id}`;\r\n  }\r\n\r\n  updateKit(kit: Kit) {\r\n    return this.requestService.createPatchRequest(`${environment.apiServer}/${environment.moldingApi}/datas_kits/${kit.id}`, kit);\r\n  }\r\n  // private async wrongKitInputAlert() {\r\n\r\n  //   const alert = await this.alertController.create({\r\n  //     cssClass: 'my-custom-class',\r\n  //     header: 'Erreur Kit',\r\n  //     subHeader: 'Kit non conforme',\r\n  //     message: 'Il semble y avoir un problème avec le kit scanné. Vérifier le kit et essayer de nouveau.',\r\n  //     buttons: ['OK']\r\n  //   });\r\n\r\n  //   await alert.present();\r\n\r\n  //   const { role } = await alert.onDidDismiss();\r\n  //   // console.log('onDidDismiss resolved with role', role);\r\n  // }\r\n\r\n  private handleError(error: Error, errorValue: any = 'error') {\r\n    // console.error(error);\r\n    this.alertService.simpleAlert(\r\n      'Erreur Kit',\r\n      'Kit non conforme',\r\n      'Il semble y avoir un problème avec le kit scanné. Vérifier le kit et essayer de nouveau.');\r\n    return of();\r\n  }\r\n}\r\n", "import { BehaviorSubject, Subject } from 'rxjs';\r\nimport { Tool } from 'src/app/_interfaces/tooling/tool';\r\nimport { User } from 'src/app/_interfaces/user';\r\nimport { AdditionalMaterial, Core, Kit } from './composite-material-types';\r\n\r\n/**\r\n * En base de donnée :\r\n *\r\n * matPolym &  matDrap : idKit le plus dévaforable respectivement pour la polym et pour le drapage\r\n * moldingUser : id\r\n * kits : boucler sur une autre table pour enregistrer les kits sur avec l'id de moulage en liaison\r\n *\r\n * @export\r\n * @interface Molding\r\n */\r\nexport class Molding {\r\n  id: number;\r\n  kits: Kit[] = [];\r\n  moldingDay: Date = new Date();\r\n  createdBy: User;\r\n  outillage: string;\r\n  aCuireAv?: Date;\r\n  aDraperAv?: Date;\r\n  matPolym?: Kit;\r\n  matDrap?: Kit;\r\n  woList?: any[];\r\n  updatedAt?: Date;\r\n  isActive?: boolean = false;\r\n  userCreat?: User;\r\n  OT?: Tool;\r\n  materialSupplementary?: AdditionalMaterial[] = [];\r\n\r\n  getIri() {\r\n    return `api/moldings/${this.id}`;\r\n  }\r\n}\r\n\r\nexport interface MoldingIri {\r\n  id: number;\r\n  kits: string[];\r\n  moldingDay: Date;\r\n  createdBy?: string;\r\n  outillage: string;\r\n  aCuireAv: Date;\r\n  aDraperAv: Date;\r\n  matPolym: string;\r\n  matDrap: string;\r\n  woList?: any[];\r\n  updatedAt?: Date;\r\n  materialSupplementary?: string[];\r\n}\r\n\r\nexport class MoldingStatus {\r\n  public moldingStatus: Subject<IMoldingStatus> = new BehaviorSubject({\r\n    moldingStatus: false,\r\n    kitStatus: false,\r\n    toolStatus: false\r\n  });\r\n  private toolStatus: boolean;\r\n  private kitStatus: boolean;\r\n  constructor(toolStatus: boolean = false, kitStatus: boolean = false) {\r\n    console.log('new molding status');\r\n    this.kitStatus = kitStatus;\r\n    this.toolStatus = toolStatus;\r\n    this.upDateMoldingStatus();\r\n  }\r\n\r\n  setToolStatus(status: boolean) {\r\n    this.toolStatus = status;\r\n    this.upDateMoldingStatus();\r\n  }\r\n  setKitStatus(status: boolean) {\r\n    this.kitStatus = status;\r\n    this.upDateMoldingStatus();\r\n  }\r\n\r\n  getToolStatus(): boolean {\r\n    return this.toolStatus;\r\n  }\r\n  getKitStatus(): boolean {\r\n    return this.kitStatus;\r\n  }\r\n\r\n  upDateMoldingStatus() {\r\n    const status = (this.kitStatus && this.toolStatus);\r\n    this.moldingStatus.next({\r\n      moldingStatus: status,\r\n      kitStatus: this.kitStatus,\r\n      toolStatus: this.toolStatus\r\n    });\r\n  }\r\n}\r\n\r\nexport interface IMoldingStatus {\r\n  moldingStatus: boolean;\r\n  toolStatus: boolean;\r\n  kitStatus: boolean;\r\n}\r\n", "import { Injectable } from '@angular/core';\r\nimport { Observable, of } from 'rxjs';\r\nimport { AdditionalMaterial, Core } from 'src/app/_interfaces/molding/composite-material-types';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CoreService {\r\n\r\n  getCoreByBatchNumber(batchNumber: string): Observable<Core | undefined> {\r\n    let returnBatchNumber: any = batchNumber.substring(5,).split('~');\r\n    returnBatchNumber = {\r\n      partNumber: returnBatchNumber[0],\r\n      batch1: returnBatchNumber[1],\r\n      //TODO retirer les deux premiers caractères\r\n      batch2: returnBatchNumber[2],\r\n      // TODO batch3: trois derniers caractères de batch2\r\n    };\r\n    const core: Core = {\r\n      idCore: 1,\r\n      batchNumber: returnBatchNumber\r\n    };\r\n    return of(core);\r\n  }\r\n  getIri(obj: AdditionalMaterial){\r\n    return `/api/additional_materials/${obj.id}`;\r\n  }\r\n}\r\n", "import { Injectable } from '@angular/core';\r\nimport { RequestService } from 'src/app/shared/services/request.service';\r\nimport { AdditionalMaterial } from 'src/app/_interfaces/molding/composite-material-types';\r\nimport { environment } from 'src/environments/environment';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class OtherMaterialsService {\r\n\r\n  constructor(private requestService: RequestService) { }\r\n\r\n  addOne(mat: AdditionalMaterial) {\r\n    return this.requestService.createPostRequest(`${environment.moldingApi}additional_materials`, mat);\r\n    // .subscribe(\r\n    //   () => {\r\n    //     console.log('materiau ajouté');\r\n    //   },\r\n    //   (err) => {\r\n    //     console.error('Erreur lors de l\\'ajout du matériau', err);\r\n    //   });\r\n  }\r\n\r\n}\r\n", "import { Injectable } from '@angular/core';\r\nimport { NavController } from '@ionic/angular';\r\nimport { BehaviorSubject, forkJoin, Observable, Subject } from 'rxjs';\r\nimport { finalize, map } from 'rxjs/operators';\r\n\r\nimport { IMoldingStatus, Molding, MoldingIri, MoldingStatus } from 'src/app/_interfaces/molding/molding';\r\nimport { environment } from 'src/environments/environment';\r\nimport { KitService } from './kit.service';\r\nimport { ToolService } from 'src/app/tooling/services/tool.service';\r\nimport { Kit } from 'src/app/_interfaces/molding/composite-material-types';\r\nimport { CoreService } from './core.service';\r\nimport { Tool } from 'src/app/_interfaces/tooling/tool';\r\nimport { OtherMaterialsService } from './other-materials.service';\r\nimport { AlertService } from 'src/app/shared/services/divers/alert.service';\r\nimport { LoadingService } from 'src/app/shared/services/divers/loading.service';\r\nimport { RequestService } from 'src/app/shared/services/request.service';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\n\r\n/**\r\n * Service de gestion des moulages\r\n *\r\n * @export\r\n * @class MoldingService\r\n */\r\n@Injectable({ providedIn: 'root' })\r\nexport class MoldingService {\r\n\tpublic molding: Molding = new Molding();\r\n\tpublic molding$: BehaviorSubject<Molding> = new BehaviorSubject(this.molding);\r\n\tpublic toolStatus: Subject<boolean> = new Subject();\r\n\tpublic moldingStatus$: Observable<IMoldingStatus>;\r\n\tprivate moldingStatus: MoldingStatus = new MoldingStatus();\r\n\r\n\r\n\tconstructor(\r\n\t\tprivate kitService: KitService,\r\n\t\tprivate matService: OtherMaterialsService,\r\n\t\tprivate toolService: ToolService,\r\n\t\tprivate requestService: RequestService,\r\n\t\tprivate coreService: CoreService,\r\n\t\tprivate alertService: AlertService,\r\n\t\tprivate navCtrl: NavController,\r\n\t\tprivate loadingService: LoadingService,\r\n\t\tprivate http: HttpClient,\r\n\t) {\r\n\t\tthis.moldingStatus$ = this.moldingStatus.moldingStatus.asObservable();\r\n\t}\r\n\r\n\t/**\r\n\t *Initilalise un nouveau moulage\r\n\t *\r\n\t * @memberof MoldingService\r\n\t */\r\n\tinitMolding() {\r\n\t\tconst newMolding = new Molding();\r\n\t\tthis.updateMoldings(newMolding);\r\n\t}\r\n\r\n\tsetToolStatus(status?: boolean): void {\r\n\t\tlet toolStatus: boolean;\r\n\t\tif (status) {\r\n\t\t\ttoolStatus = status;\r\n\t\t} else {\r\n\t\t\ttoolStatus = (!!this.molding.OT);\r\n\t\t}\r\n\t\tthis.moldingStatus.setToolStatus(toolStatus);\r\n\t}\r\n\tsetKitStatus(): void {\r\n\t\tconst kitStatus = (this.molding.kits.length > 0);\r\n\t\tthis.moldingStatus.setKitStatus(kitStatus);\r\n\t}\r\n\r\n\r\n\r\n\tremoveKit(index: number) {\r\n\t\tthis.molding.kits.splice(index, 1);\r\n\t\tthis.updateDates();\r\n\t\tthis.updateMoldings();\r\n\t}\r\n\r\n\r\n\t/**\r\n\t *: Observable<Molding>\r\n\t *\r\n\t * @param moldingObject\r\n\t * @return un observable\r\n\t * @memberof MoldingService\r\n\t */\r\n\tsaveMolding(print: boolean) {\r\n\t\t// const check$: Observable<void> = this.checkMoldingDatas();\r\n\t\t// const savingOtherMat$: Observable<any[]> = this.saveOtherMaterials();\r\n\t\t// // const saveMolding: Observable<void>;\r\n\t\t// //TODO check les additionnal materials\r\n\t\t// savingOtherMat$\r\n\t\t//   .subscribe(\r\n\t\t//     (resp: AdditionalMaterial[]) => {\r\n\t\t//       console.log(resp);\r\n\t\t//       this.molding.materialSupplementary = resp;\r\n\t\t// resp.subscribe(() => {\r\n\r\n\r\n\r\n\t\tthis.loadingService.startLoading('Sauvegarde du moulage en cours');\r\n\t\tconst saveMethod = (this.molding.id) ? this.patchMolding() : this.postMolding();\r\n\t\tsaveMethod\r\n\t\t\t.subscribe({\r\n\t\t\t\tnext: (val) => {\r\n\t\t\t\t\tthis.loadingService.stopLoading();\r\n\t\t\t\t\tthis.molding = val;\r\n\t\t\t\t},\r\n\t\t\t\terror: (err) => {\r\n\t\t\t\t\tthis.loadingService.stopLoading();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\r\n\t/**\r\n\t *\r\n\t *\r\n\t * Charge un id de moulage.\r\n\t *\r\n\t * @param moldingId\r\n\t * @memberof MoldingService\r\n\t */\r\n\tloadMolding(moldingId: string): void {\r\n\t\tthis.loadingService.startLoading('Patienter pendant le chargement du moulage');\r\n\t\t// TODO à rebrancher qqp this.molding.updatedAt = new Date();\r\n\t\tthis.getMoldingById(moldingId)\r\n\t\t\t.subscribe(\r\n\t\t\t\t(molding) => {\r\n\t\t\t\t\tthis.updateMoldings(molding);\r\n\t\t\t\t\tthis.loadingService.stopLoading();\r\n\t\t\t\t},\r\n\t\t\t\t(error) => {\r\n\t\t\t\t\tconsole.error(error);\r\n\t\t\t\t\tthis.loadingService.stopLoading();\r\n\t\t\t\t\tthis.alertService.simpleAlert(\r\n\t\t\t\t\t\t'Erreur moulage',\r\n\t\t\t\t\t\t`Erreur de récupération du moulage`,\r\n\t\t\t\t\t\t`Le moulage <strong>${moldingId}</strong> n'existe pas`,\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t}\r\n\r\n\t/**\r\n\t * Recalcul le kit le plus défavorable\r\n\t *\r\n\t * @todo supprimer les lignes commentées\r\n\t * @param molding\r\n\t * @memberof MoldingService\r\n\t */\r\n\tupdateDates(): void {\r\n\t\t// REINITIALISATION\r\n\t\tthis.molding.aCuireAv = null;\r\n\t\tthis.molding.aDraperAv = null;\r\n\t\t// PAS DE KIT PAS DE CALCUL\r\n\t\tif (this.molding.kits.length <= 0) { return; }\r\n\r\n\t\t// IDENTIFIER MATIERES DEFAVORABLES\r\n\t\t// 1. Matière défavaroble pour la poly\r\n\t\tthis.molding.matPolym = this.molding.kits.reduce(\r\n\t\t\t(defPolym, kit) => {\r\n\t\t\t\tif (defPolym.aCuirAv > kit.aCuirAv) {\r\n\t\t\t\t\treturn kit;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn defPolym;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t// 2. Matière défavorable pour le drapage\r\n\t\tthis.molding.matDrap = this.molding.kits.reduce(\r\n\t\t\t(defDrap, kit) => (defDrap.aDrapAv > kit.aDrapAv && !kit.layupDate) ? kit : defDrap);\r\n\r\n\r\n\t\t// RESULTATS DATE LIMITES EN PRENANT EN COMPTE LA POSSIBILITE DE DEPASSEMENT DE LA DATE A -18°C\r\n\t\tconst smallest18Kit = this.molding.kits.reduce((previousKit, kit) => {\r\n\t\t\tif (previousKit.peremptionMoins18 > kit.peremptionMoins18) {\r\n\t\t\t\treturn kit;\r\n\t\t\t}\r\n\t\t\treturn previousKit;\r\n\t\t});\r\n\r\n\t\t// A POLYMERIER AVANT LE :\r\n\t\tif (this.molding.matPolym.aCuirAv < smallest18Kit.peremptionMoins18) {\r\n\t\t\tthis.molding.aCuireAv = this.molding.matPolym.aCuirAv;\r\n\t\t} else {\r\n\t\t\tthis.molding.aCuireAv = smallest18Kit.peremptionMoins18;\r\n\t\t}\r\n\r\n\t\t// A DRAPER AVANT LE :\r\n\t\tif (this.molding.matDrap.aDrapAv < smallest18Kit.peremptionMoins18) {\r\n\t\t\tthis.molding.aDraperAv = this.molding.matDrap.aDrapAv;\r\n\t\t} else {\r\n\t\t\tthis.molding.aDraperAv = smallest18Kit.peremptionMoins18;\r\n\t\t}\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * Construit un objet molding depuis le serveur.\r\n\t *\r\n\t * @param id id du mouage. C'est l'id qui est encodé sur le code barre de la fiche de moulage\r\n\t * @return\r\n\t * @memberof MoldingService\r\n\t */\r\n\tgetMoldingById(id: string): Observable<Molding> {\r\n\t\treturn this.requestService.createGetRequest(`${environment.moldingApi}moldings/${id}`)\r\n\t\t\t.pipe(\r\n\t\t\t\tmap((returnsData: any) => {\r\n\t\t\t\t\treturnsData.kits = this.moldingServerToMoldingObject(returnsData);\r\n\t\t\t\t\treturn returnsData;\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t}\r\n\r\n\r\n\r\n\r\n\taddKit(kit: Kit) {\r\n\t\tconst kitIsInKits = this.kitService.kitIsInKits(kit, this.molding.kits);\r\n\t\tif (!kitIsInKits) {\r\n\t\t\tthis.molding.kits.push(kit);\r\n\t\t\tthis.updateDates();\r\n\t\t\tthis.updateMoldings();\r\n\t\t} else {\r\n\t\t\tthis.alertService.presentToast('Le kit a déjà été scanné');\r\n\t\t\tconsole.error('kit en doublon');\r\n\t\t}\r\n\t}\r\n\r\n\taddNida(material) {\r\n\t\tthis.molding.materialSupplementary.push(material);\r\n\t\tthis.updateMoldings();\r\n\t}\r\n\r\n\t/**\r\n\t * On  traite une entrée d'un Tool\r\n\t *\r\n\t * @private\r\n\t * @param toolObj\r\n\t * @memberof CreateMoldingPage\r\n\t */\r\n\taddTool(responseTool: Tool) {\r\n\t\tthis.molding.OT = responseTool;\r\n\t\tthis.alertService.presentToast('Outillage associé !');\r\n\t\tthis.setToolStatus(true);\r\n\t\tthis.updateMoldings();\r\n\t}\r\n\r\n\tupdateMoldings(updatedMolding?: Molding) {\r\n\t\tif (updatedMolding) { this.molding = updatedMolding; }\r\n\t\tthis.updateDates();\r\n\t\tthis.setKitStatus();\r\n\t\tthis.setToolStatus();\r\n\t\tthis.molding$.next(this.molding);\r\n\t}\r\n\r\n\tasync cancelMolding() {\r\n\t\tconst confirm = await this.alertService.presentAlertConfirm(\r\n\t\t\t`Vous allez annuler ce moulage`,\r\n\t\t\t`Etes vous sur ?`\r\n\t\t);\r\n\t\tif (confirm) {\r\n\t\t\tthis.molding.isActive = false;\r\n\t\t\tthis.updateMoldings();\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tprivate saveOtherMaterials(): Observable<any[]> {\r\n\t\treturn forkJoin(this.molding.materialSupplementary.map(mat => this.matService.addOne(mat)));\r\n\t}\r\n\r\n\tprivate postMolding(): Observable<Molding> {\r\n\t\tconst moldingIri = this.toIri();\r\n\t\treturn this.requestService.createPostRequest(`${environment.moldingApi}moldings`, moldingIri, true);\r\n\t\t// .pipe(\r\n\t\t//   map((response: any) => {\r\n\t\t//       response.kits = this.moldingServerToMoldingObject(response);\r\n\t\t//       return response;\r\n\t\t//     })\r\n\t\t//     );\r\n\t}\r\n\r\n\t/**\r\n\t *\r\n\t *\r\n\t * @param moldingObject\r\n\t * @return observable\r\n\t * @memberof MoldingService\r\n\t */\r\n\tprivate patchMolding(): Observable<Molding> {\r\n\t\tconst moldingIri = this.toIri();\r\n\t\tconst url = `${environment.moldingApi}moldings/${moldingIri.id}`;\r\n\t\treturn this.requestService.createPatchRequest(url, moldingIri)\r\n\t\t\t.pipe(\r\n\t\t\t\tfinalize(() => this.loadingService.stopLoading())\r\n\t\t\t);\r\n\t}\r\n\r\n\r\n\tprivate toIri(): MoldingIri {\r\n\t\tconst molding = this.molding;\r\n\t\treturn {\r\n\t\t\tid: molding.id,\r\n\t\t\tkits: molding.kits.map((kit: Kit) => this.kitService.getIri(kit)),\r\n\t\t\tmaterialSupplementary: molding.materialSupplementary.map((mat: any) => this.coreService.getIri(mat)),\r\n\t\t\tmoldingDay: molding.moldingDay,\r\n\t\t\t// createdBy: this.userService.getIri(molding.createdBy),\r\n\t\t\toutillage: (molding.OT) ? this.toolService.getIri(molding.OT) : null,\r\n\t\t\taCuireAv: molding.aCuireAv,\r\n\t\t\taDraperAv: molding.aDraperAv,\r\n\t\t\tmatPolym: this.kitService.getIri(molding.matPolym),\r\n\t\t\tmatDrap: this.kitService.getIri(molding.matDrap),\r\n\t\t};\r\n\t}\r\n\r\n\t//TODO à supprimer\r\n\t/**\r\n\t * Cette fonction sera à détruire une fois l'issue gitHub #23 sera résolue\r\n\t * https://github.com/Joris-G/daherApp/issues/23\r\n\t *\r\n\t * @param moldingToTransform\r\n\t * @return objet moulage converti depuis la donnée reçue du serveur\r\n\t * @memberof MoldingService\r\n\t */\r\n\tprivate moldingServerToMoldingObject(moldingToTransform: any): Kit[] {\r\n\t\treturn moldingToTransform.kits.map((kitApi: any) => {\r\n\t\t\tconst kit: Kit = {\r\n\t\t\t\taCuirAv: kitApi.ACuirAv,\r\n\t\t\t\taDrapAv: kitApi.ADrapAv,\r\n\t\t\t\tcreatedAt: kitApi.createdAt,\r\n\t\t\t\tdecongel: kitApi.Decongel,\r\n\t\t\t\tdesignationSAP: kitApi.DesignationSAP,\r\n\t\t\t\tid: kitApi.id,\r\n\t\t\t\tidMM: kitApi.idMM,\r\n\t\t\t\tlotSAP: kitApi.LotSAP,\r\n\t\t\t\tperemptionMoins18: kitApi.PeremptionMoins18,\r\n\t\t\t\treferenceSAP: kitApi.ReferenceSAP,\r\n\t\t\t\tstatus: kitApi.status,\r\n\t\t\t\ttackLife: kitApi.TackLife,\r\n\t\t\t\ttimeOut: kitApi.TimeOut\r\n\t\t\t};\r\n\t\t\treturn kit;\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Navigue vers l'impression des moulages\r\n\t *\r\n\t * @private\r\n\t * @memberof CreateMoldingPage\r\n\t */\r\n\tprivate printMolding() {\r\n\t\tthis.navCtrl.navigateForward(['molding/print-molding-sheet', this.molding.id]);\r\n\t}\r\n}\r\n", "import { formatDate } from '@angular/common';\r\nimport { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n    name: 'DateHeure',\r\n    standalone: true\r\n})\r\nexport class DateHeurePipe implements PipeTransform {\r\n\r\n  transform(date: Date): string {\r\n    if (date) {\r\n      return formatDate(date, 'dd/MM/yyyy à HH:mm', 'FR');\r\n    }\r\n  }\r\n\r\n}\r\n"],
  "mappings": "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",
  "names": ["KitService", "CoreService", "OtherMaterialsService", "MoldingService", "DateHeurePipe"]
}
