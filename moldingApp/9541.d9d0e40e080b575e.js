"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9541],{5786:(A,l,s)=>{s.d(l,{p:()=>O});var v=s(5e3),p=s(3919),e=s(512),g=s(1661);let O=(()=>{class E{constructor(m,u,t){this.authService=m,this.alerteService=u,this.router=t}canActivate(m){const t=this.isRole(m.data.expectedRole);return t||(this.alerteService.simpleAlert("Alerte de l'application","Autorisation","Vous n'avez pas acc\xe8s \xe0 cette page"),this.router.navigate(["home"])),this.authService.isAuth&&t&&this.authService.authUser.isActive}isRole(m){return!!this.authService.authUser&&m.some(u=>this.authService.authUser.roles.includes(u))}}return E.\u0275fac=function(m){return new(m||E)(v.LFG(p.e),v.LFG(e.c),v.LFG(g.F0))},E.\u0275prov=v.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})()},9541:(A,l,s)=>{s.r(l),s.d(l,{AppMoldingModule:()=>Ve});var v=s(1661),p=s(8555),e=s(5e3);let g=(()=>{class c{}return c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=e.oAB({type:c}),c.\u0275inj=e.cJS({}),c})();var O=s(8576),E=s(4446);let _=(()=>{class c{}return c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=e.oAB({type:c}),c.\u0275inj=e.cJS({imports:[O.o,g,E.d]}),c})();var m=s(8929),u=s(1086),t=s(5254),n=s(6015),o=s(2644),i=s(2961),r=s(388),f=s(655),d=s(9808),h=s(9928),M=s(3075),T=s(2340),x=s(6322);function k(c,b){if(1&c&&(e.TgZ(0,"ion-item")(1,"ion-label"),e._uU(2),e.qZA(),e._UZ(3,"ion-radio",4),e.qZA()),2&c){const a=b.$implicit;e.xp6(2),e.Oqu(a.ref),e.xp6(1),e.Q6J("value",a.ref)}}function B(c,b){if(1&c&&(e.TgZ(0,"ion-list"),e.YNc(1,k,4,2,"ion-item",10),e.qZA()),2&c){const a=b.ngIf;e.xp6(1),e.Q6J("ngForOf",a.NIDA)}}let L=(()=>{class c{constructor(a,y,S){this.formBuilder=a,this.requestService=y,this.moldingService=S,this.nidaEmitter=new e.vpe}ngOnInit(){this.nidaForm=this.formBuilder.group({numLot:new M.NI(this.batchNumberInput),id:new M.NI,designation:new M.NI,ref:new M.NI(""),typeMaterial:new M.NI,outillageMoulage:new M.NI}),this.references$=this.requestService.createGetRequest(`${T.N.moldingApi}additional_materials`,{outillageMoulage:`api/tools/${this.moldingService.molding.OT.id}`,page:"1",itemsPerPage:"50"})}validate(){this.moldingService.addNida(this.nidaForm.value),this.nidaEmitter.emit(this.nidaForm.value)}changeInput(){console.log("input change")}}return c.\u0275fac=function(a){return new(a||c)(e.Y36(M.qu),e.Y36(x.s),e.Y36(r.s))},c.\u0275cmp=e.Xpm({type:c,selectors:[["app-nida"]],inputs:{batchNumberInput:"batchNumberInput"},outputs:{nidaEmitter:"nidaEmitter"},decls:20,vars:6,consts:[[1,"title"],[3,"formGroup","ngSubmit"],["formControlName","ref","required","true","allowEmptySelection","true"],["radioGroup",""],["slot","start",3,"value"],["type","text","placeholder","entr\xe9e la r\xe9f\xe9rence du nida"],["manualInput",""],[4,"ngIf"],["slot","end"],["type","submit","color","success","fill","solid",3,"disabled"],[4,"ngFor","ngForOf"]],template:function(a,y){if(1&a&&(e.TgZ(0,"div",0)(1,"h2"),e._uU(2,"R\xe9f\xe9rence"),e.qZA(),e.TgZ(3,"p"),e._uU(4,"S\xe9lectionner la r\xe9f\xe9rence qui correspond"),e.qZA()(),e.TgZ(5,"form",1),e.NdJ("ngSubmit",function(){return y.validate()}),e.TgZ(6,"ion-radio-group",2,3)(8,"ion-item")(9,"ion-label"),e._uU(10,"Autre :"),e.qZA(),e._UZ(11,"ion-radio",4)(12,"ion-input",5,6),e.qZA(),e.YNc(14,B,2,1,"ion-list",7),e.ALo(15,"async"),e.qZA(),e.TgZ(16,"ion-toolbar")(17,"ion-buttons",8)(18,"ion-button",9),e._uU(19," Valider "),e.qZA()()()()),2&a){const S=e.MAs(13);e.xp6(5),e.Q6J("formGroup",y.nidaForm),e.xp6(6),e.Q6J("value",S.value),e.xp6(3),e.Q6J("ngIf",e.lcZ(15,4,y.references$)),e.xp6(4),e.Q6J("disabled",y.nidaForm.invalid)}},dependencies:[d.sg,d.O5,h.YG,h.Sm,h.pK,h.Ie,h.Q$,h.q_,h.B7,h.se,h.sr,h.U5,h.QI,h.j9,M._Y,M.JJ,M.JL,M.Q7,M.sg,M.u,d.Ov]}),c})();const F=["materialSegment"];function j(c,b){if(1&c){const a=e.EpF();e.ynx(0),e.TgZ(1,"app-nida",12),e.NdJ("nidaEmitter",function(S){e.CHM(a);const R=e.oxw();return e.KtG(R.materialObject.next(S))}),e.qZA(),e.BQk()}if(2&c){const a=e.oxw();e.xp6(1),e.Q6J("batchNumberInput",a.batchNumber)}}function w(c,b){1&c&&(e.ynx(0),e._uU(1," Ce module est en cours de cr\xe9ation "),e.BQk())}let I=(()=>{class c{constructor(){this.typeInputEv=new e.vpe}ngOnDestroy(){this.materialObject.unsubscribe()}ngOnInit(){console.log("init")}typeClick(a){this.selectedType=a}validate(){this.materialObject.next(this.material)}}return c.\u0275fac=function(a){return new(a||c)},c.\u0275cmp=e.Xpm({type:c,selectors:[["app-non-expired-material-input"]],viewQuery:function(a,y){if(1&a&&e.Gf(F,5),2&a){let S;e.iGM(S=e.CRH())&&(y.materialSegment=S.first)}},inputs:{materialObject:"materialObject",batchNumber:"batchNumber"},outputs:{typeInputEv:"typeInputEv"},decls:33,vars:4,consts:[["fullscreen","true",1,"ion-padding"],[1,"orinal-input"],["color","primary"],[1,"type"],[1,"label"],["scrollable","true","swipeGesture","true",3,"ngModel","ngModelChange"],["materialSegment",""],["value","nida"],["value","densif"],["value","clinquant"],["value","insert"],[4,"ngIf"],[3,"batchNumberInput","nidaEmitter"]],template:function(a,y){1&a&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"Mat\xe9riau non reconnu automatiquement"),e.qZA()()(),e.TgZ(4,"ion-content",0)(5,"div",1)(6,"h1"),e._uU(7,"Entr\xe9e : "),e.TgZ(8,"span",2),e._uU(9),e.qZA()()(),e._UZ(10,"ion-item-divider"),e.TgZ(11,"div",3)(12,"div",4)(13,"h1"),e._uU(14,"Type de l'entr\xe9e"),e.qZA(),e.TgZ(15,"p"),e._uU(16,"S\xe9lectionner le type de mat\xe9riau"),e.qZA()(),e.TgZ(17,"ion-segment",5,6),e.NdJ("ngModelChange",function(R){return y.selectedType=R}),e.TgZ(19,"ion-segment-button",7)(20,"ion-label"),e._uU(21,"Nida"),e.qZA()(),e.TgZ(22,"ion-segment-button",8)(23,"ion-label"),e._uU(24,"Densification"),e.qZA()(),e.TgZ(25,"ion-segment-button",9)(26,"ion-label"),e._uU(27,"Clinquant"),e.qZA()(),e.TgZ(28,"ion-segment-button",10)(29,"ion-label"),e._uU(30,"Insert"),e.qZA()()()(),e.YNc(31,j,2,1,"ng-container",11),e.YNc(32,w,2,0,"ng-container",11),e.qZA()),2&a&&(e.xp6(9),e.Oqu(y.batchNumber),e.xp6(8),e.Q6J("ngModel",y.selectedType),e.xp6(14),e.Q6J("ngIf","nida"===y.selectedType),e.xp6(1),e.Q6J("ngIf","nida"!==y.selectedType))},dependencies:[d.O5,h.W2,h.Gu,h.rH,h.Q$,h.cJ,h.GO,h.sr,h.wd,h.QI,M.JJ,M.On,L]}),c})(),Z=(()=>{class c{constructor(a){this.modalCtrl=a}createModal(a){return(0,f.mG)(this,void 0,void 0,function*(){this.materialObject=new m.xQ,yield(yield this.modalCtrl.create({component:I,componentProps:{materialObject:this.materialObject,batchNumber:a}})).present(),this.materialObject.subscribe(()=>{this.modalCtrl.dismiss(),this.materialObject.unsubscribe()})})}}return c.\u0275fac=function(a){return new(a||c)(e.LFG(h.IN))},c.\u0275prov=e.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();const P=new RegExp("^([0-9]){8}-[0-9]$"),C=new RegExp("^PR[A-Z]([0-9]){5}$"),D=new RegExp("^OT([0-9]){6}$"),H=new RegExp("^]C201");let G=(()=>{class c{constructor(a,y,S,R,U){this.kitService=a,this.toolService=y,this.coreService=S,this.moldingService=R,this.materialModalService=U,this.focusState$=new m.xQ,this.scanInput$=new m.xQ,this.scanOperations$=new m.xQ,this.scanState=!1}getScanInput(a){const y=this.getTypeInput(a);switch(console.log(y),y){case"kit":return this.sendKit(a);case"tool":return this.sendTool(a);case"prog":return(0,u.of)(null);case"":return(0,t.D)(this.materialModalService.createModal(a))}}getTypeInput(a){return a.match(P)?"kit":a.match(D)?"tool":a.match(H)?"core":a.match(C)?"prog":""}toggleFocusOnInput(){this.scanState=!this.scanState,this.focusState$.next(this.scanState)}sendKit(a){return this.kitService.getKitById(a).subscribe(S=>{console.log(S),this.moldingService.addKit(S),this.scanOperations$.next()},S=>{console.error(S),this.scanOperations$.next()}),this.scanOperations$}sendTool(a){return a.startsWith("OT0")&&(a=a.substr(3)),this.toolService.getToolByToolNumber(a).subscribe(y=>{this.moldingService.addTool(y),this.scanOperations$.next()},y=>{console.error(y),this.scanOperations$.next()}),this.scanOperations$}sendCore(a){return this.coreService.getCoreByBatchNumber(a)}}return c.\u0275fac=function(a){return new(a||c)(e.LFG(n.e),e.LFG(o.o),e.LFG(i.p),e.LFG(r.s),e.LFG(Z))},c.\u0275prov=e.Yz7({token:c,factory:c.\u0275fac}),c})();var Q=s(6702);let Y=(()=>{class c{}return c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=e.oAB({type:c}),c.\u0275inj=e.cJS({providers:[G,n.e,r.s,o.o,Z,Q.N]}),c})();var J=s(5786),X=s(2516);const K=["scanInput"],V=["scanButton"];function W(c,b){1&c&&e._UZ(0,"ion-spinner",5)}let ee=(()=>{class c{constructor(a){this.scanService=a,this.evOnInput=new e.vpe,a.focusState$.subscribe(y=>{y&&this.scanInput.setFocus()})}ngOnInit(){}ngAfterViewInit(){}switchScanState(){this.scanService.toggleFocusOnInput()}inputOnBlur(){this.scanButton.color="danger",this.scanButtonText="SCAN INACTIF"}inputOnFocus(){this.scanButton.color="success",this.scanButtonText="SCAN ACTIF"}onInputChange(a){this.startLoading(),this.scanService.getScanInput(a).subscribe(()=>{this.stopLoading()},y=>{console.error(y),this.stopLoading()})}startLoading(){this.loading=!0}stopLoading(){this.scanInput.value="",this.loading=!1}}return c.\u0275fac=function(a){return new(a||c)(e.Y36(G))},c.\u0275cmp=e.Xpm({type:c,selectors:[["app-scan-molding-input"]],viewQuery:function(a,y){if(1&a&&(e.Gf(K,5),e.Gf(V,5)),2&a){let S;e.iGM(S=e.CRH())&&(y.scanInput=S.first),e.iGM(S=e.CRH())&&(y.scanButton=S.first)}},outputs:{evOnInput:"evOnInput"},decls:6,vars:2,consts:[["slot","start","size","small","fill","solid","size","default",3,"click"],["scanButton",""],["name","dots",4,"ngIf"],["slot","start","type","text","placeholder","scanner une fiche de vie KIT ou un n\xb0Outillage",3,"change","focusout","focusin"],["scanInput",""],["name","dots"]],template:function(a,y){if(1&a){const S=e.EpF();e.TgZ(0,"ion-button",0,1),e.NdJ("click",function(){return y.switchScanState()}),e._uU(2),e.qZA(),e.YNc(3,W,1,0,"ion-spinner",2),e.TgZ(4,"ion-input",3,4),e.NdJ("change",function(){e.CHM(S);const U=e.MAs(5);return e.KtG(y.onInputChange(U.value.toString()))})("focusout",function(){return y.inputOnBlur()})("focusin",function(){return y.inputOnFocus()}),e.qZA()}2&a&&(e.xp6(2),e.hij(" ",y.scanButtonText,"\n"),e.xp6(1),e.Q6J("ngIf",y.loading))},dependencies:[d.O5,h.YG,h.pK,h.PQ,h.j9],styles:["[_nghost-%COMP%]{width:33%;display:flex;width:200%;align-items:center}"]}),c})();var N=s(8402);let te=(()=>{class c{constructor(){}ngOnInit(){}}return c.\u0275fac=function(a){return new(a||c)},c.\u0275cmp=e.Xpm({type:c,selectors:[["app-kit-details"]],inputs:{kit:"kit"},decls:38,vars:12,template:function(a,y){1&a&&(e.TgZ(0,"ion-card")(1,"ion-card-header")(2,"ion-card-subtitle"),e._uU(3,"D\xe9tails du kit"),e.qZA(),e.TgZ(4,"ion-card-title"),e._uU(5),e.qZA()(),e.TgZ(6,"ion-card-content")(7,"ion-list")(8,"ion-item")(9,"ion-label"),e._uU(10),e.qZA()(),e.TgZ(11,"ion-item")(12,"ion-label"),e._uU(13),e.qZA()(),e.TgZ(14,"ion-item")(15,"ion-label"),e._uU(16),e.qZA()(),e.TgZ(17,"ion-item")(18,"ion-label"),e._uU(19),e.qZA()(),e.TgZ(20,"ion-item")(21,"ion-label"),e._uU(22),e.qZA()(),e.TgZ(23,"ion-item")(24,"ion-label"),e._uU(25),e.qZA()(),e.TgZ(26,"ion-item")(27,"ion-label"),e._uU(28),e.qZA()(),e.TgZ(29,"ion-item")(30,"ion-label"),e._uU(31),e.qZA()(),e.TgZ(32,"ion-item")(33,"ion-label"),e._uU(34),e.qZA()(),e.TgZ(35,"ion-item")(36,"ion-label"),e._uU(37),e.qZA()()()()()),2&a&&(e.xp6(5),e.AsE(" ",y.kit.id," ",y.kit.designationSAP," "),e.xp6(5),e.hij("status : ",y.kit.status,""),e.xp6(3),e.hij("N\xb0 SAP : ",y.kit.referenceSAP,""),e.xp6(3),e.hij("ID MM : ",y.kit.idMM,""),e.xp6(3),e.hij("A cuire avant le : ",y.kit.aCuirAv,""),e.xp6(3),e.hij("A draper avant le : ",y.kit.aDrapAv,""),e.xp6(3),e.hij("P\xe9remption \xe0 -18\xb0C : ",y.kit.peremptionMoins18,""),e.xp6(3),e.hij("Cr\xe9\xe9 le : ",y.kit.createdAt,""),e.xp6(3),e.hij("Date et heure sortie du cong\xe9lateur :",y.kit.decongel," "),e.xp6(3),e.hij("TackLife : ",y.kit.tackLife,""),e.xp6(3),e.hij("Timeout : ",y.kit.timeOut,""))},dependencies:[h.PM,h.FN,h.Zi,h.tO,h.Dq,h.Ie,h.Q$,h.q_]}),c})(),ne=(()=>{class c{constructor(a,y,S){this.el=a,this.kitService=y,this.moldingService=S}ngOnChanges(a){const S=this.kitService.isPerim(this.appPeremp.dateToCompare,this.moldingService.molding.moldingDay)&&!this.appPeremp.isLayup;console.log(S),this.el.nativeElement.style.color=S?"var(--ion-color-danger)":""}ngOnInit(){}}return c.\u0275fac=function(a){return new(a||c)(e.Y36(e.SBq),e.Y36(n.e),e.Y36(r.s))},c.\u0275dir=e.lG2({type:c,selectors:[["","appPeremp",""]],inputs:{appPeremp:"appPeremp"},features:[e.TTD]}),c})();function ie(c,b){1&c&&(e.TgZ(0,"ion-text",18),e._uU(1,"(Drap)"),e.qZA())}function oe(c,b){1&c&&(e.TgZ(0,"ion-text",18),e._uU(1,"(Pol)"),e.qZA())}function re(c,b){1&c&&e._UZ(0,"ion-icon",19)}const q=function(c){return{dateToCompare:c}},ae=function(c,b){return{dateToCompare:c,isLayup:b}};function ue(c,b){if(1&c){const a=e.EpF();e.TgZ(0,"ion-row",7)(1,"ion-item-sliding",8,9)(3,"ion-item",10),e.NdJ("mouseover",function(){e.CHM(a);const S=e.MAs(2),R=e.oxw();return e.KtG(R.openOptions(S))}),e.TgZ(4,"ion-col",2),e.YNc(5,ie,2,0,"ion-text",11),e.YNc(6,oe,2,0,"ion-text",11),e.TgZ(7,"ion-text",12),e._uU(8),e.qZA()(),e.TgZ(9,"ion-col",3),e._uU(10),e.qZA(),e.TgZ(11,"ion-col",4),e._uU(12),e.qZA(),e.TgZ(13,"ion-col",5)(14,"ion-text",13),e._uU(15),e.ALo(16,"date"),e.qZA()(),e.TgZ(17,"ion-col",5)(18,"ion-text",13),e._uU(19),e.ALo(20,"date"),e.qZA(),e.YNc(21,re,1,0,"ion-icon",14),e.qZA(),e.TgZ(22,"ion-col",5)(23,"ion-text",13),e._uU(24),e.ALo(25,"date"),e.qZA()()(),e.TgZ(26,"ion-item-options")(27,"ion-item-option",15),e.NdJ("click",function(){const R=e.CHM(a).$implicit,U=e.oxw();return e.KtG(U.openDetails(R))}),e._uU(28,"D\xe9tails"),e.qZA(),e.TgZ(29,"ion-item-option",15),e.NdJ("click",function(){const R=e.CHM(a).$implicit,U=e.oxw();return e.KtG(U.layedKitClick(R))}),e._uU(30,"Drap\xe9"),e.qZA(),e.TgZ(31,"ion-item-option",16),e.NdJ("click",function(){const R=e.CHM(a).index,U=e.oxw();return e.KtG(U.removeKitClick(R))}),e._UZ(32,"ion-icon",17),e._uU(33," Supprimer "),e.qZA()()()()}if(2&c){const a=b.$implicit,y=e.oxw();e.xp6(1),e.Q6J("disabled",!0),e.xp6(4),e.Q6J("ngIf",a.id===y.molding.matDrap.id),e.xp6(1),e.Q6J("ngIf",a.id===y.molding.matPolym.id),e.xp6(2),e.hij(" ",a.idMM," "),e.xp6(2),e.Oqu(a.designationSAP),e.xp6(2),e.Oqu(a.referenceSAP),e.xp6(2),e.Q6J("appPeremp",e.VKq(22,q,a.peremptionMoins18)),e.xp6(1),e.hij(" ",e.xi3(16,13,a.peremptionMoins18,"dd/MM/yyyy \xe0 HH:mm")," "),e.xp6(3),e.Q6J("appPeremp",e.WLB(24,ae,a.aDrapAv,!!a.layupDate)),e.xp6(1),e.hij(" ",e.xi3(20,16,a.aDrapAv,"dd/MM/yyyy \xe0 HH:mm")," "),e.xp6(2),e.Q6J("ngIf",a.layupDate),e.xp6(2),e.Q6J("appPeremp",e.VKq(27,q,a.aCuirAv)),e.xp6(1),e.hij(" ",e.xi3(25,19,a.aCuirAv,"dd/MM/yyyy \xe0 HH:mm")," ")}}let le=(()=>{class c{constructor(a,y,S,R){this.moldingService=a,this.modalCtrl=y,this.alertCtrl=S,this.kitService=R,this.dataSource=new N.by,this.displayedColumns=["referenceSAP","idMM","designationSAP","peremptionMoins18","aDrapAv","aCuirAv","commands"]}removeKitClick(a){this.moldingService.removeKit(a)}openOptions(a){console.log(a),a.open("end"),setTimeout(()=>{a.close()},3e3)}openDetails(a){return(0,f.mG)(this,void 0,void 0,function*(){(yield this.modalCtrl.create({component:te,componentProps:{kit:a}})).present()})}layedKitClick(a){return(0,f.mG)(this,void 0,void 0,function*(){const y=yield this.alertCtrl.create({message:"D\xe9clarer le kit comme moul\xe9",buttons:[{text:`Oui maintenant : ${(new Date).toISOString()}`,handler:S=>{a.layupDate=new Date,this.kitService.updateKit(a),this.moldingService.updateMoldings()}},{text:"Oui et modifier la date",handler:S=>{a.layupDate=new Date,this.kitService.updateKit(a),this.moldingService.updateMoldings()}},{text:"Non",handler:S=>(0,f.mG)(this,void 0,void 0,function*(){yield y.dismiss()})}]});yield y.present()})}}return c.\u0275fac=function(a){return new(a||c)(e.Y36(r.s),e.Y36(h.IN),e.Y36(h.Br),e.Y36(n.e))},c.\u0275cmp=e.Xpm({type:c,selectors:[["app-molding-kit-table"]],inputs:{molding:"molding"},decls:15,vars:1,consts:[["fixed","",1,"table",2,"width","100%"],["color","light",1,"table-header-row","ion-padding"],["size","2","size-lg","1","size-md","2"],["size","3","size-lg","3","size-md","6"],["size","1","size-lg","1","size-md","2"],["size","2","size-lg","2","size-md","4"],["class","table-data-row",4,"ngFor","ngForOf"],[1,"table-data-row"],[3,"disabled"],["slidingItem",""],["button","","lines","none",3,"mouseover"],["class","strong",4,"ngIf"],["color","primary"],[3,"appPeremp"],["name","stop-circle-outline",4,"ngIf"],[3,"click"],["color","danger",3,"click"],["slot","top","name","trash-outline"],[1,"strong"],["name","stop-circle-outline"]],template:function(a,y){1&a&&(e.TgZ(0,"ion-grid",0)(1,"ion-row",1)(2,"ion-col",2),e._uU(3,"ID-MM"),e.qZA(),e.TgZ(4,"ion-col",3),e._uU(5,"D\xe9signation"),e.qZA(),e.TgZ(6,"ion-col",4),e._uU(7,"R\xe9f\xe9rence"),e.qZA(),e.TgZ(8,"ion-col",5),e._uU(9,"P\xe9remption \xe0 -18\xb0C"),e.qZA(),e.TgZ(10,"ion-col",5),e._uU(11,"\xe0 draper avant le"),e.qZA(),e.TgZ(12,"ion-col",5),e._uU(13,"\xe0 cuire avant le"),e.qZA()(),e.YNc(14,ue,34,29,"ion-row",6),e.qZA()),2&a&&(e.xp6(14),e.Q6J("ngForOf",y.molding.kits))},dependencies:[d.sg,d.O5,h.wI,h.jY,h.gu,h.Ie,h.u8,h.IK,h.td,h.Nd,h.yW,ne,d.uU],styles:[".table[_ngcontent-%COMP%]{color:#000}.table-header-row[_ngcontent-%COMP%]{text-transform:uppercase;font-size:14px;background-color:#f4f5f8}.table-data-row[_ngcontent-%COMP%]{font-size:16px}ion-item[_ngcontent-%COMP%]{--background-hover: var(--ion-color-secondary)}"]}),c})();function ce(c,b){if(1&c&&(e.TgZ(0,"ion-row",4)(1,"ion-col",2)(2,"ion-label"),e._uU(3),e.qZA()(),e.TgZ(4,"ion-col",2)(5,"ion-label"),e._uU(6),e.qZA()()()),2&c){const a=b.$implicit;e.xp6(3),e.hij(" ",a.numLot," "),e.xp6(3),e.hij(" ",a.ref," ")}}let fe=(()=>{class c{constructor(){}ngOnInit(){}}return c.\u0275fac=function(a){return new(a||c)},c.\u0275cmp=e.Xpm({type:c,selectors:[["app-molding-materials-table"]],inputs:{molding:"molding"},decls:9,vars:1,consts:[["fixed","",1,"table",2,"width","100%"],[1,"table-header-row","ion-padding"],["size","6"],["class","table-data-row",4,"ngFor","ngForOf"],[1,"table-data-row"]],template:function(a,y){1&a&&(e.TgZ(0,"ion-grid",0)(1,"ion-row",1)(2,"ion-col",2)(3,"ion-label"),e._uU(4," N\xb0 de lot "),e.qZA()(),e.TgZ(5,"ion-col",2)(6,"ion-label"),e._uU(7," R\xe9f\xe9rence "),e.qZA()()(),e.YNc(8,ce,7,2,"ion-row",3),e.qZA()),2&a&&(e.xp6(8),e.Q6J("ngForOf",y.molding.materialSupplementary))},dependencies:[d.sg,h.wI,h.jY,h.Q$,h.Nd],styles:[".table[_ngcontent-%COMP%]{color:#000;text-align:center}.table-header-row[_ngcontent-%COMP%]{text-transform:uppercase;font-size:14px;background-color:#f4f5f8;align-items:center}.table-data-row[_ngcontent-%COMP%]{font-size:16px;align-items:center}"]}),c})();var de=s(5625);function se(c,b){if(1&c&&(e.TgZ(0,"ion-text"),e._uU(1),e.qZA()),2&c){const a=e.oxw();e.xp6(1),e.AsE(" OT0",null==a.molding?null:a.molding.OT.sapToolNumber," ",null==a.molding?null:a.molding.OT.designation,"")}}function he(c,b){if(1&c){const a=e.EpF();e.TgZ(0,"ion-button",7),e.NdJ("click",function(){e.CHM(a);const S=e.oxw();return e.KtG(S.noToolClick())}),e._uU(1,"Pas d'outillage associ\xe9 "),e.qZA()}if(2&c){const a=e.oxw();e.Q6J("color",a.toolStatusColor)}}function _e(c,b){if(1&c&&(e.TgZ(0,"ion-text",4),e._uU(1),e.qZA()),2&c){const a=e.oxw();e.xp6(1),e.AsE("R\xe9alis\xe9 par : ",null==a.molding?null:a.molding.userCreat.nom," ",null==a.molding?null:a.molding.userCreat.prenom,"")}}function ge(c,b){if(1&c&&(e.TgZ(0,"ion-text",8),e._uU(1),e.ALo(2,"DateHeure"),e.qZA()),2&c){const a=e.oxw();e.xp6(1),e.hij("A draper avant le : ",e.lcZ(2,1,null==a.molding?null:a.molding.aDraperAv)," ")}}function pe(c,b){if(1&c&&(e.TgZ(0,"ion-text",8),e._uU(1),e.ALo(2,"DateHeure"),e.qZA()),2&c){const a=e.oxw();e.xp6(1),e.hij("A cuire avant le : ",e.lcZ(2,1,null==a.molding?null:a.molding.aCuireAv)," ")}}let ve=(()=>{class c{constructor(a){this.moldingService=a,this.toolStatusColor="warning",this.moldingService.moldingStatus$.subscribe({next:y=>{this.toolStatusColor=y.toolStatus?"success":"warning"}})}noToolClick(){this.moldingService.molding.outillage="",this.moldingService.updateMoldings(),this.moldingService.setToolStatus(!0)}}return c.\u0275fac=function(a){return new(a||c)(e.Y36(r.s))},c.\u0275cmp=e.Xpm({type:c,selectors:[["app-molding-info-toolbar"]],inputs:{molding:"molding"},decls:12,vars:8,consts:[["slot","start"],[4,"ngIf"],["colorStatus","",3,"color","click",4,"ngIf"],["slot","end",1,"col"],[1,"strong"],["class","strong",4,"ngIf"],["slot","end","class","strong",4,"ngIf"],["colorStatus","",3,"color","click"],["slot","end",1,"strong"]],template:function(a,y){1&a&&(e.TgZ(0,"ion-toolbar")(1,"ion-text",0),e._uU(2,"Outillage :"),e.qZA(),e.YNc(3,se,2,2,"ion-text",1),e.YNc(4,he,2,1,"ion-button",2),e.TgZ(5,"div",3)(6,"ion-text",4),e._uU(7),e.ALo(8,"DateHeure"),e.qZA(),e.YNc(9,_e,2,2,"ion-text",5),e.qZA(),e.YNc(10,ge,3,3,"ion-text",6),e.YNc(11,pe,3,3,"ion-text",6),e.qZA()),2&a&&(e.xp6(3),e.Q6J("ngIf",null==y.molding?null:y.molding.OT),e.xp6(1),e.Q6J("ngIf",!(null!=y.molding&&y.molding.OT)),e.xp6(3),e.hij("Fait le : ",e.lcZ(8,6,null==y.molding?null:y.molding.moldingDay),""),e.xp6(2),e.Q6J("ngIf",null==y.molding?null:y.molding.userCreat),e.xp6(1),e.Q6J("ngIf",null==y.molding?null:y.molding.aDraperAv),e.xp6(1),e.Q6J("ngIf",null==y.molding?null:y.molding.aCuireAv))},dependencies:[d.O5,h.YG,h.yW,h.sr,de.B],styles:["ion-toolbar[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{padding-inline:10px}ion-toolbar[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{display:flex;flex-direction:column}ion-toolbar[_ngcontent-%COMP%]   .strong[_ngcontent-%COMP%]{font-weight:700}"]}),c})();function me(c,b){if(1&c){const a=e.EpF();e.TgZ(0,"ion-button",6),e.NdJ("click",function(){e.CHM(a);const S=e.oxw();return e.KtG(S.setInactiveClick())}),e._UZ(1,"ion-icon",7),e._uU(2," Annuler le moulage "),e.qZA()}if(2&c){const a=e.oxw();e.Q6J("disabled",!a.isActive)}}let ye=(()=>{class c{constructor(a){this.moldingService=a,this.moldingService.molding$.asObservable().subscribe(y=>{console.log("create molding toolbar receive new Molding"),this.isActive=y.isActive}),this.moldingStatus$=this.moldingService.moldingStatus$,this.moldingStatus$.subscribe({next:y=>{this.isMoldingComplete=y.moldingStatus}})}saveMoldingClick(a){this.moldingService.saveMolding(a)}setInactiveClick(){this.moldingService.cancelMolding()}}return c.\u0275fac=function(a){return new(a||c)(e.Y36(r.s))},c.\u0275cmp=e.Xpm({type:c,selectors:[["app-create-molding-toolbar"]],decls:7,vars:2,consts:[["color","light"],["slot","start"],["color","danger","fill","outline",3,"disabled","click",4,"ngIf"],["slot","end","collapse","true"],["color","primary","slot","end","fill","solid",3,"disabled","click"],["slot","start","name","save-outline"],["color","danger","fill","outline",3,"disabled","click"],["slot","start","name","close-circle-outline"]],template:function(a,y){1&a&&(e.TgZ(0,"ion-toolbar",0)(1,"ion-buttons",1),e.YNc(2,me,3,1,"ion-button",2),e.qZA(),e.TgZ(3,"ion-buttons",3)(4,"ion-button",4),e.NdJ("click",function(){return y.saveMoldingClick(!0)}),e._UZ(5,"ion-icon",5),e._uU(6," SAUVEGARDER "),e.qZA()()()),2&a&&(e.xp6(2),e.Q6J("ngIf",y.isActive),e.xp6(2),e.Q6J("disabled",!y.isMoldingComplete))},dependencies:[d.O5,h.YG,h.Sm,h.gu,h.sr],styles:["ion-toolbar[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{padding-inline:10px}ion-toolbar[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]}),c})();const Oe=["accordionGroup"];function Ee(c,b){if(1&c&&(e.TgZ(0,"ion-accordion",8)(1,"ion-item",9),e._uU(2,"LISTE DES KITS"),e.qZA(),e._UZ(3,"app-molding-kit-table",10),e.qZA()),2&c){const a=e.oxw();e.xp6(3),e.Q6J("molding",a.molding)}}function be(c,b){if(1&c&&(e.TgZ(0,"ion-accordion",11)(1,"ion-item",9)(2,"ion-label"),e._uU(3,"LISTE DES NIDAS"),e.qZA()(),e._UZ(4,"app-molding-materials-table",10),e.qZA()),2&c){const a=e.oxw();e.xp6(4),e.Q6J("molding",a.molding)}}let $=(()=>{class c{constructor(a,y,S,R){this.moldingService=a,this.activatedRoute=y,this.roleGuard=S,this.titleService=R,this.isAdmin=!1,this.molding=null,this.molding$=this.moldingService.molding$.asObservable()}ionViewWillEnter(){const a=this.activatedRoute.snapshot.paramMap.get("id");if(a)return this.titleService.setTitle(`MODIFICATION MOULAGE n\xb0${a}`),void this.loadMoldingData(a);this.moldingService.initMolding(),this.titleService.setTitle("CREATION D'UN MOULAGE")}ngOnInit(){this.molding$.subscribe({next:a=>{this.molding=a,this.molding.kits.length>0&&(this.accordionGroup.value="kits"),this.molding.materialSupplementary.length>0&&(this.accordionGroup.value="materialSupplementary")}}),this.isAdmin=this.roleGuard.isRole(["ROLE_ADMIN"])}loadMoldingData(a){this.moldingService.loadMolding(a)}}return c.\u0275fac=function(a){return new(a||c)(e.Y36(r.s),e.Y36(v.gz),e.Y36(J.p),e.Y36(X.y))},c.\u0275cmp=e.Xpm({type:c,selectors:[["app-create-molding"]],viewQuery:function(a,y){if(1&a&&e.Gf(Oe,7),2&a){let S;e.iGM(S=e.CRH())&&(y.accordionGroup=S.first)}},decls:10,vars:4,consts:[["color","light",1,"ion-hide-md-down","padding"],["slot","start"],[3,"multiple"],["accordionGroup",""],["value","kits","toggleIcon","chevron-down-outline","toggleIconSlot","end",4,"ngIf"],["value","materialSupplementary","toggleIcon","chevron-down-outline","toggleIconSlot","end",4,"ngIf"],[1,"ion-hide-md-down"],[3,"molding"],["value","kits","toggleIcon","chevron-down-outline","toggleIconSlot","end"],["color","secondary","slot","header"],["slot","content",3,"molding"],["value","materialSupplementary","toggleIcon","chevron-down-outline","toggleIconSlot","end"]],template:function(a,y){1&a&&(e.TgZ(0,"ion-toolbar",0),e._UZ(1,"app-scan-molding-input",1),e.qZA(),e.TgZ(2,"ion-content")(3,"ion-accordion-group",2,3),e.YNc(5,Ee,4,1,"ion-accordion",4),e.YNc(6,be,5,1,"ion-accordion",5),e.qZA()(),e.TgZ(7,"ion-footer",6),e._UZ(8,"app-molding-info-toolbar",7)(9,"app-create-molding-toolbar"),e.qZA()),2&a&&(e.xp6(3),e.Q6J("multiple",!0),e.xp6(2),e.Q6J("ngIf",y.molding.kits.length>0),e.xp6(1),e.Q6J("ngIf",(null==y.molding?null:y.molding.materialSupplementary.length)>0),e.xp6(2),e.Q6J("molding",y.molding))},dependencies:[d.O5,h.We,h.eh,h.W2,h.fr,h.Ie,h.Q$,h.sr,ee,le,fe,ve,ye],styles:[".padding[_ngcontent-%COMP%]{padding-right:10px;padding-left:10px}"]}),c})();var Me=s(2477);const Te=["inputIdMolding"],Se=["menu"];let Ae=(()=>{class c{constructor(a,y,S){this.router=a,this.navCtrl=y,this.scanService=S}ngAfterViewInit(){this.menu.open(),this.menu.ionDidClose.subscribe(()=>{this.scanService.focusState$.next(!0)})}navigate(a){this.navCtrl.navigateForward(a)}idMoldingInputChange(){""!==this.inputIdMolding.value&&(this.menu.close(),this.router.navigate(["molding/create-molding",this.inputIdMolding.value]).then(a=>{a&&(this.inputIdMolding.value="")}))}}return c.\u0275fac=function(a){return new(a||c)(e.Y36(v.F0),e.Y36(h.SH),e.Y36(G))},c.\u0275cmp=e.Xpm({type:c,selectors:[["app-molding-menu"]],viewQuery:function(a,y){if(1&a&&(e.Gf(Te,5),e.Gf(Se,5)),2&a){let S;e.iGM(S=e.CRH())&&(y.inputIdMolding=S.first),e.iGM(S=e.CRH())&&(y.menu=S.first)}},decls:20,vars:2,consts:[["menuId","main-menu","side","start","type","push","contentId","molding-content"],["menu",""],["color","succes"],["auto-hide","true"],[3,"button","click"],["color","light",3,"button"],["slot","start"],["type","text","placeholder","# ID",3,"change"],["inputIdMolding",""],["slot","end","name","search-outline"],["slot","helper"]],template:function(a,y){1&a&&(e.TgZ(0,"ion-menu",0,1)(2,"ion-header")(3,"ion-toolbar",2)(4,"ion-title"),e._uU(5," Menu Moulage "),e.qZA()()(),e.TgZ(6,"ion-content")(7,"ion-list")(8,"ion-menu-toggle",3)(9,"ion-item",4),e.NdJ("click",function(){return y.navigate("molding/create-molding")}),e.TgZ(10,"ion-label"),e._uU(11," Nouveau moulage "),e.qZA()()(),e.TgZ(12,"ion-item",5)(13,"ion-label",6),e._uU(14," Modifier moulage "),e.qZA(),e.TgZ(15,"ion-input",7,8),e.NdJ("change",function(){return y.idMoldingInputChange()}),e.qZA(),e._UZ(17,"ion-icon",9),e.TgZ(18,"ion-note",10),e._uU(19,"Entrer un num\xe9ro d'ID ou scanner le code barre de la feuille de moulage"),e.qZA()()()()()),2&a&&(e.xp6(9),e.Q6J("button",!0),e.xp6(3),e.Q6J("button",!1))},dependencies:[h.W2,h.Gu,h.gu,h.pK,h.Ie,h.Q$,h.q_,h.z0,h.zc,h.uN,h.sr,h.wd,h.j9],styles:["ion-input[_ngcontent-%COMP%]{--background: white;border:black solid 1px}"]}),c})(),we=(()=>{class c{}return c.\u0275fac=function(a){return new(a||c)},c.\u0275cmp=e.Xpm({type:c,selectors:[["app-molding"]],decls:4,vars:0,consts:[["color","medium"],["id","molding-content"]],template:function(a,y){1&a&&(e._UZ(0,"app-shared-user-header"),e.TgZ(1,"ion-content",0),e._UZ(2,"app-molding-menu")(3,"ion-router-outlet",1),e.qZA())},dependencies:[h.W2,h.jP,Me.Q,Ae],styles:[".strong[_ngcontent-%COMP%]{font-weight:700}"]}),c})();var Pe=s(7243),xe=s(4501),Ie=s(4834);function Ce(c,b){if(1&c&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&c){const a=e.oxw(2);e.xp6(1),e.AsE("",a.molding.OT.sapToolNumber," - ",a.molding.OT.designation,"")}}function Re(c,b){1&c&&(e.TgZ(0,"span"),e._uU(1,"Pas d'outillage li\xe9 !"),e.qZA())}function Ze(c,b){if(1&c&&(e.TgZ(0,"ion-text"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&c){const a=e.oxw(2);e.xp6(1),e.hij(" Date de mise \xe0 jour : ",e.xi3(2,1,a.molding.updatedAt,"dd/MM/yyyy")," ")}}function De(c,b){1&c&&(e.TgZ(0,"th",26),e._uU(1," ID MM "),e.qZA())}function ke(c,b){if(1&c&&(e.TgZ(0,"td",27),e._uU(1),e.qZA()),2&c){const a=b.$implicit;e.xp6(1),e.hij(" ",a.idMM," ")}}function Ne(c,b){1&c&&(e.TgZ(0,"th",26),e._uU(1," R\xe9f\xe9rence SAP "),e.qZA())}function Ue(c,b){if(1&c&&(e.TgZ(0,"td",27),e._uU(1),e.qZA()),2&c){const a=b.$implicit;e.xp6(1),e.hij(" ",a.referenceSAP," ")}}function Be(c,b){1&c&&(e.TgZ(0,"th",26),e._uU(1," D\xe9signation "),e.qZA())}function Le(c,b){if(1&c&&(e.TgZ(0,"td",27),e._uU(1),e.qZA()),2&c){const a=b.$implicit;e.xp6(1),e.hij(" ",a.designationSAP," ")}}function je(c,b){1&c&&(e.TgZ(0,"th",26),e._uU(1," Date de p\xe9remption \xe0 -18\xb0C "),e.qZA())}function Ge(c,b){if(1&c&&(e.TgZ(0,"td",27),e._uU(1),e.ALo(2,"date"),e.qZA()),2&c){const a=b.$implicit,y=e.oxw(2);e.Udp("color",y.kitService.isPerim(a.peremptionMoins18,y.molding.moldingDay)?"var(--ion-color-danger)":"inherit"),e.xp6(1),e.hij(" ",e.xi3(2,3,a.peremptionMoins18,"dd/MM/yyyy \xe0 HH:mm")," ")}}function Fe(c,b){1&c&&(e.TgZ(0,"th",26),e._uU(1," A draper avant "),e.qZA())}function He(c,b){if(1&c&&(e.TgZ(0,"td",27),e._uU(1),e.ALo(2,"date"),e.qZA()),2&c){const a=b.$implicit,y=e.oxw(2);e.Udp("color",y.kitService.isPerim(a.aDrapAv,y.molding.moldingDay)?"var(--ion-color-danger)":"inherit"),e.xp6(1),e.hij(" ",e.xi3(2,3,a.aDrapAv,"dd/MM/yyyy \xe0 HH:mm")," ")}}function qe(c,b){1&c&&(e.TgZ(0,"th",26),e._uU(1," A polym avant "),e.qZA())}function $e(c,b){if(1&c&&(e.TgZ(0,"td",27),e._uU(1),e.ALo(2,"date"),e.qZA()),2&c){const a=b.$implicit,y=e.oxw(2);e.Udp("color",y.kitService.isPerim(a.aCuirAv,y.molding.moldingDay)?"var(--ion-color-danger)":"inherit"),e.xp6(1),e.hij(" ",e.xi3(2,3,a.aCuirAv,"dd/MM/yyyy \xe0 HH:mm")," ")}}function ze(c,b){1&c&&e._UZ(0,"tr",28)}function Qe(c,b){1&c&&e._UZ(0,"tr",29)}function Ye(c,b){if(1&c&&(e.TgZ(0,"ion-item")(1,"ion-label"),e._uU(2),e.ALo(3,"json"),e.qZA()()),2&c){const a=b.$implicit;e.xp6(2),e.Oqu(e.lcZ(3,1,a.numLot))}}function Je(c,b){if(1&c&&(e.TgZ(0,"div",30)(1,"div",31),e._uU(2),e.qZA(),e.TgZ(3,"div",32),e.YNc(4,Ye,4,3,"ion-item",33),e.qZA()()),2&c){const a=e.oxw(2);e.xp6(2),e.hij("Autres mat\xe9riaux (",a.molding.materialSupplementary.length,")"),e.xp6(2),e.Q6J("ngForOf",a.molding.materialSupplementary)}}function Xe(c,b){if(1&c&&(e.O4$(),e.kcU(),e.TgZ(0,"ion-content",5)(1,"div",6)(2,"div")(3,"ion-title",7),e._uU(4,"Informations"),e.qZA(),e.TgZ(5,"div",8)(6,"ion-text"),e._uU(7),e.qZA(),e.TgZ(8,"ion-text"),e._uU(9,"Outillage : "),e.YNc(10,Ce,2,2,"span",9),e.YNc(11,Re,2,0,"span",9),e.qZA(),e.TgZ(12,"ion-text"),e._uU(13),e.ALo(14,"date"),e.qZA(),e.TgZ(15,"ion-text"),e._uU(16),e.qZA(),e.YNc(17,Ze,3,4,"ion-text",9),e.qZA()(),e.TgZ(18,"div")(19,"ion-title",10),e._uU(20,"R\xe9capitulatif"),e.qZA(),e.TgZ(21,"div",11),e._uU(22),e.ALo(23,"date"),e.qZA(),e.TgZ(24,"div",11),e._uU(25),e.ALo(26,"date"),e.qZA()()(),e._UZ(27,"mat-divider"),e.TgZ(28,"div",12)(29,"ion-title",7),e._uU(30),e.qZA(),e.TgZ(31,"table",13),e.ynx(32,14),e.YNc(33,De,2,0,"th",15),e.YNc(34,ke,2,1,"td",16),e.BQk(),e.ynx(35,17),e.YNc(36,Ne,2,0,"th",15),e.YNc(37,Ue,2,1,"td",16),e.BQk(),e.ynx(38,18),e.YNc(39,Be,2,0,"th",15),e.YNc(40,Le,2,1,"td",16),e.BQk(),e.ynx(41,19),e.YNc(42,je,2,0,"th",15),e.YNc(43,Ge,3,6,"td",20),e.BQk(),e.ynx(44,21),e.YNc(45,Fe,2,0,"th",15),e.YNc(46,He,3,6,"td",20),e.BQk(),e.ynx(47,22),e.YNc(48,qe,2,0,"th",15),e.YNc(49,$e,3,6,"td",20),e.BQk(),e.YNc(50,ze,1,0,"tr",23),e.YNc(51,Qe,1,0,"tr",24),e.qZA()(),e._UZ(52,"mat-divider"),e.YNc(53,Je,5,2,"div",25),e.qZA()),2&c){const a=e.oxw();e.Q6J("fullscreen",!0),e.xp6(7),e.hij("ID Moulage : ",a.molding.id,""),e.xp6(3),e.Q6J("ngIf",a.molding.outillage),e.xp6(1),e.Q6J("ngIf",!a.molding.outillage),e.xp6(2),e.hij("Date tra\xe7abilit\xe9 : ",e.xi3(14,15,a.molding.moldingDay,"dd/MM/yyyy"),""),e.xp6(3),e.AsE("Fait par : ",a.molding.userCreat.username," (",a.molding.userCreat.matricule,")"),e.xp6(1),e.Q6J("ngIf",a.molding.updatedAt),e.xp6(5),e.hij("A draper avant le : ",e.xi3(23,18,a.molding.aDraperAv,"dd/MM/yyyy \xe0 HH:mm"),""),e.xp6(3),e.hij("A polym\xe9riser avant le : ",e.xi3(26,21,a.molding.aCuireAv,"dd/MM/yyyy \xe0 HH:mm"),""),e.xp6(5),e.hij("Liste des kits (",a.molding.kits.length,")"),e.xp6(1),e.Q6J("dataSource",a.dataSource),e.xp6(19),e.Q6J("matHeaderRowDef",a.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",a.displayedColumns),e.xp6(2),e.Q6J("ngIf",a.molding.materialSupplementary.length>0)}}let z=(()=>{class c{constructor(a,y,S,R,U){this.activatedRoute=a,this.moldingService=y,this.loadingService=S,this.router=R,this.kitService=U,this.displayedColumns=["idMM","referenceSAP","designationSAP","peremptionMoins18","aDrapAv","aCuirAv"]}ngOnInit(){this.loadMoldingSheet()}loadMoldingSheet(){this.loadingService.startLoading("Patienter pendant le chargement du moulage");const a=this.activatedRoute.snapshot.paramMap.get("id");this.moldingService.getMoldingById(a).subscribe(y=>{this.molding=y,this.dataSource=this.molding.kits,Pe("#barcode",this.molding.id.toString(),{height:20,displayValue:!1}),this.loadingService.stopLoading()})}navigateHome(){this.router.navigate(["/home"])}}return c.\u0275fac=function(a){return new(a||c)(e.Y36(v.gz),e.Y36(r.s),e.Y36(xe.b),e.Y36(v.F0),e.Y36(n.e))},c.\u0275cmp=e.Xpm({type:c,selectors:[["app-print-molding-sheet"]],decls:8,vars:1,consts:[["color","light","slot","start"],["slot","start","src","assets/images/logoDaher.png",1,"logo",3,"click"],[1,"ion-align-center","uppcase"],["slot","end","id","barcode"],[3,"fullscreen",4,"ngIf"],[3,"fullscreen"],[1,"content-top","ion-margin"],["color","primary"],[1,"flex-vertical"],[4,"ngIf"],["color","danger"],[1,"important"],[1,"kit-list","ion-margin"],["mat-table","",3,"dataSource"],["matColumnDef","idMM"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","referenceSAP"],["matColumnDef","designationSAP"],["matColumnDef","peremptionMoins18"],["mat-cell","",3,"color",4,"matCellDef"],["matColumnDef","aDrapAv"],["matColumnDef","aCuirAv"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","coreList ion-margin",4,"ngIf"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],[1,"coreList","ion-margin"],[1,"title"],[1,"list"],[4,"ngFor","ngForOf"]],template:function(a,y){1&a&&(e.TgZ(0,"ion-header")(1,"ion-toolbar"),e._UZ(2,"ion-menu-button",0),e.TgZ(3,"ion-img",1),e.NdJ("click",function(){return y.navigateHome()}),e.qZA(),e.TgZ(4,"ion-title",2),e._uU(5,"Feuille de tra\xe7abilit\xe9 moulage"),e.qZA(),e.O4$(),e._UZ(6,"svg",3),e.qZA()(),e.YNc(7,Xe,54,24,"ion-content",4)),2&a&&(e.xp6(7),e.Q6J("ngIf",y.molding))},dependencies:[d.sg,d.O5,h.W2,h.Gu,h.Xz,h.Ie,h.Q$,h.fG,h.yW,h.sr,h.wd,Ie.d,N.BZ,N.fO,N.as,N.w1,N.Dz,N.nj,N.ge,N.ev,N.XQ,N.Gk,d.Ts,d.uU],styles:[".flex-vertical[_ngcontent-%COMP%]{display:flex!important;flex-direction:column}.important[_ngcontent-%COMP%]{size:2em!important;font-weight:bolder}ion-content[_ngcontent-%COMP%]{font-size:12px!important}ion-content[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{padding-bottom:1em!important}ion-content[_ngcontent-%COMP%]   .kit-item[_ngcontent-%COMP%]{margin:0;font-size:12px!important}ion-content[_ngcontent-%COMP%]   .kit-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{margin:0}ion-content[_ngcontent-%COMP%]   .kit-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}ion-content[_ngcontent-%COMP%]   .kit-list[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{align-self:flex-start}ion-content[_ngcontent-%COMP%]   .title-default[_ngcontent-%COMP%]{padding-inline:0!important}.logo[_ngcontent-%COMP%]{width:100px}.mat-table[_ngcontent-%COMP%]{text-align:center}.mat-row[_ngcontent-%COMP%], .mat-header-row[_ngcontent-%COMP%]{height:auto}.mat-cell[_ngcontent-%COMP%], .mat-header-cell[_ngcontent-%COMP%]{padding:8px;font-size:10px!important}.content-top[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}@media print{.print-hide[_ngcontent-%COMP%]{display:none}}.uppcase[_ngcontent-%COMP%]{text-transform:uppercase}"]}),c})();const Ke=[{path:"",canActivate:[p.a],component:we,children:[{path:"print-molding-sheet/:id",canActivate:[p.a],component:z},{path:"print-molding-sheet",canActivate:[p.a],component:z},{path:"create-molding",canActivate:[p.a],component:$},{path:"create-molding/:id",canActivate:[p.a],component:$},{path:"**",redirectTo:""}]}];let Ve=(()=>{class c{}return c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=e.oAB({type:c}),c.\u0275inj=e.cJS({imports:[v.Bz.forChild(Ke),g,_,Y]}),c})()},2644:(A,l,s)=>{s.d(l,{o:()=>_});var v=s(520),p=s(2340),e=s(4850),g=s(5e3),O=s(6322),E=s(512);let _=(()=>{class m{constructor(t,n,o){this.http=t,this.requestService=n,this.alertService=o}getToolByInput(t){return new Promise((n,o)=>{switch(t.length){case 5:this.getToolByToolNumber(t).subscribe(i=>{n(i)},i=>{this.alertService.simpleAlert("Erreur","Le serveur outillage \xe0 renvoy\xe9 une erreur :",i),o()});break;case 7:break;case 8:t.startsWith("OT")&&this.getToolByToolNumber(t.substring(t.length-5)).subscribe(i=>{n(i)},i=>{this.alertService.simpleAlert("Erreur","Le serveur outillage \xe0 renvoy\xe9 une erreur :",i),o()});break;default:this.getToolByIdentification(t).then(i=>{n(i)},i=>{this.alertService.simpleAlert("Erreur","Le serveur outillage \xe0 renvoy\xe9 une erreur :",i),o()}).catch(i=>{console.error(i)})}})}getToolById(t){return this.requestService.createGetRequest(`${p.N.toolApi}tools/${t}`)}getToolByToolNumber(t){return this.requestService.createGetRequest(`${p.N.toolApi}tools?sapToolNumber=${t}`).pipe((0,e.U)(n=>1===n.length?n[0]:n.length>1?void console.error("Il y a plus d'un outillage correspondant en base de donn\xe9e"):void console.error("aucun outillage trouv\xe9")))}getToolByIdentification(t){return new Promise((n,o)=>{this.requestService.createGetRequest(`${p.N.toolApi}tools?identification=${t}`).subscribe(i=>{1===i.length?n(i[0]):o(i.length>1?"Il y a plus d'un outillage correspondant en base de donn\xe9e":"aucun outillage trouv\xe9")},i=>{console.log(i),o("Pas de r\xe9ponse du serveur")})})}getAllTools(){return new Promise((t,n)=>{const o=(new v.WM).append("content-type","application/json");this.http.get(`${p.N.apiServer}molding_tools`,{headers:o}).subscribe(i=>{t(i)},i=>{console.log(i),n()})})}getIri(t){return`/api/tools/${t.id}`}createTool(t){const n=t;return n.sapToolNumber=parseInt(t.sapToolNumber.substring(2),10),this.requestService.createPostRequest(`${p.N.toolApi}tools`,n)}}return m.\u0275fac=function(t){return new(t||m)(g.LFG(v.eN),g.LFG(O.s),g.LFG(E.c))},m.\u0275prov=g.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()},7243:(A,l,s)=>{var p=M(s(9721)),g=M(s(4070)),E=M(s(6162)),m=M(s(3800)),t=M(s(1731)),o=M(s(70)),r=M(s(3930)),f=s(7497),h=M(s(7850));function M(w){return w&&w.__esModule?w:{default:w}}var T=function(){},x=function(I,Z,P){var C=new T;if(void 0===I)throw Error("No element to render on was provided.");return C._renderProperties=(0,t.default)(I),C._encodings=[],C._options=h.default,C._errorHandler=new r.default(C),void 0!==Z&&((P=P||{}).format||(P.format=F()),C.options(P)[P.format](Z,P).render()),C};for(var k in x.getModule=function(w){return p.default[w]},p.default)p.default.hasOwnProperty(k)&&B(p.default,k);function B(w,I){T.prototype[I]=T.prototype[I.toUpperCase()]=T.prototype[I.toLowerCase()]=function(Z,P){var C=this;return C._errorHandler.wrapBarcodeCall(function(){P.text=void 0===P.text?void 0:""+P.text;var D=(0,g.default)(C._options,P);D=(0,o.default)(D);var G=L(Z,w[I],D);return C._encodings.push(G),C})}}function L(w,I,Z){var P=new I(w=""+w,Z);if(!P.valid())throw new f.InvalidInputException(P.constructor.name,w);var C=P.encode();C=(0,E.default)(C);for(var D=0;D<C.length;D++)C[D].options=(0,g.default)(Z,C[D].options);return C}function F(){return p.default.CODE128?"CODE128":Object.keys(p.default)[0]}function j(w,I,Z){I=(0,E.default)(I);for(var P=0;P<I.length;P++)I[P].options=(0,g.default)(Z,I[P].options),(0,m.default)(I[P].options);(0,m.default)(Z),new(0,w.renderer)(w.element,I,Z).render(),w.afterRender&&w.afterRender()}T.prototype.options=function(w){return this._options=(0,g.default)(this._options,w),this},T.prototype.blank=function(w){var I=new Array(w+1).join("0");return this._encodings.push({data:I}),this},T.prototype.init=function(){var w;if(this._renderProperties)for(var I in Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]),this._renderProperties){var Z=(0,g.default)(this._options,(w=this._renderProperties[I]).options);"auto"==Z.format&&(Z.format=F()),this._errorHandler.wrapBarcodeCall(function(){var D=L(Z.value,p.default[Z.format.toUpperCase()],Z);j(w,D,Z)})}},T.prototype.render=function(){if(!this._renderProperties)throw new f.NoElementException;if(Array.isArray(this._renderProperties))for(var w=0;w<this._renderProperties.length;w++)j(this._renderProperties[w],this._encodings,this._options);else j(this._renderProperties,this._encodings,this._options);return this},T.prototype._defaults=h.default,"undefined"!=typeof window&&(window.JsBarcode=x),"undefined"!=typeof jQuery&&(jQuery.fn.JsBarcode=function(w,I){var Z=[];return jQuery(this).each(function(){Z.push(this)}),x(Z,w,I)}),A.exports=x},4648:(A,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.default=function p(e,g){(function s(p,e){if(!(p instanceof e))throw new TypeError("Cannot call a class as a function")})(this,p),this.data=e,this.text=g.text||e,this.options=g}},6106:(A,l,s)=>{Object.defineProperty(l,"__esModule",{value:!0});var v=function(){function t(n,o){for(var i=0;i<o.length;i++){var r=o[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(n,o,i){return o&&t(n.prototype,o),i&&t(n,i),n}}(),e=function O(t){return t&&t.__esModule?t:{default:t}}(s(4648)),g=s(9068),u=function(t){function n(o,i){!function E(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function _(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,o.substring(1),i));return r.bytes=o.split("").map(function(f){return f.charCodeAt(0)}),r}return function m(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,t),v(n,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var i=this.bytes,r=i.shift()-105,f=g.SET_BY_CODE[r];if(void 0===f)throw new RangeError("The encoding does not start with a start character.");!0===this.shouldEncodeAsEan128()&&i.unshift(g.FNC1);var d=n.next(i,1,f);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:n.getBar(r)+d.result+n.getBar((d.checksum+r)%g.MODULO)+n.getBar(g.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var i=this.options.ean128||!1;return"string"==typeof i&&(i="true"===i.toLowerCase()),i}}],[{key:"getBar",value:function(i){return g.BARS[i]?g.BARS[i].toString():""}},{key:"correctIndex",value:function(i,r){if(r===g.SET_A){var f=i.shift();return f<32?f+64:f-32}return r===g.SET_B?i.shift()-32:10*(i.shift()-48)+i.shift()-48}},{key:"next",value:function(i,r,f){if(!i.length)return{result:"",checksum:0};var d=void 0,h=void 0;if(i[0]>=200){h=i.shift()-105;var M=g.SWAP[h];void 0!==M?d=n.next(i,r+1,M):((f===g.SET_A||f===g.SET_B)&&h===g.SHIFT&&(i[0]=f===g.SET_A?i[0]>95?i[0]-96:i[0]:i[0]<32?i[0]+96:i[0]),d=n.next(i,r+1,f))}else h=n.correctIndex(i,f),d=n.next(i,r+1,f);return{result:n.getBar(h)+d.result,checksum:h*r+d.checksum}}}]),n}(e.default);l.default=u},8964:(A,l,s)=>{Object.defineProperty(l,"__esModule",{value:!0});var v=function(){function t(n,o){for(var i=0;i<o.length;i++){var r=o[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(n,o,i){return o&&t(n.prototype,o),i&&t(n,i),n}}(),e=function O(t){return t&&t.__esModule?t:{default:t}}(s(6106)),g=s(9068),u=function(t){function n(o,i){return function E(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),function _(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,g.A_START_CHAR+o,i))}return function m(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,t),v(n,[{key:"valid",value:function(){return new RegExp("^"+g.A_CHARS+"+$").test(this.data)}}]),n}(e.default);l.default=u},3254:(A,l,s)=>{Object.defineProperty(l,"__esModule",{value:!0});var v=function(){function t(n,o){for(var i=0;i<o.length;i++){var r=o[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(n,o,i){return o&&t(n.prototype,o),i&&t(n,i),n}}(),e=function O(t){return t&&t.__esModule?t:{default:t}}(s(6106)),g=s(9068),u=function(t){function n(o,i){return function E(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),function _(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,g.B_START_CHAR+o,i))}return function m(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,t),v(n,[{key:"valid",value:function(){return new RegExp("^"+g.B_CHARS+"+$").test(this.data)}}]),n}(e.default);l.default=u},5701:(A,l,s)=>{Object.defineProperty(l,"__esModule",{value:!0});var v=function(){function t(n,o){for(var i=0;i<o.length;i++){var r=o[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(n,o,i){return o&&t(n.prototype,o),i&&t(n,i),n}}(),e=function O(t){return t&&t.__esModule?t:{default:t}}(s(6106)),g=s(9068),u=function(t){function n(o,i){return function E(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),function _(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,g.C_START_CHAR+o,i))}return function m(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,t),v(n,[{key:"valid",value:function(){return new RegExp("^"+g.C_CHARS+"+$").test(this.data)}}]),n}(e.default);l.default=u},5626:(A,l,s)=>{Object.defineProperty(l,"__esModule",{value:!0});var p=O(s(6106)),g=O(s(4779));function O(t){return t&&t.__esModule?t:{default:t}}function _(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var u=function(t){function n(o,i){if(function E(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),/^[\x00-\x7F\xC8-\xD3]+$/.test(o))var r=_(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,(0,g.default)(o),i));else r=_(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,o,i));return _(r)}return function m(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n}(p.default);l.default=u},4779:(A,l,s)=>{Object.defineProperty(l,"__esModule",{value:!0});var v=s(9068),p=function(m){return m.match(new RegExp("^"+v.A_CHARS+"*"))[0].length},e=function(m){return m.match(new RegExp("^"+v.B_CHARS+"*"))[0].length},g=function(m){return m.match(new RegExp("^"+v.C_CHARS+"*"))[0]};function O(_,m){var u=m?v.A_CHARS:v.B_CHARS,t=_.match(new RegExp("^("+u+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(t)return t[1]+String.fromCharCode(204)+E(_.substring(t[1].length));var n=_.match(new RegExp("^"+u+"+"))[0];return n.length===_.length?_:n+String.fromCharCode(m?205:206)+O(_.substring(n.length),!m)}function E(_){var m=g(_),u=m.length;if(u===_.length)return _;_=_.substring(u);var t=p(_)>=e(_);return m+String.fromCharCode(t?206:205)+O(_,t)}l.default=function(_){var m=void 0;if(g(_).length>=2)m=v.C_START_CHAR+E(_);else{var t=p(_)>e(_);m=(t?v.A_START_CHAR:v.B_START_CHAR)+O(_,t)}return m.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(n,o){return String.fromCharCode(203)+o})}},9068:(A,l)=>{var s;function v(k,B,L){return B in k?Object.defineProperty(k,B,{value:L,enumerable:!0,configurable:!0,writable:!0}):k[B]=L,k}Object.defineProperty(l,"__esModule",{value:!0});var p=l.SET_A=0,e=l.SET_B=1,g=l.SET_C=2,E=(l.SHIFT=98,l.START_A=103),_=l.START_B=104,m=l.START_C=105;l.MODULO=103,l.STOP=106,l.FNC1=207,l.SET_BY_CODE=(v(s={},E,p),v(s,_,e),v(s,m,g),s),l.SWAP={101:p,100:e,99:g},l.A_START_CHAR=String.fromCharCode(208),l.B_START_CHAR=String.fromCharCode(209),l.C_START_CHAR=String.fromCharCode(210),l.A_CHARS="[\0-_\xc8-\xcf]",l.B_CHARS="[ -\x7f\xc8-\xcf]",l.C_CHARS="(\xcf*[0-9]{2}\xcf*)",l.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011]},6038:(A,l,s)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.CODE128C=l.CODE128B=l.CODE128A=l.CODE128=void 0;var p=u(s(5626)),g=u(s(8964)),E=u(s(3254)),m=u(s(5701));function u(t){return t&&t.__esModule?t:{default:t}}l.CODE128=p.default,l.CODE128A=g.default,l.CODE128B=E.default,l.CODE128C=m.default},528:(A,l,s)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.CODE39=void 0;var v=function(){function d(h,M){for(var T=0;T<M.length;T++){var x=M[T];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(h,x.key,x)}}return function(h,M,T){return M&&d(h.prototype,M),T&&d(h,T),h}}(),m=function(d){function h(M,T){return function O(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}(this,h),M=M.toUpperCase(),T.mod43&&(M+=function i(d){return u[d]}(function f(d){for(var h=0,M=0;M<d.length;M++)h+=r(d[M]);return h%43}(M))),function E(d,h){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!h||"object"!=typeof h&&"function"!=typeof h?d:h}(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,M,T))}return function _(d,h){if("function"!=typeof h&&null!==h)throw new TypeError("Super expression must either be null or a function, not "+typeof h);d.prototype=Object.create(h&&h.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(d,h):d.__proto__=h)}(h,d),v(h,[{key:"encode",value:function(){for(var T=n("*"),x=0;x<this.data.length;x++)T+=n(this.data[x])+"0";return{data:T+=n("*"),text:this.text}}},{key:"valid",value:function(){return-1!==this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)}}]),h}(function g(d){return d&&d.__esModule?d:{default:d}}(s(4648)).default),u=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],t=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function n(d){return function o(d){return t[d].toString(2)}(r(d))}function r(d){return u.indexOf(d)}l.CODE39=m},7417:(A,l,s)=>{Object.defineProperty(l,"__esModule",{value:!0});var v=function(){function o(i,r){for(var f=0;f<r.length;f++){var d=r[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(i,d.key,d)}}return function(i,r,f){return r&&o(i.prototype,r),f&&o(i,f),i}}(),p=s(3819),g=_(s(9259));function _(o){return o&&o.__esModule?o:{default:o}}var n=function(o){function i(r,f){!function m(o,i){if(!(o instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i);var d=function u(o,i){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?o:i}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,r,f));return d.fontSize=!f.flat&&f.fontSize>10*f.width?10*f.width:f.fontSize,d.guardHeight=f.height+d.fontSize/2+f.textMargin,d}return function t(o,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(o,i):o.__proto__=i)}(i,o),v(i,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(f,d){return this.text.substr(f,d)}},{key:"leftEncode",value:function(f,d){return(0,g.default)(f,d)}},{key:"rightText",value:function(f,d){return this.text.substr(f,d)}},{key:"rightEncode",value:function(f,d){return(0,g.default)(f,d)}},{key:"encodeGuarded",value:function(){var f={fontSize:this.fontSize},d={height:this.guardHeight};return[{data:p.SIDE_BIN,options:d},{data:this.leftEncode(),text:this.leftText(),options:f},{data:p.MIDDLE_BIN,options:d},{data:this.rightEncode(),text:this.rightText(),options:f},{data:p.SIDE_BIN,options:d}]}},{key:"encodeFlat",value:function(){return{data:[p.SIDE_BIN,this.leftEncode(),p.MIDDLE_BIN,this.rightEncode(),p.SIDE_BIN].join(""),text:this.text}}}]),i}(_(s(4648)).default);l.default=n},6195:(A,l,s)=>{Object.defineProperty(l,"__esModule",{value:!0});var v=function(){function o(i,r){for(var f=0;f<r.length;f++){var d=r[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(i,d.key,d)}}return function(i,r,f){return r&&o(i.prototype,r),f&&o(i,f),i}}(),p=function o(i,r,f){null===i&&(i=Function.prototype);var d=Object.getOwnPropertyDescriptor(i,r);if(void 0===d){var h=Object.getPrototypeOf(i);return null===h?void 0:o(h,r,f)}if("value"in d)return d.value;var M=d.get;return void 0===M?void 0:M.call(f)},e=s(3819),O=function E(o){return o&&o.__esModule?o:{default:o}}(s(7417)),t=function(i){return(10-i.substr(0,12).split("").map(function(f){return+f}).reduce(function(f,d,h){return h%2?f+3*d:f+d},0)%10)%10},n=function(o){function i(r,f){(function _(o,i){if(!(o instanceof i))throw new TypeError("Cannot call a class as a function")})(this,i),-1!==r.search(/^[0-9]{12}$/)&&(r+=t(r));var d=function m(o,i){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?o:i}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,r,f));return d.lastChar=f.lastChar,d}return function u(o,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(o,i):o.__proto__=i)}(i,o),v(i,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{13}$/)&&+this.data[12]===t(this.data)}},{key:"leftText",value:function(){return p(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var f=this.data.substr(1,6),d=e.EAN13_STRUCTURE[this.data[0]];return p(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"leftEncode",this).call(this,f,d)}},{key:"rightText",value:function(){return p(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var f=this.data.substr(7,6);return p(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"rightEncode",this).call(this,f,"RRRRRR")}},{key:"encodeGuarded",value:function(){var f=p(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(f.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(f.push({data:"00"}),f.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),f}}]),i}(O.default);l.default=n},4500:(A,l,s)=>{Object.defineProperty(l,"__esModule",{value:!0});var v=function(){function o(i,r){for(var f=0;f<r.length;f++){var d=r[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(i,d.key,d)}}return function(i,r,f){return r&&o(i.prototype,r),f&&o(i,f),i}}(),p=s(3819),g=_(s(9259));function _(o){return o&&o.__esModule?o:{default:o}}var n=function(o){function i(r,f){return function m(o,i){if(!(o instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i),function u(o,i){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?o:i}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,r,f))}return function t(o,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(o,i):o.__proto__=i)}(i,o),v(i,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{2}$/)}},{key:"encode",value:function(){var f=p.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,g.default)(this.data,f,"01"),text:this.text}}}]),i}(_(s(4648)).default);l.default=n},5174:(A,l,s)=>{Object.defineProperty(l,"__esModule",{value:!0});var v=function(){function i(r,f){for(var d=0;d<f.length;d++){var h=f[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(r,h.key,h)}}return function(r,f,d){return f&&i(r.prototype,f),d&&i(r,d),r}}(),p=s(3819),g=_(s(9259));function _(i){return i&&i.__esModule?i:{default:i}}var o=function(i){function r(f,d){return function m(i,r){if(!(i instanceof r))throw new TypeError("Cannot call a class as a function")}(this,r),function u(i,r){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?i:r}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,f,d))}return function t(i,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);i.prototype=Object.create(r&&r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(i,r):i.__proto__=r)}(r,i),v(r,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{5}$/)}},{key:"encode",value:function(){var d=p.EAN5_STRUCTURE[function(r){return r.split("").map(function(d){return+d}).reduce(function(d,h,M){return M%2?d+9*h:d+3*h},0)%10}(this.data)];return{data:"1011"+(0,g.default)(this.data,d,"01"),text:this.text}}}]),r}(_(s(4648)).default);l.default=o},2523:(A,l,s)=>{Object.defineProperty(l,"__esModule",{value:!0});var v=function(){function n(o,i){for(var r=0;r<i.length;r++){var f=i[r];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(o,f.key,f)}}return function(o,i,r){return i&&n(o.prototype,i),r&&n(o,r),o}}(),p=function n(o,i,r){null===o&&(o=Function.prototype);var f=Object.getOwnPropertyDescriptor(o,i);if(void 0===f){var d=Object.getPrototypeOf(o);return null===d?void 0:n(d,i,r)}if("value"in f)return f.value;var h=f.get;return void 0===h?void 0:h.call(r)},g=function O(n){return n&&n.__esModule?n:{default:n}}(s(7417)),u=function(o){return(10-o.substr(0,7).split("").map(function(r){return+r}).reduce(function(r,f,d){return d%2?r+f:r+3*f},0)%10)%10},t=function(n){function o(i,r){return function E(n,o){if(!(n instanceof o))throw new TypeError("Cannot call a class as a function")}(this,o),-1!==i.search(/^[0-9]{7}$/)&&(i+=u(i)),function _(n,o){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||"object"!=typeof o&&"function"!=typeof o?n:o}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,i,r))}return function m(n,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function, not "+typeof o);n.prototype=Object.create(o&&o.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(n,o):n.__proto__=o)}(o,n),v(o,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{8}$/)&&+this.data[7]===u(this.data)}},{key:"leftText",value:function(){return p(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var r=this.data.substr(0,4);return p(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"leftEncode",this).call(this,r,"LLLL")}},{key:"rightText",value:function(){return p(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var r=this.data.substr(4,4);return p(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"rightEncode",this).call(this,r,"RRRR")}}]),o}(g.default);l.default=t},4102:(A,l,s)=>{Object.defineProperty(l,"__esModule",{value:!0});var v=function(){function o(i,r){for(var f=0;f<r.length;f++){var d=r[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(i,d.key,d)}}return function(i,r,f){return r&&o(i.prototype,r),f&&o(i,f),i}}();l.checksum=n;var e=E(s(9259));function E(o){return o&&o.__esModule?o:{default:o}}var t=function(o){function i(r,f){(function _(o,i){if(!(o instanceof i))throw new TypeError("Cannot call a class as a function")})(this,i),-1!==r.search(/^[0-9]{11}$/)&&(r+=n(r));var d=function m(o,i){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?o:i}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,r,f));return d.displayValue=f.displayValue,d.fontSize=f.fontSize>10*f.width?10*f.width:f.fontSize,d.guardHeight=f.height+d.fontSize/2+f.textMargin,d}return function u(o,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(o,i):o.__proto__=i)}(i,o),v(i,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{12}$/)&&this.data[11]==n(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var f="";return f+="101",f+=(0,e.default)(this.data.substr(0,6),"LLLLLL"),f+="01010",f+=(0,e.default)(this.data.substr(6,6),"RRRRRR"),{data:f+="101",text:this.text}}},{key:"guardedEncoding",value:function(){var f=[];return this.displayValue&&f.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),f.push({data:"101"+(0,e.default)(this.data[0],"L"),options:{height:this.guardHeight}}),f.push({data:(0,e.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),f.push({data:"01010",options:{height:this.guardHeight}}),f.push({data:(0,e.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),f.push({data:(0,e.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&f.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),f}}]),i}(E(s(4648)).default);function n(o){var r,i=0;for(r=1;r<11;r+=2)i+=parseInt(o[r]);for(r=0;r<11;r+=2)i+=3*parseInt(o[r]);return(10-i%10)%10}l.default=t},1285:(A,l,s)=>{Object.defineProperty(l,"__esModule",{value:!0});var v=function(){function f(d,h){for(var M=0;M<h.length;M++){var T=h[M];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(d,T.key,T)}}return function(d,h,M){return h&&f(d.prototype,h),M&&f(d,M),d}}(),e=_(s(9259)),O=_(s(4648)),E=s(4102);function _(f){return f&&f.__esModule?f:{default:f}}function u(f,d){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||"object"!=typeof d&&"function"!=typeof d?f:d}var n=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],o=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],i=function(f){function d(h,M){!function m(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}(this,d);var T=u(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,h,M));if(T.isValid=!1,-1!==h.search(/^[0-9]{6}$/))T.middleDigits=h,T.upcA=r(h,"0"),T.text=M.text||""+T.upcA[0]+h+T.upcA[T.upcA.length-1],T.isValid=!0;else{if(-1===h.search(/^[01][0-9]{7}$/))return u(T);if(T.middleDigits=h.substring(1,h.length-1),T.upcA=r(T.middleDigits,h[0]),T.upcA[T.upcA.length-1]!==h[h.length-1])return u(T);T.isValid=!0}return T.displayValue=M.displayValue,T.fontSize=M.fontSize>10*M.width?10*M.width:M.fontSize,T.guardHeight=M.height+T.fontSize/2+M.textMargin,T}return function t(f,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);f.prototype=Object.create(d&&d.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(f,d):f.__proto__=d)}(d,f),v(d,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var M="";return M+="101",M+=this.encodeMiddleDigits(),{data:M+="010101",text:this.text}}},{key:"guardedEncoding",value:function(){var M=[];return this.displayValue&&M.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),M.push({data:"101",options:{height:this.guardHeight}}),M.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),M.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&M.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),M}},{key:"encodeMiddleDigits",value:function(){var M=this.upcA[0],x=o[parseInt(this.upcA[this.upcA.length-1])][parseInt(M)];return(0,e.default)(this.middleDigits,x)}}]),d}(O.default);function r(f,d){for(var h=parseInt(f[f.length-1]),M=n[h],T="",x=0,k=0;k<M.length;k++){var B=M[k];T+="X"===B?f[x++]:B}return(T=""+d+T)+(0,E.checksum)(T)}l.default=i},3819:(A,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.SIDE_BIN="101",l.MIDDLE_BIN="01010",l.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},l.EAN2_STRUCTURE=["LL","LG","GL","GG"],l.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],l.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]},9259:(A,l,s)=>{Object.defineProperty(l,"__esModule",{value:!0});var v=s(3819);l.default=function(g,O,E){var _=g.split("").map(function(u,t){return v.BINARIES[O[t]]}).map(function(u,t){return u?u[g[t]]:""});if(E){var m=g.length-1;_=_.map(function(u,t){return t<m?u+E:u})}return _.join("")}},7422:(A,l,s)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.UPCE=l.UPC=l.EAN2=l.EAN5=l.EAN8=l.EAN13=void 0;var p=i(s(6195)),g=i(s(2523)),E=i(s(5174)),m=i(s(4500)),t=i(s(4102)),o=i(s(1285));function i(r){return r&&r.__esModule?r:{default:r}}l.EAN13=p.default,l.EAN8=g.default,l.EAN5=E.default,l.EAN2=m.default,l.UPC=t.default,l.UPCE=o.default},791:(A,l,s)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.GenericBarcode=void 0;var v=function(){function u(t,n){for(var o=0;o<n.length;o++){var i=n[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,o){return n&&u(t.prototype,n),o&&u(t,o),t}}(),m=function(u){function t(n,o){return function O(u,t){if(!(u instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function E(u,t){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?u:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,o))}return function _(u,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);u.prototype=Object.create(t&&t.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(u,t):u.__proto__=t)}(t,u),v(t,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),t}(function g(u){return u&&u.__esModule?u:{default:u}}(s(4648)).default);l.GenericBarcode=m},3435:(A,l,s)=>{Object.defineProperty(l,"__esModule",{value:!0});var v=function(){function t(n,o){for(var i=0;i<o.length;i++){var r=o[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(n,o,i){return o&&t(n.prototype,o),i&&t(n,i),n}}(),p=s(5306);function E(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function _(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var u=function(t){function n(){return E(this,n),_(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function m(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,t),v(n,[{key:"valid",value:function(){return-1!==this.data.search(/^([0-9]{2})+$/)}},{key:"encode",value:function(){var i=this,r=this.data.match(/.{2}/g).map(function(f){return i.encodePair(f)}).join("");return{data:p.START_BIN+r+p.END_BIN,text:this.text}}},{key:"encodePair",value:function(i){var r=p.BINARIES[i[1]];return p.BINARIES[i[0]].split("").map(function(f,d){return("1"===f?"111":"1")+("1"===r[d]?"000":"0")}).join("")}}]),n}(function O(t){return t&&t.__esModule?t:{default:t}}(s(4648)).default);l.default=u},580:(A,l,s)=>{Object.defineProperty(l,"__esModule",{value:!0});var v=function(){function t(n,o){for(var i=0;i<o.length;i++){var r=o[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(n,o,i){return o&&t(n.prototype,o),i&&t(n,i),n}}(),e=function g(t){return t&&t.__esModule?t:{default:t}}(s(3435)),m=function(n){var o=n.substr(0,13).split("").map(function(i){return parseInt(i,10)}).reduce(function(i,r,f){return i+r*(3-f%2*2)},0);return 10*Math.ceil(o/10)-o},u=function(t){function n(o,i){return function O(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),-1!==o.search(/^[0-9]{13}$/)&&(o+=m(o)),function E(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,o,i))}return function _(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,t),v(n,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{14}$/)&&+this.data[13]===m(this.data)}}]),n}(e.default);l.default=u},5306:(A,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.START_BIN="1010",l.END_BIN="11101",l.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]},7191:(A,l,s)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ITF14=l.ITF=void 0;var p=O(s(3435)),g=O(s(580));function O(E){return E&&E.__esModule?E:{default:E}}l.ITF=p.default,l.ITF14=g.default},6431:(A,l,s)=>{Object.defineProperty(l,"__esModule",{value:!0});var v=function(){function t(n,o){for(var i=0;i<o.length;i++){var r=o[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(n,o,i){return o&&t(n.prototype,o),i&&t(n,i),n}}(),m=function(t){function n(o,i){return function O(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),function E(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,o,i))}return function _(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,t),v(n,[{key:"encode",value:function(){for(var i="110",r=0;r<this.data.length;r++){var d=parseInt(this.data[r]).toString(2);d=u(d,4-d.length);for(var h=0;h<d.length;h++)i+="0"==d[h]?"100":"110"}return{data:i+="1001",text:this.text}}},{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]+$/)}}]),n}(function g(t){return t&&t.__esModule?t:{default:t}}(s(4648)).default);function u(t,n){for(var o=0;o<n;o++)t="0"+t;return t}l.default=m},7218:(A,l,s)=>{Object.defineProperty(l,"__esModule",{value:!0});var p=function g(u){return u&&u.__esModule?u:{default:u}}(s(6431)),e=s(6855),m=function(u){function t(n,o){return function O(u,t){if(!(u instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function E(u,t){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?u:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n+(0,e.mod10)(n),o))}return function _(u,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);u.prototype=Object.create(t&&t.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(u,t):u.__proto__=t)}(t,u),t}(p.default);l.default=m},9762:(A,l,s)=>{Object.defineProperty(l,"__esModule",{value:!0});var p=function g(u){return u&&u.__esModule?u:{default:u}}(s(6431)),e=s(6855),m=function(u){function t(n,o){return function O(u,t){if(!(u instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n+=(0,e.mod10)(n),n+=(0,e.mod10)(n),function E(u,t){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?u:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,o))}return function _(u,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);u.prototype=Object.create(t&&t.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(u,t):u.__proto__=t)}(t,u),t}(p.default);l.default=m},3117:(A,l,s)=>{Object.defineProperty(l,"__esModule",{value:!0});var p=function g(u){return u&&u.__esModule?u:{default:u}}(s(6431)),e=s(6855),m=function(u){function t(n,o){return function O(u,t){if(!(u instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function E(u,t){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?u:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n+(0,e.mod11)(n),o))}return function _(u,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);u.prototype=Object.create(t&&t.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(u,t):u.__proto__=t)}(t,u),t}(p.default);l.default=m},1878:(A,l,s)=>{Object.defineProperty(l,"__esModule",{value:!0});var p=function g(u){return u&&u.__esModule?u:{default:u}}(s(6431)),e=s(6855),m=function(u){function t(n,o){return function O(u,t){if(!(u instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n+=(0,e.mod11)(n),n+=(0,e.mod10)(n),function E(u,t){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?u:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,o))}return function _(u,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);u.prototype=Object.create(t&&t.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(u,t):u.__proto__=t)}(t,u),t}(p.default);l.default=m},6855:(A,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.mod10=function s(p){for(var e=0,g=0;g<p.length;g++){var O=parseInt(p[g]);e+=(g+p.length)%2==0?O:2*O%10+Math.floor(2*O/10)}return(10-e%10)%10},l.mod11=function v(p){for(var e=0,g=[2,3,4,5,6,7],O=0;O<p.length;O++){var E=parseInt(p[p.length-1-O]);e+=g[O%g.length]*E}return(11-e%11)%11}},1247:(A,l,s)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.MSI1110=l.MSI1010=l.MSI11=l.MSI10=l.MSI=void 0;var p=n(s(6431)),g=n(s(7218)),E=n(s(3117)),m=n(s(9762)),t=n(s(1878));function n(o){return o&&o.__esModule?o:{default:o}}l.MSI=p.default,l.MSI10=g.default,l.MSI11=E.default,l.MSI1010=m.default,l.MSI1110=t.default},2250:(A,l,s)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.codabar=void 0;var v=function(){function u(t,n){for(var o=0;o<n.length;o++){var i=n[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,o){return n&&u(t.prototype,n),o&&u(t,o),t}}(),m=function(u){function t(n,o){(function O(u,t){if(!(u instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),0===n.search(/^[0-9\-\$\:\.\+\/]+$/)&&(n="A"+n+"A");var i=function E(u,t){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?u:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n.toUpperCase(),o));return i.text=i.options.text||i.text.replace(/[A-D]/g,""),i}return function _(u,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);u.prototype=Object.create(t&&t.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(u,t):u.__proto__=t)}(t,u),v(t,[{key:"valid",value:function(){return-1!==this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)}},{key:"encode",value:function(){for(var o=[],i=this.getEncodings(),r=0;r<this.data.length;r++)o.push(i[this.data.charAt(r)]),r!==this.data.length-1&&o.push("0");return{text:this.text,data:o.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),t}(function g(u){return u&&u.__esModule?u:{default:u}}(s(4648)).default);l.codabar=m},9721:(A,l,s)=>{Object.defineProperty(l,"__esModule",{value:!0});var v=s(528),p=s(6038),e=s(7422),g=s(7191),O=s(1247),E=s(7624),_=s(2250),m=s(791);l.default={CODE39:v.CODE39,CODE128:p.CODE128,CODE128A:p.CODE128A,CODE128B:p.CODE128B,CODE128C:p.CODE128C,EAN13:e.EAN13,EAN8:e.EAN8,EAN5:e.EAN5,EAN2:e.EAN2,UPC:e.UPC,UPCE:e.UPCE,ITF14:g.ITF14,ITF:g.ITF,MSI:O.MSI,MSI10:O.MSI10,MSI11:O.MSI11,MSI1010:O.MSI1010,MSI1110:O.MSI1110,pharmacode:E.pharmacode,codabar:_.codabar,GenericBarcode:m.GenericBarcode}},7624:(A,l,s)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.pharmacode=void 0;var v=function(){function u(t,n){for(var o=0;o<n.length;o++){var i=n[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,o){return n&&u(t.prototype,n),o&&u(t,o),t}}(),m=function(u){function t(n,o){!function O(u,t){if(!(u instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function E(u,t){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?u:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,o));return i.number=parseInt(n,10),i}return function _(u,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);u.prototype=Object.create(t&&t.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(u,t):u.__proto__=t)}(t,u),v(t,[{key:"encode",value:function(){for(var o=this.number,i="";!isNaN(o)&&0!=o;)o%2==0?(i="11100"+i,o=(o-2)/2):(i="100"+i,o=(o-1)/2);return{data:i=i.slice(0,-2),text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),t}(function g(u){return u&&u.__esModule?u:{default:u}}(s(4648)).default);l.pharmacode=m},3930:(A,l)=>{Object.defineProperty(l,"__esModule",{value:!0});var s=function(){function e(g,O){for(var E=0;E<O.length;E++){var _=O[E];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(g,_.key,_)}}return function(g,O,E){return O&&e(g.prototype,O),E&&e(g,E),g}}(),p=function(){function e(g){(function v(e,g){if(!(e instanceof g))throw new TypeError("Cannot call a class as a function")})(this,e),this.api=g}return s(e,[{key:"handleCatch",value:function(O){if("InvalidInputException"!==O.name)throw O;if(this.api._options.valid===this.api._defaults.valid)throw O.message;this.api._options.valid(!1),this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(O){try{var E=O.apply(void 0,arguments);return this.api._options.valid(!0),E}catch(_){return this.handleCatch(_),this.api}}}]),e}();l.default=p},7497:(A,l)=>{function s(E,_){if(!(E instanceof _))throw new TypeError("Cannot call a class as a function")}function v(E,_){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!_||"object"!=typeof _&&"function"!=typeof _?E:_}function p(E,_){if("function"!=typeof _&&null!==_)throw new TypeError("Super expression must either be null or a function, not "+typeof _);E.prototype=Object.create(_&&_.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(E,_):E.__proto__=_)}Object.defineProperty(l,"__esModule",{value:!0});var e=function(E){function _(m,u){s(this,_);var t=v(this,(_.__proto__||Object.getPrototypeOf(_)).call(this));return t.name="InvalidInputException",t.symbology=m,t.input=u,t.message='"'+t.input+'" is not a valid input for '+t.symbology,t}return p(_,Error),_}(),g=function(E){function _(){s(this,_);var m=v(this,(_.__proto__||Object.getPrototypeOf(_)).call(this));return m.name="InvalidElementException",m.message="Not supported type to render on",m}return p(_,Error),_}(),O=function(E){function _(){s(this,_);var m=v(this,(_.__proto__||Object.getPrototypeOf(_)).call(this));return m.name="NoElementException",m.message="No element to render on.",m}return p(_,Error),_}();l.InvalidInputException=e,l.InvalidElementException=g,l.NoElementException=O},3800:(A,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.default=function s(v){return v.marginTop=v.marginTop||v.margin,v.marginBottom=v.marginBottom||v.margin,v.marginRight=v.marginRight||v.margin,v.marginLeft=v.marginLeft||v.margin,v}},6428:(A,l,s)=>{Object.defineProperty(l,"__esModule",{value:!0});var p=O(s(70)),g=O(s(7850));function O(_){return _&&_.__esModule?_:{default:_}}l.default=function E(_){var m={};for(var u in g.default)g.default.hasOwnProperty(u)&&(_.hasAttribute("jsbarcode-"+u.toLowerCase())&&(m[u]=_.getAttribute("jsbarcode-"+u.toLowerCase())),_.hasAttribute("data-"+u.toLowerCase())&&(m[u]=_.getAttribute("data-"+u.toLowerCase())));return m.value=_.getAttribute("jsbarcode-value")||_.getAttribute("data-value"),(0,p.default)(m)}},1731:(A,l,s)=>{Object.defineProperty(l,"__esModule",{value:!0});var v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},e=_(s(6428)),O=_(s(2216)),E=s(7497);function _(n){return n&&n.__esModule?n:{default:n}}l.default=function m(n){if("string"==typeof n)return function u(n){var o=document.querySelectorAll(n);if(0!==o.length){for(var i=[],r=0;r<o.length;r++)i.push(m(o[r]));return i}}(n);if(Array.isArray(n)){for(var o=[],i=0;i<n.length;i++)o.push(m(n[i]));return o}if("undefined"!=typeof HTMLCanvasElement&&n instanceof HTMLImageElement)return function t(n){var o=document.createElement("canvas");return{element:o,options:(0,e.default)(n),renderer:O.default.CanvasRenderer,afterRender:function(){n.setAttribute("src",o.toDataURL())}}}(n);if(n&&n.nodeName&&"svg"===n.nodeName.toLowerCase()||"undefined"!=typeof SVGElement&&n instanceof SVGElement)return{element:n,options:(0,e.default)(n),renderer:O.default.SVGRenderer};if("undefined"!=typeof HTMLCanvasElement&&n instanceof HTMLCanvasElement)return{element:n,options:(0,e.default)(n),renderer:O.default.CanvasRenderer};if(n&&n.getContext)return{element:n,renderer:O.default.CanvasRenderer};if(n&&"object"===(void 0===n?"undefined":v(n))&&!n.nodeName)return{element:n,renderer:O.default.ObjectRenderer};throw new E.InvalidElementException}},6162:(A,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.default=function s(v){var p=[];return function e(g){if(Array.isArray(g))for(var O=0;O<g.length;O++)e(g[O]);else g.text=g.text||"",g.data=g.data||"",p.push(g)}(v),p}},4070:(A,l)=>{Object.defineProperty(l,"__esModule",{value:!0});var s=Object.assign||function(v){for(var p=1;p<arguments.length;p++){var e=arguments[p];for(var g in e)Object.prototype.hasOwnProperty.call(e,g)&&(v[g]=e[g])}return v};l.default=function(v,p){return s({},v,p)}},70:(A,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.default=function s(v){var p=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var e in p)p.hasOwnProperty(e)&&"string"==typeof v[e=p[e]]&&(v[e]=parseInt(v[e],10));return"string"==typeof v.displayValue&&(v.displayValue="false"!=v.displayValue),v}},7850:(A,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.default={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}}},726:(A,l,s)=>{Object.defineProperty(l,"__esModule",{value:!0});var v=function(){function m(u,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(u,o.key,o)}}return function(u,t,n){return t&&m(u.prototype,t),n&&m(u,n),u}}(),e=function O(m){return m&&m.__esModule?m:{default:m}}(s(4070)),g=s(3737),_=function(){function m(u,t,n){(function E(m,u){if(!(m instanceof u))throw new TypeError("Cannot call a class as a function")})(this,m),this.canvas=u,this.encodings=t,this.options=n}return v(m,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var t=0;t<this.encodings.length;t++){var n=(0,e.default)(this.options,this.encodings[t].options);this.drawCanvasBarcode(n,this.encodings[t]),this.drawCanvasText(n,this.encodings[t]),this.moveCanvasDrawing(this.encodings[t])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var t=this.canvas.getContext("2d");t.save(),(0,g.calculateEncodingAttributes)(this.encodings,this.options,t);var n=(0,g.getTotalWidthOfEncodings)(this.encodings),o=(0,g.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=n+this.options.marginLeft+this.options.marginRight,this.canvas.height=o,t.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(t.fillStyle=this.options.background,t.fillRect(0,0,this.canvas.width,this.canvas.height)),t.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(t,n){var r,o=this.canvas.getContext("2d"),i=n.data;r="top"==t.textPosition?t.marginTop+t.fontSize+t.textMargin:t.marginTop,o.fillStyle=t.lineColor;for(var f=0;f<i.length;f++){var d=f*t.width+n.barcodePadding;"1"===i[f]?o.fillRect(d,r,t.width,t.height):i[f]&&o.fillRect(d,r,t.width,t.height*i[f])}}},{key:"drawCanvasText",value:function(t,n){var r,f,o=this.canvas.getContext("2d");t.displayValue&&(f="top"==t.textPosition?t.marginTop+t.fontSize-t.textMargin:t.height+t.textMargin+t.marginTop+t.fontSize,o.font=t.fontOptions+" "+t.fontSize+"px "+t.font,"left"==t.textAlign||n.barcodePadding>0?(r=0,o.textAlign="left"):"right"==t.textAlign?(r=n.width-1,o.textAlign="right"):(r=n.width/2,o.textAlign="center"),o.fillText(n.text,r,f))}},{key:"moveCanvasDrawing",value:function(t){this.canvas.getContext("2d").translate(t.width,0)}},{key:"restoreCanvas",value:function(){this.canvas.getContext("2d").restore()}}]),m}();l.default=_},2216:(A,l,s)=>{Object.defineProperty(l,"__esModule",{value:!0});var p=_(s(726)),g=_(s(7902)),E=_(s(8138));function _(m){return m&&m.__esModule?m:{default:m}}l.default={CanvasRenderer:p.default,SVGRenderer:g.default,ObjectRenderer:E.default}},8138:(A,l)=>{Object.defineProperty(l,"__esModule",{value:!0});var s=function(){function e(g,O){for(var E=0;E<O.length;E++){var _=O[E];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(g,_.key,_)}}return function(g,O,E){return O&&e(g.prototype,O),E&&e(g,E),g}}(),p=function(){function e(g,O,E){(function v(e,g){if(!(e instanceof g))throw new TypeError("Cannot call a class as a function")})(this,e),this.object=g,this.encodings=O,this.options=E}return s(e,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),e}();l.default=p},3737:(A,l,s)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.getTotalWidthOfEncodings=l.calculateEncodingAttributes=l.getBarcodePadding=l.getEncodingHeight=l.getMaximumHeightOfEncodings=void 0;var p=function e(t){return t&&t.__esModule?t:{default:t}}(s(4070));function g(t,n){return n.height+(n.displayValue&&t.text.length>0?n.fontSize+n.textMargin:0)+n.marginTop+n.marginBottom}function O(t,n,o){if(o.displayValue&&n<t){if("center"==o.textAlign)return Math.floor((t-n)/2);if("left"==o.textAlign)return 0;if("right"==o.textAlign)return Math.floor(t-n)}return 0}function u(t,n,o){var i;if(o)i=o;else{if("undefined"==typeof document)return 0;i=document.createElement("canvas").getContext("2d")}i.font=n.fontOptions+" "+n.fontSize+"px "+n.font;var r=i.measureText(t);return r?r.width:0}l.getMaximumHeightOfEncodings=function m(t){for(var n=0,o=0;o<t.length;o++)t[o].height>n&&(n=t[o].height);return n},l.getEncodingHeight=g,l.getBarcodePadding=O,l.calculateEncodingAttributes=function E(t,n,o){for(var i=0;i<t.length;i++){var d,r=t[i],f=(0,p.default)(n,r.options);d=f.displayValue?u(r.text,f,o):0;var h=r.data.length*f.width;r.width=Math.ceil(Math.max(d,h)),r.height=g(r,f),r.barcodePadding=O(d,h,f)}},l.getTotalWidthOfEncodings=function _(t){for(var n=0,o=0;o<t.length;o++)n+=t[o].width;return n}},7902:(A,l,s)=>{Object.defineProperty(l,"__esModule",{value:!0});var v=function(){function u(t,n){for(var o=0;o<n.length;o++){var i=n[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,o){return n&&u(t.prototype,n),o&&u(t,o),t}}(),e=function O(u){return u&&u.__esModule?u:{default:u}}(s(4070)),g=s(3737),_="http://www.w3.org/2000/svg",m=function(){function u(t,n,o){(function E(u,t){if(!(u instanceof t))throw new TypeError("Cannot call a class as a function")})(this,u),this.svg=t,this.encodings=n,this.options=o,this.document=o.xmlDocument||document}return v(u,[{key:"render",value:function(){var n=this.options.marginLeft;this.prepareSVG();for(var o=0;o<this.encodings.length;o++){var i=this.encodings[o],r=(0,e.default)(this.options,i.options),f=this.createGroup(n,r.marginTop,this.svg);this.setGroupOptions(f,r),this.drawSvgBarcode(f,r,i),this.drawSVGText(f,r,i),n+=i.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,g.calculateEncodingAttributes)(this.encodings,this.options);var n=(0,g.getTotalWidthOfEncodings)(this.encodings),o=(0,g.getMaximumHeightOfEncodings)(this.encodings),i=n+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(i,o),this.options.background&&this.drawRect(0,0,i,o,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(n,o,i){var f,r=i.data;f="top"==o.textPosition?o.fontSize+o.textMargin:0;for(var d=0,h=0,M=0;M<r.length;M++)h=M*o.width+i.barcodePadding,"1"===r[M]?d++:d>0&&(this.drawRect(h-o.width*d,f,o.width*d,o.height,n),d=0);d>0&&this.drawRect(h-o.width*(d-1),f,o.width*d,o.height,n)}},{key:"drawSVGText",value:function(n,o,i){var f,d,r=this.document.createElementNS(_,"text");o.displayValue&&(r.setAttribute("style","font:"+o.fontOptions+" "+o.fontSize+"px "+o.font),d="top"==o.textPosition?o.fontSize-o.textMargin:o.height+o.textMargin+o.fontSize,"left"==o.textAlign||i.barcodePadding>0?(f=0,r.setAttribute("text-anchor","start")):"right"==o.textAlign?(f=i.width-1,r.setAttribute("text-anchor","end")):(f=i.width/2,r.setAttribute("text-anchor","middle")),r.setAttribute("x",f),r.setAttribute("y",d),r.appendChild(this.document.createTextNode(i.text)),n.appendChild(r))}},{key:"setSvgAttributes",value:function(n,o){var i=this.svg;i.setAttribute("width",n+"px"),i.setAttribute("height",o+"px"),i.setAttribute("x","0px"),i.setAttribute("y","0px"),i.setAttribute("viewBox","0 0 "+n+" "+o),i.setAttribute("xmlns",_),i.setAttribute("version","1.1"),i.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(n,o,i){var r=this.document.createElementNS(_,"g");return r.setAttribute("transform","translate("+n+", "+o+")"),i.appendChild(r),r}},{key:"setGroupOptions",value:function(n,o){n.setAttribute("style","fill:"+o.lineColor+";")}},{key:"drawRect",value:function(n,o,i,r,f){var d=this.document.createElementNS(_,"rect");return d.setAttribute("x",n),d.setAttribute("y",o),d.setAttribute("width",i),d.setAttribute("height",r),f.appendChild(d),d}}]),u}();l.default=m}}]);