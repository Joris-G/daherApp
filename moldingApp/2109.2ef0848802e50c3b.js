"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2109],{2109:($,u,c)=>{c.r(u),c.d(u,{ManageTeamPageModule:()=>j});var e=c(3668),m=c(6019),_=c(9133),n=c(1704),s=c(4382),l=c(2899),p=c(7914),T=c(4655);function f(t,o){if(1&t){const a=e.EpF();e.TgZ(0,"ion-content"),e._uU(1,"Cr\xe9er un groupe"),e.qZA(),e._UZ(2,"ion-input",21,22),e.TgZ(4,"ion-button",23),e.NdJ("click",function(){e.CHM(a);const r=e.MAs(3);return e.oxw().addGroupClick(r.value.toString())}),e._uU(5," Ajouter "),e.qZA()}}function d(t,o){if(1&t&&(e.TgZ(0,"ion-item"),e.TgZ(1,"ion-label"),e._uU(2),e.qZA(),e.qZA()),2&t){const a=o.$implicit;e.xp6(2),e.hij(" ",a.libelle," ")}}function Z(t,o){1&t&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Nom "),e.qZA())}function h(t,o){if(1&t&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&t){const a=o.$implicit;e.xp6(1),e.hij(" ",a.nom," ")}}function A(t,o){1&t&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Pr\xe9nom "),e.qZA())}function M(t,o){if(1&t&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&t){const a=o.$implicit;e.xp6(1),e.hij(" ",a.prenom," ")}}function x(t,o){1&t&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Groupe "),e.qZA())}function P(t,o){if(1&t&&(e.TgZ(0,"ion-label"),e._uU(1),e.qZA()),2&t){const a=o.$implicit;e.xp6(1),e.hij(" ",a.libelle," ")}}function q(t,o){if(1&t&&(e.TgZ(0,"ion-list"),e.YNc(1,P,2,1,"ion-label",7),e.qZA()),2&t){const a=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",a.groupeAffected)}}function U(t,o){if(1&t&&(e.TgZ(0,"ion-select-option",28),e._uU(1),e.qZA()),2&t){const a=o.$implicit;e.Q6J("value",a),e.xp6(1),e.hij(" ",a.libelle,"")}}function v(t,o){if(1&t){const a=e.EpF();e.TgZ(0,"ion-item"),e.TgZ(1,"ion-select",25,26),e.NdJ("ionChange",function(){e.CHM(a);const r=e.MAs(2),g=e.oxw().$implicit;return e.oxw().addGroupToUser(r.value,g)}),e.YNc(3,U,2,2,"ion-select-option",27),e.qZA(),e.qZA()}if(2&t){const a=e.oxw(2);e.xp6(3),e.Q6J("ngForOf",a.groups)}}function C(t,o){if(1&t&&(e.TgZ(0,"mat-cell"),e.YNc(1,q,2,1,"ion-list",24),e.YNc(2,v,4,1,"ion-item",24),e.qZA()),2&t){const a=o.$implicit;e.xp6(1),e.Q6J("ngIf",a.groupeAffected.length>0),e.xp6(1),e.Q6J("ngIf",0===a.groupeAffected.length)}}function N(t,o){1&t&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Programme avion "),e.qZA())}function Y(t,o){if(1&t&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&t){const a=o.$implicit;e.xp6(1),e.hij(" ",a.programmeAvion," ")}}function w(t,o){1&t&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Derni\xe8re connexion "),e.qZA())}function y(t,o){if(1&t&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&t){const a=o.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,a.lastCon,"EEE dd/MM/yy")," ")}}function b(t,o){1&t&&e._UZ(0,"mat-header-cell")}function G(t,o){if(1&t){const a=e.EpF();e.TgZ(0,"mat-cell"),e.TgZ(1,"ion-button",29),e.NdJ("click",function(){const g=e.CHM(a).$implicit;return e.oxw().updateUser(g)}),e._uU(2," Sauver "),e.qZA(),e.qZA()}}function S(t,o){1&t&&e._UZ(0,"mat-header-row")}function D(t,o){1&t&&e._UZ(0,"mat-row")}const k=[{path:"",component:(()=>{class t{constructor(a,i){this.userService=a,this.programService=i,this.page={title:"G\xe9rer l'\xe9quipe"},this.toolsUserDataSource=new l.by,this.displayedColumns=["nom","prenom","groupeAffectation","lastCon","buttons"]}ngOnInit(){this.getGroups(),this.getToolUsers()}getToolUsers(){this.userService.getUsers().then(a=>{a.map(i=>{}),this.toolsUserDataSource.data=a})}getPrograms(){return new Promise((a,i)=>{this.programService.getPrograms().then(r=>{this.programs=r,a()})})}getGroups(){this.userService.getGroups().then(a=>{this.groups=a})}test(){console.log("test")}newGroupClick(){}addGroupClick(a){a&&this.userService.createGroup({libelle:a}).then(()=>{this.getGroups()})}addGroupToUser(a,i){i.groupeAffectations=a}updateUser(a){this.userService.updateUser(a),this.userService.addUserToGroup(a,a.groupeAffectations)}}return t.\u0275fac=function(a){return new(a||t)(e.Y36(p.f),e.Y36(T.W))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-manage-team"]],decls:48,vars:5,consts:[["color","dark"],["trigger","trigger-button","triggerAction","click","side","top","alignment","center","component","toolInputComponent"],["fixed",""],["size","3"],["slot","start"],["id","trigger-button",3,"click"],["slot","start","name","add"],[4,"ngFor","ngForOf"],["size","9"],[3,"dataSource"],["table",""],["matColumnDef","nom"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","prenom"],["matColumnDef","groupeAffectation"],["matColumnDef","progAvion"],["matColumnDef","lastCon"],["matColumnDef","buttons"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["type","text","placeholder","Nom du groupe"],["inputGroup",""],["expand","block","color","primary",3,"click"],[4,"ngIf"],["multiple","true","placeholder","Selectionner un groupe",3,"ionChange"],["select",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["size","small","expand","block","fill","clear","shape","round",3,"click"]],template:function(a,i){1&a&&(e.TgZ(0,"ion-header"),e.TgZ(1,"ion-toolbar",0),e.TgZ(2,"ion-title"),e._uU(3),e.qZA(),e.qZA(),e.qZA(),e.TgZ(4,"ion-content"),e.TgZ(5,"ion-popover",1),e.YNc(6,f,6,0,"ng-template"),e.qZA(),e.TgZ(7,"ion-grid",2),e.TgZ(8,"ion-row"),e.TgZ(9,"ion-col",3),e.TgZ(10,"ion-card"),e.TgZ(11,"ion-card-header"),e.TgZ(12,"ion-card-title"),e._uU(13,"Groupe d'affectation"),e.qZA(),e.qZA(),e.TgZ(14,"ion-toolbar"),e.TgZ(15,"ion-buttons",4),e.TgZ(16,"ion-button",5),e.NdJ("click",function(){return i.newGroupClick()}),e._UZ(17,"ion-icon",6),e._uU(18," Cr\xe9er "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"ion-list"),e.YNc(20,d,3,1,"ion-item",7),e.qZA(),e.qZA(),e.qZA(),e.TgZ(21,"ion-col",8),e.TgZ(22,"ion-card"),e.TgZ(23,"ion-card-header"),e.TgZ(24,"ion-card-title"),e._uU(25,"Liste des utilisateurs"),e.qZA(),e.qZA(),e.TgZ(26,"mat-table",9,10),e.ynx(28,11),e.YNc(29,Z,2,0,"mat-header-cell",12),e.YNc(30,h,2,1,"mat-cell",13),e.BQk(),e.ynx(31,14),e.YNc(32,A,2,0,"mat-header-cell",12),e.YNc(33,M,2,1,"mat-cell",13),e.BQk(),e.ynx(34,15),e.YNc(35,x,2,0,"mat-header-cell",12),e.YNc(36,C,3,2,"mat-cell",13),e.BQk(),e.ynx(37,16),e.YNc(38,N,2,0,"mat-header-cell",12),e.YNc(39,Y,2,1,"mat-cell",13),e.BQk(),e.ynx(40,17),e.YNc(41,w,2,0,"mat-header-cell",12),e.YNc(42,y,3,4,"mat-cell",13),e.BQk(),e.ynx(43,18),e.YNc(44,b,1,0,"mat-header-cell",12),e.YNc(45,G,3,0,"mat-cell",13),e.BQk(),e.YNc(46,S,1,0,"mat-header-row",19),e.YNc(47,D,1,0,"mat-row",20),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&a&&(e.xp6(3),e.Oqu(i.page.title),e.xp6(17),e.Q6J("ngForOf",i.groups),e.xp6(6),e.Q6J("dataSource",i.toolsUserDataSource),e.xp6(20),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns))},directives:[n.Gu,n.sr,n.wd,n.W2,n.d8,n.jY,n.Nd,n.wI,n.PM,n.Zi,n.Dq,n.Sm,n.YG,n.gu,n.q_,m.sg,l.BZ,l.w1,l.fO,l.Dz,l.as,l.nj,n.pK,n.j9,n.Ie,n.Q$,l.ge,l.ev,m.O5,n.t9,n.QI,n.n0,l.XQ,l.Gk],pipes:[m.uU],styles:["mat-table[_ngcontent-%COMP%]{width:100%}"]}),t})()}];let Q=(()=>{class t{}return t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[s.Bz.forChild(k)],s.Bz]}),t})();var J=c(9749);let j=(()=>{class t{constructor(){(0,m.qS)(J.Z)}}return t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[{provide:e.soG,useValue:"fr-FR"}],imports:[[m.ez,_.u5,n.Pc,Q,l.p0]]}),t})()}}]);