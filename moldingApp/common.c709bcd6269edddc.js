"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8592],{5062:(M,d,s)=>{s.d(d,{i:()=>n});const n=a=>a&&""!==a.dir?"rtl"===a.dir.toLowerCase():"rtl"===(null==document?void 0:document.dir.toLowerCase())},4560:(M,d,s)=>{s.r(d),s.d(d,{startFocusVisible:()=>p});const n="ion-focused",v=["Tab","ArrowDown","Space","Escape"," ","Shift","Enter","ArrowLeft","ArrowRight","ArrowUp","Home","End"],p=u=>{let g=[],_=!0;const r=u?u.shadowRoot:document,c=u||document.body,i=h=>{g.forEach(w=>w.classList.remove(n)),h.forEach(w=>w.classList.add(n)),g=h},t=()=>{_=!1,i([])},o=h=>{_=v.includes(h.key),_||i([])},e=h=>{if(_&&h.composedPath){const w=h.composedPath().filter(m=>!!m.classList&&m.classList.contains("ion-focusable"));i(w)}},l=()=>{r.activeElement===c&&i([])};return r.addEventListener("keydown",o),r.addEventListener("focusin",e),r.addEventListener("focusout",l),r.addEventListener("touchstart",t),r.addEventListener("mousedown",t),{destroy:()=>{r.removeEventListener("keydown",o),r.removeEventListener("focusin",e),r.removeEventListener("focusout",l),r.removeEventListener("touchstart",t),r.removeEventListener("mousedown",t)},setFocus:i}}},6223:(M,d,s)=>{s.d(d,{a:()=>n,b:()=>r,c:()=>a,d:()=>u,e:()=>c,f:()=>_,g:()=>g,h:()=>p,i:()=>v});const n="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Arrow Down</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M112 268l144 144 144-144M256 392V100' class='ionicon-fill-none'/></svg>",a="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Caret Back</title><path d='M368 64L144 256l224 192V64z'/></svg>",v="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Caret Down</title><path d='M64 144l192 224 192-224H64z'/></svg>",p="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Caret Up</title><path d='M448 368L256 144 64 368h384z'/></svg>",u="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Back</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M328 112L184 256l144 144' class='ionicon-fill-none'/></svg>",g="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Down</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M112 184l144 144 144-144' class='ionicon-fill-none'/></svg>",_="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Forward</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",r="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Forward</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",c="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Ellipsis Horizontal</title><circle cx='256' cy='256' r='48'/><circle cx='416' cy='256' r='48'/><circle cx='96' cy='256' r='48'/></svg>"},5375:(M,d,s)=>{s.d(d,{e:()=>c});var n=s(2340),a=s(1086),v=s(2868),p=s(4850),u=s(7221),g=s(6435),_=s(8219),r=s(2853);let c=(()=>{class i{constructor(o,e){this.requestService=o,this.alertService=e}getKitById(o){return this.requestService.createGetRequest(`${n.N.moldingApi}datas_kits?page=1&idMM=${o}`).pipe((0,v.b)(e=>this.log(e),e=>{console.error(e),this.alertService.simpleAlert("Erreur Kit","Kit non conforme","Il semble y avoir un probl\xe8me avec le kit scann\xe9. V\xe9rifier le kit et essayer de nouveau.")}),(0,p.U)(e=>{console.log(e);const l={id:e[0].id,aCuirAv:e[0].ACuirAv,aDrapAv:e[0].ADrapAv,createdAt:e[0].createdAt,decongel:e[0].Decongel,designationSAP:e[0].DesignationSAP,idMM:e[0].idMM,lotSAP:e[0].LotSAP,peremptionMoins18:e[0].PeremptionMoins18,referenceSAP:e[0].ReferenceSAP,status:e[0].status,tackLife:e[0].TackLife,timeOut:e[0].TimeOut,updateAt:e[0].updateAt};return console.log(l),l}),(0,u.K)(e=>this.handleError(e,[])))}isPerim(o,e){return new Date(o)<new Date(e)}kitIsInKits(o,e){return!(e.length<=0)&&e.every(l=>l.idMM===o.idMM)}getIri(o){return`/api/datas_kits/${o.id}`}log(o){console.table(o)}handleError(o,e){return console.error(o),(0,a.of)(e)}}return i.\u0275fac=function(o){return new(o||i)(g.LFG(_.s),g.LFG(r.c))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})()},9528:(M,d,s)=>{s.d(d,{s:()=>r});var n=s(2340),a=s(4850),v=s(6435),p=s(5375),u=s(4224),g=s(1377),_=s(8219);let r=(()=>{class c{constructor(t,o,e,l){this.kitService=t,this.toolService=o,this.userService=e,this.requestService=l}saveMolding(t){return this.requestService.createPostRequest(`${n.N.moldingApi}moldings`,t).pipe((0,a.U)(o=>this.moldingServerToMoldingObject(o)))}updateMolding(t){return this.requestService.createPutRequest(`${n.N.moldingApi}moldings/${t.id}`,t)}updateDates(t){t.aCuireAv=null,t.aDraperAv=null,t.kits.forEach(o=>{(o.aCuirAv<t.aCuireAv||!t.aCuireAv)&&(t.aCuireAv=o.aCuirAv,t.matPolym=o),(o.aDrapAv<t.aDraperAv||!t.aDraperAv)&&(t.aDraperAv=o.aDrapAv,t.matDrap=o)})}moldingServerToMoldingObject(t){const o=[];return t.kits.forEach(e=>{let l=null;l={aCuirAv:e.ACuirAv,aDrapAv:e.ADrapAv,createdAt:e.createdAt,decongel:e.Decongel,designationSAP:e.DesignationSAP,id:e.id,idMM:e.idMM,lotSAP:e.LotSAP,peremptionMoins18:e.PeremptionMoins18,referenceSAP:e.ReferenceSAP,status:e.status,tackLife:e.TackLife,timeOut:e.TimeOut},o.push(l)}),t.kits=o,t}getMoldingById(t){return this.requestService.createGetRequest(`${n.N.moldingApi}moldings/${t}`).pipe((0,a.U)(o=>this.moldingServerToMoldingObject(o)))}getMoldings(){return this.requestService.createGetRequest(`${n.N.moldingApi}moldings`)}toIri(t){return{id:t.id,kits:t.kits.map(o=>this.kitService.getIri(o)),moldingDay:t.moldingDay,createdBy:this.userService.getIri(t.createdBy),outillage:t.outillage?this.toolService.getIri(t.outillage):null,aCuireAv:t.aCuireAv,aDraperAv:t.aDraperAv,matPolym:this.kitService.getIri(t.matPolym),matDrap:this.kitService.getIri(t.matDrap)}}}return c.\u0275fac=function(t){return new(t||c)(v.LFG(p.e),v.LFG(u.o),v.LFG(g.f),v.LFG(_.s))},c.\u0275prov=v.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()}}]);