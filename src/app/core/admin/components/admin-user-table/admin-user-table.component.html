<!-- <table mat-table [dataSource]="users | NotActive"> -->
<table mat-table [dataSource]="users$ | async">
  <!-- Id Column -->
  <ng-container matColumnDef="id">
    <th mat-header-cell *matHeaderCellDef> Id </th>
    <td mat-cell *matCellDef="let user"> {{user.id}} </td>
  </ng-container>
  <!-- Username Column -->
  <ng-container matColumnDef="username">
    <th mat-header-cell *matHeaderCellDef> UserName </th>
    <td mat-cell *matCellDef="let user"> {{user.username}} </td>
  </ng-container>
  <!-- nom Column -->
  <ng-container matColumnDef="nom">
    <th mat-header-cell *matHeaderCellDef> Nom </th>
    <td mat-cell *matCellDef="let user"> {{user.nom}} </td>
  </ng-container>
  <!-- prenom Column -->
  <ng-container matColumnDef="prenom">
    <th mat-header-cell *matHeaderCellDef> Pr√©nom </th>
    <td mat-cell *matCellDef="let user"> {{user.prenom}} </td>
  </ng-container>
  <!-- matricule Column -->
  <ng-container matColumnDef="matricule">
    <th mat-header-cell *matHeaderCellDef> Matricule </th>
    <td mat-cell *matCellDef="let user"> {{user.matricule}} </td>
  </ng-container>
  <!-- matricule Column -->
  <ng-container matColumnDef="mail">
    <th mat-header-cell *matHeaderCellDef> Mail </th>
    <td mat-cell *matCellDef="let user"> {{user.mail}} </td>
  </ng-container>
  <!-- roles Column -->
  <ng-container matColumnDef="roles">
    <th mat-header-cell *matHeaderCellDef> Roles </th>
    <td mat-cell *matCellDef="let user"> {{user.roles}} </td>
  </ng-container>
  <!-- commands Column -->
  <ng-container matColumnDef="commands">
    <th mat-header-cell *matHeaderCellDef> </th>
    <td mat-cell *matCellDef="let user" class="commands">
      <ion-segment (ionChange)="statusChanged($event, user)" [value]="user.isActive">
        <ion-segment-button value="true">
          <ion-icon color=success name="checkmark-outline"></ion-icon>
        </ion-segment-button>
        <ion-segment-button value="false">
          <ion-icon color=danger name="close-outline"></ion-icon>
        </ion-segment-button>
      </ion-segment>
    </td>
  </ng-container>
  <tr mat-header-row *matHeaderRowDef="displayedUserColumns; sticky: true"></tr>
  <tr mat-row *matRowDef="let user; columns: displayedUserColumns;" (click)="onSelectUser(user)">
  </tr>
</table>

<app-user-sheet [user]="selectedUser" (stateChangeEv)="isUserSelected=$event">
</app-user-sheet>