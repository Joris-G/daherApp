"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8592],{4833:(C,_,r)=>{r.d(_,{c:()=>d});var v=r(7205),e=r(7683),g=r(3139);const d=(a,i)=>{let o,n;const l=(h,f,E)=>{if("undefined"==typeof document)return;const S=document.elementFromPoint(h,f);S&&i(S)?S!==o&&(u(),s(S,E)):u()},s=(h,f)=>{o=h,n||(n=o);const E=o;(0,v.c)(()=>E.classList.add("ion-activated")),f()},u=(h=!1)=>{if(!o)return;const f=o;(0,v.c)(()=>f.classList.remove("ion-activated")),h&&n!==o&&o.click(),o=void 0};return(0,g.createGesture)({el:a,gestureName:"buttonActiveDrag",threshold:0,onStart:h=>l(h.currentX,h.currentY,e.a),onMove:h=>l(h.currentX,h.currentY,e.b),onEnd:()=>{u(!0),(0,e.h)(),n=void 0}})}},8685:(C,_,r)=>{r.d(_,{g:()=>v});const v=(i,o,n,l,s)=>g(i[1],o[1],n[1],l[1],s).map(u=>e(i[0],o[0],n[0],l[0],u)),e=(i,o,n,l,s)=>s*(3*o*Math.pow(s-1,2)+s*(-3*n*s+3*n+l*s))-i*Math.pow(s-1,3),g=(i,o,n,l,s)=>a((l-=s)-3*(n-=s)+3*(o-=s)-(i-=s),3*n-6*o+3*i,3*o-3*i,i).filter(h=>h>=0&&h<=1),a=(i,o,n,l)=>{if(0===i)return((i,o,n)=>{const l=o*o-4*i*n;return l<0?[]:[(-o+Math.sqrt(l))/(2*i),(-o-Math.sqrt(l))/(2*i)]})(o,n,l);const s=(3*(n/=i)-(o/=i)*o)/3,u=(2*o*o*o-9*o*n+27*(l/=i))/27;if(0===s)return[Math.pow(-u,1/3)];if(0===u)return[Math.sqrt(-s),-Math.sqrt(-s)];const h=Math.pow(u/2,2)+Math.pow(s/3,3);if(0===h)return[Math.pow(u/2,.5)-o/3];if(h>0)return[Math.pow(-u/2+Math.sqrt(h),1/3)-Math.pow(u/2+Math.sqrt(h),1/3)-o/3];const f=Math.sqrt(Math.pow(-s/3,3)),E=Math.acos(-u/(2*Math.sqrt(Math.pow(-s/3,3)))),S=2*Math.pow(f,1/3);return[S*Math.cos(E/3)-o/3,S*Math.cos((E+2*Math.PI)/3)-o/3,S*Math.cos((E+4*Math.PI)/3)-o/3]}},5062:(C,_,r)=>{r.d(_,{i:()=>v});const v=e=>e&&""!==e.dir?"rtl"===e.dir.toLowerCase():"rtl"===(null==document?void 0:document.dir.toLowerCase())},1112:(C,_,r)=>{r.r(_),r.d(_,{startFocusVisible:()=>d});const v="ion-focused",g=["Tab","ArrowDown","Space","Escape"," ","Shift","Enter","ArrowLeft","ArrowRight","ArrowUp","Home","End"],d=a=>{let i=[],o=!0;const n=a?a.shadowRoot:document,l=a||document.body,s=w=>{i.forEach(m=>m.classList.remove(v)),w.forEach(m=>m.classList.add(v)),i=w},u=()=>{o=!1,s([])},h=w=>{o=g.includes(w.key),o||s([])},f=w=>{if(o&&w.composedPath){const m=w.composedPath().filter(p=>!!p.classList&&p.classList.contains("ion-focusable"));s(m)}},E=()=>{n.activeElement===l&&s([])};return n.addEventListener("keydown",h),n.addEventListener("focusin",f),n.addEventListener("focusout",E),n.addEventListener("touchstart",u),n.addEventListener("mousedown",u),{destroy:()=>{n.removeEventListener("keydown",h),n.removeEventListener("focusin",f),n.removeEventListener("focusout",E),n.removeEventListener("touchstart",u),n.removeEventListener("mousedown",u)},setFocus:s}}},2983:(C,_,r)=>{r.d(_,{C:()=>a,a:()=>g,d:()=>d});var v=r(5861),e=r(3756);const g=function(){var i=(0,v.Z)(function*(o,n,l,s,u,h){var f;if(o)return o.attachViewToDom(n,l,u,s);if(!(h||"string"==typeof l||l instanceof HTMLElement))throw new Error("framework delegate is missing");const E="string"==typeof l?null===(f=n.ownerDocument)||void 0===f?void 0:f.createElement(l):l;return s&&s.forEach(S=>E.classList.add(S)),u&&Object.assign(E,u),n.appendChild(E),yield new Promise(S=>(0,e.c)(E,S)),E});return function(n,l,s,u,h,f){return i.apply(this,arguments)}}(),d=(i,o)=>{if(o){if(i)return i.removeViewFromDom(o.parentElement,o);o.remove()}return Promise.resolve()},a=()=>{let i,o;return{attachViewToDom:function(){var s=(0,v.Z)(function*(u,h,f={},E=[]){var S,w;if(i=u,h){const p="string"==typeof h?null===(S=i.ownerDocument)||void 0===S?void 0:S.createElement(h):h;E.forEach(t=>p.classList.add(t)),Object.assign(p,f),i.appendChild(p),yield new Promise(t=>(0,e.c)(p,t))}else if(i.children.length>0){const p=null===(w=i.ownerDocument)||void 0===w?void 0:w.createElement("div");E.forEach(t=>p.classList.add(t)),p.append(...i.children),i.appendChild(p)}const m=document.querySelector("ion-app")||document.body;return o=document.createComment("ionic teleport"),i.parentNode.insertBefore(o,i),m.appendChild(i),i});return function(h,f){return s.apply(this,arguments)}}(),removeViewFromDom:()=>(i&&o&&(o.parentNode.insertBefore(i,o),o.remove()),Promise.resolve())}}},7683:(C,_,r)=>{r.d(_,{a:()=>g,b:()=>d,c:()=>e,d:()=>i,h:()=>a});const v={getEngine(){var o;const n=window;return n.TapticEngine||(null===(o=n.Capacitor)||void 0===o?void 0:o.isPluginAvailable("Haptics"))&&n.Capacitor.Plugins.Haptics},available(){return!!this.getEngine()},isCordova:()=>!!window.TapticEngine,isCapacitor:()=>!!window.Capacitor,impact(o){const n=this.getEngine();if(!n)return;const l=this.isCapacitor()?o.style.toUpperCase():o.style;n.impact({style:l})},notification(o){const n=this.getEngine();if(!n)return;const l=this.isCapacitor()?o.style.toUpperCase():o.style;n.notification({style:l})},selection(){this.impact({style:"light"})},selectionStart(){const o=this.getEngine();!o||(this.isCapacitor()?o.selectionStart():o.gestureSelectionStart())},selectionChanged(){const o=this.getEngine();!o||(this.isCapacitor()?o.selectionChanged():o.gestureSelectionChanged())},selectionEnd(){const o=this.getEngine();!o||(this.isCapacitor()?o.selectionEnd():o.gestureSelectionEnd())}},e=()=>{v.selection()},g=()=>{v.selectionStart()},d=()=>{v.selectionChanged()},a=()=>{v.selectionEnd()},i=o=>{v.impact(o)}},6465:(C,_,r)=>{r.d(_,{I:()=>a,a:()=>s,b:()=>i,c:()=>f,d:()=>S,f:()=>u,g:()=>l,i:()=>n,p:()=>E,r:()=>w,s:()=>h});var v=r(5861),e=r(3756),g=r(7208);const a="ion-content",i=".ion-content-scroll-host",o=`${a}, ${i}`,n=m=>m&&"ION-CONTENT"===m.tagName,l=function(){var m=(0,v.Z)(function*(p){return n(p)?(yield new Promise(t=>(0,e.c)(p,t)),p.getScrollElement()):p});return function(t){return m.apply(this,arguments)}}(),s=m=>m.querySelector(i)||m.querySelector(o),u=m=>m.closest(o),h=(m,p)=>n(m)?m.scrollToTop(p):Promise.resolve(m.scrollTo({top:0,left:0,behavior:p>0?"smooth":"auto"})),f=(m,p,t,c)=>n(m)?m.scrollByPoint(p,t,c):Promise.resolve(m.scrollBy({top:t,left:p,behavior:c>0?"smooth":"auto"})),E=m=>(0,g.a)(m,a),S=m=>{if(n(m)){const t=m.scrollY;return m.scrollY=!1,t}return m.style.setProperty("overflow","hidden"),!0},w=(m,p)=>{n(m)?m.scrollY=p:m.style.removeProperty("overflow")}},7208:(C,_,r)=>{r.d(_,{a:()=>g,b:()=>e,p:()=>v});const v=d=>console.warn(`[Ionic Warning]: ${d}`),e=(d,...a)=>console.error(`[Ionic Error]: ${d}`,...a),g=(d,...a)=>console.error(`<${d.tagName.toLowerCase()}> must be used inside ${a.join(" or ")}.`)},3230:(C,_,r)=>{r.d(_,{a:()=>v,b:()=>u,c:()=>i,d:()=>h,e:()=>t,f:()=>g,g:()=>e,h:()=>m,i:()=>o,j:()=>l,k:()=>f,l:()=>n,m:()=>a,n:()=>d,o:()=>s,p:()=>E,q:()=>S,r:()=>w,s:()=>p});const v="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Arrow Back</title><path stroke-linecap='square' stroke-miterlimit='10' stroke-width='48' d='M244 400L100 256l144-144M120 256h292' class='ionicon-fill-none'/></svg>",e="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Arrow Down</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M112 268l144 144 144-144M256 392V100' class='ionicon-fill-none'/></svg>",g="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Caret Back</title><path d='M368 64L144 256l224 192V64z'/></svg>",d="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Caret Down</title><path d='M64 144l192 224 192-224H64z'/></svg>",a="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Caret Up</title><path d='M448 368L256 144 64 368h384z'/></svg>",i="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Back</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M328 112L184 256l144 144' class='ionicon-fill-none'/></svg>",o="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Down</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M112 184l144 144 144-144' class='ionicon-fill-none'/></svg>",n="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Forward</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",l="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Forward</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",s="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Close</title><path d='M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z'/></svg>",u="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Close Circle</title><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm75.31 260.69a16 16 0 11-22.62 22.62L256 278.63l-52.69 52.68a16 16 0 01-22.62-22.62L233.37 256l-52.68-52.69a16 16 0 0122.62-22.62L256 233.37l52.69-52.68a16 16 0 0122.62 22.62L278.63 256z'/></svg>",h="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Close</title><path d='M400 145.49L366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49z'/></svg>",f="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Ellipsis Horizontal</title><circle cx='256' cy='256' r='48'/><circle cx='416' cy='256' r='48'/><circle cx='96' cy='256' r='48'/></svg>",E="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Menu</title><path stroke-linecap='round' stroke-miterlimit='10' d='M80 160h352M80 256h352M80 352h352' class='ionicon-fill-none ionicon-stroke-width'/></svg>",S="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Menu</title><path d='M64 384h384v-42.67H64zm0-106.67h384v-42.66H64zM64 128v42.67h384V128z'/></svg>",w="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Reorder Three</title><path stroke-linecap='round' stroke-linejoin='round' d='M96 256h320M96 176h320M96 336h320' class='ionicon-fill-none ionicon-stroke-width'/></svg>",m="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Reorder Two</title><path stroke-linecap='square' stroke-linejoin='round' stroke-width='44' d='M118 304h276M118 208h276' class='ionicon-fill-none'/></svg>",p="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Search</title><path d='M221.09 64a157.09 157.09 0 10157.09 157.09A157.1 157.1 0 00221.09 64z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-miterlimit='10' d='M338.29 338.29L448 448' class='ionicon-fill-none ionicon-stroke-width'/></svg>",t="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Search</title><path d='M464 428L339.92 303.9a160.48 160.48 0 0030.72-94.58C370.64 120.37 298.27 48 209.32 48S48 120.37 48 209.32s72.37 161.32 161.32 161.32a160.48 160.48 0 0094.58-30.72L428 464zM209.32 319.69a110.38 110.38 0 11110.37-110.37 110.5 110.5 0 01-110.37 110.37z'/></svg>"},8439:(C,_,r)=>{r.d(_,{s:()=>v});const v=n=>{try{if(n instanceof class o{constructor(l){this.value=l}})return n.value;if(!d()||"string"!=typeof n||""===n)return n;const l=document.createDocumentFragment(),s=document.createElement("div");l.appendChild(s),s.innerHTML=n,i.forEach(E=>{const S=l.querySelectorAll(E);for(let w=S.length-1;w>=0;w--){const m=S[w];m.parentNode?m.parentNode.removeChild(m):l.removeChild(m);const p=g(m);for(let t=0;t<p.length;t++)e(p[t])}});const u=g(l);for(let E=0;E<u.length;E++)e(u[E]);const h=document.createElement("div");h.appendChild(l);const f=h.querySelector("div");return null!==f?f.innerHTML:h.innerHTML}catch(l){return console.error(l),""}},e=n=>{if(n.nodeType&&1!==n.nodeType)return;for(let s=n.attributes.length-1;s>=0;s--){const u=n.attributes.item(s),h=u.name;if(!a.includes(h.toLowerCase())){n.removeAttribute(h);continue}const f=u.value;null!=f&&f.toLowerCase().includes("javascript:")&&n.removeAttribute(h)}const l=g(n);for(let s=0;s<l.length;s++)e(l[s])},g=n=>null!=n.children?n.children:n.childNodes,d=()=>{var n;const l=window,s=null===(n=null==l?void 0:l.Ionic)||void 0===n?void 0:n.config;return!s||(s.get?s.get("sanitizerEnabled",!0):!0===s.sanitizerEnabled||void 0===s.sanitizerEnabled)},a=["class","id","href","src","name","slot"],i=["script","style","iframe","meta","link","object","embed"]},1316:(C,_,r)=>{r.r(_),r.d(_,{KEYBOARD_DID_CLOSE:()=>e,KEYBOARD_DID_OPEN:()=>v,copyVisualViewport:()=>p,keyboardDidClose:()=>E,keyboardDidOpen:()=>h,keyboardDidResize:()=>f,resetKeyboardAssist:()=>o,setKeyboardClose:()=>u,setKeyboardOpen:()=>s,startKeyboardAssist:()=>n,trackViewportChanges:()=>m});const v="ionKeyboardDidShow",e="ionKeyboardDidHide";let d={},a={},i=!1;const o=()=>{d={},a={},i=!1},n=t=>{l(t),t.visualViewport&&(a=p(t.visualViewport),t.visualViewport.onresize=()=>{m(t),h()||f(t)?s(t):E(t)&&u(t)})},l=t=>{t.addEventListener("keyboardDidShow",c=>s(t,c)),t.addEventListener("keyboardDidHide",()=>u(t))},s=(t,c)=>{S(t,c),i=!0},u=t=>{w(t),i=!1},h=()=>!i&&d.width===a.width&&(d.height-a.height)*a.scale>150,f=t=>i&&!E(t),E=t=>i&&a.height===t.innerHeight,S=(t,c)=>{const y=new CustomEvent(v,{detail:{keyboardHeight:c?c.keyboardHeight:t.innerHeight-a.height}});t.dispatchEvent(y)},w=t=>{const c=new CustomEvent(e);t.dispatchEvent(c)},m=t=>{d=Object.assign({},a),a=p(t.visualViewport)},p=t=>({width:Math.round(t.width),height:Math.round(t.height),offsetTop:t.offsetTop,offsetLeft:t.offsetLeft,pageTop:t.pageTop,pageLeft:t.pageLeft,scale:t.scale})},7741:(C,_,r)=>{r.d(_,{S:()=>e});const e={bubbles:{dur:1e3,circles:9,fn:(g,d,a)=>{const i=g*d/a-g+"ms",o=2*Math.PI*d/a;return{r:5,style:{top:9*Math.sin(o)+"px",left:9*Math.cos(o)+"px","animation-delay":i}}}},circles:{dur:1e3,circles:8,fn:(g,d,a)=>{const i=d/a,o=g*i-g+"ms",n=2*Math.PI*i;return{r:5,style:{top:9*Math.sin(n)+"px",left:9*Math.cos(n)+"px","animation-delay":o}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:()=>({r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}})},crescent:{dur:750,circles:1,fn:()=>({r:26,style:{}})},dots:{dur:750,circles:3,fn:(g,d)=>({r:6,style:{left:9-9*d+"px","animation-delay":-110*d+"ms"}})},lines:{dur:1e3,lines:8,fn:(g,d,a)=>({y1:14,y2:26,style:{transform:`rotate(${360/a*d+(d<a/2?180:-180)}deg)`,"animation-delay":g*d/a-g+"ms"}})},"lines-small":{dur:1e3,lines:8,fn:(g,d,a)=>({y1:12,y2:20,style:{transform:`rotate(${360/a*d+(d<a/2?180:-180)}deg)`,"animation-delay":g*d/a-g+"ms"}})},"lines-sharp":{dur:1e3,lines:12,fn:(g,d,a)=>({y1:17,y2:29,style:{transform:`rotate(${30*d+(d<6?180:-180)}deg)`,"animation-delay":g*d/a-g+"ms"}})},"lines-sharp-small":{dur:1e3,lines:12,fn:(g,d,a)=>({y1:12,y2:20,style:{transform:`rotate(${30*d+(d<6?180:-180)}deg)`,"animation-delay":g*d/a-g+"ms"}})}}},6546:(C,_,r)=>{r.r(_),r.d(_,{createSwipeBackGesture:()=>a});var v=r(3756),e=r(5062),g=r(3139);r(3509);const a=(i,o,n,l,s)=>{const u=i.ownerDocument.defaultView,h=(0,e.i)(i),E=t=>h?-t.deltaX:t.deltaX;return(0,g.createGesture)({el:i,gestureName:"goback-swipe",gesturePriority:40,threshold:10,canStart:t=>(t=>{const{startX:M}=t;return h?M>=u.innerWidth-50:M<=50})(t)&&o(),onStart:n,onMove:t=>{const M=E(t)/u.innerWidth;l(M)},onEnd:t=>{const c=E(t),M=u.innerWidth,y=c/M,O=(t=>h?-t.velocityX:t.velocityX)(t),L=O>=0&&(O>.2||c>M/2),T=(L?1-y:y)*M;let P=0;if(T>5){const I=T/Math.abs(O);P=Math.min(I,540)}s(L,y<=0?.01:(0,v.l)(0,y,.9999),P)}})}},2854:(C,_,r)=>{r.d(_,{c:()=>g,g:()=>a,h:()=>e,o:()=>o});var v=r(5861);const e=(n,l)=>null!==l.closest(n),g=(n,l)=>"string"==typeof n&&n.length>0?Object.assign({"ion-color":!0,[`ion-color-${n}`]:!0},l):l,a=n=>{const l={};return(n=>void 0!==n?(Array.isArray(n)?n:n.split(" ")).filter(s=>null!=s).map(s=>s.trim()).filter(s=>""!==s):[])(n).forEach(s=>l[s]=!0),l},i=/^[a-z][a-z0-9+\-.]*:/,o=function(){var n=(0,v.Z)(function*(l,s,u,h){if(null!=l&&"#"!==l[0]&&!i.test(l)){const f=document.querySelector("ion-router");if(f)return null!=s&&s.preventDefault(),f.push(l,u,h)}return!1});return function(s,u,h,f){return n.apply(this,arguments)}}()},7729:(C,_,r)=>{r.d(_,{B:()=>g,M:()=>e});var v=r(591);class e{constructor(){this.kits=[],this.moldingDay=new Date,this.materialSupplementary=[]}getIri(){return`api/moldings/${this.id}`}}class g{constructor(a=!1,i=!1){this.moldingStatus=new v.X({moldingStatus:!1,kitStatus:!1,toolStatus:!1}),console.log("new molding status"),this.kitStatus=i,this.toolStatus=a,this.upDateMoldingStatus()}setToolStatus(a){this.toolStatus=a,this.upDateMoldingStatus()}setKitStatus(a){this.kitStatus=a,this.upDateMoldingStatus()}getToolStatus(){return this.toolStatus}getKitStatus(){return this.kitStatus}upDateMoldingStatus(){this.moldingStatus.next({moldingStatus:this.kitStatus&&this.toolStatus,kitStatus:this.kitStatus,toolStatus:this.toolStatus})}}},175:(C,_,r)=>{r.r(_),r.d(_,{LoginPage:()=>w});var v=r(3075),e=r(5e3),g=r(2340),d=r(4147),a=r(3919),i=r(4501),o=r(1086),n=r(512);let l=(()=>{class m{constructor(t,c){this.authService=t,this.alertService=c,this.tableUpdates=[{id:1,dateUpdate:new Date(2022,4,9),description:"Pour associer un outillage \xe0 un moulage il suffit de scanner le num\xe9ro d'OT dans l'OF.Vous devez le scanner comme un kit",title:"Module Moulage"},{id:2,dateUpdate:new Date(2022,4,9),description:"Le module outillage est ouvert pour test",title:"Module Outillage"}]}showUpdates(){this.getUpdatesToShow().subscribe(t=>{t&&t.forEach(c=>{this.alertService.simpleAlert("Info sur la mise \xe0 jours",c.title,c.description)})})}getUpdates(t){const c=this.tableUpdates.filter(M=>M.dateUpdate>=new Date(t));return c.length>0?c:null}getUpdatesToShow(){return(0,o.of)(this.getUpdates(this.authService.authUser.lastCon))}}return m.\u0275fac=function(t){return new(t||m)(e.LFG(a.e),e.LFG(n.c))},m.\u0275prov=e.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})();var s=r(9928),u=r(8088),h=r(1661);const f=["userName"],E=["password"],S=function(){return["/register"]};let w=(()=>{class m{constructor(t,c,M,y,O,D,L){this.authService=t,this.formBuilder=c,this.loadingService=M,this.updateService=y,this.navControler=O,this.alertService=D,this.noticeService=L,this.version=d.i8,this.reRouteOpts=[{roles:["ROLE_MOULEUR","\tROLE_RESP_MOULAGE","ROLE_CE_MOULAGE"],route:"molding"},{roles:["ROLE_RESP_OUTIL","ROLE_CE_OUTIL","ROLE_OUTILLEUR"],route:"tooling"},{roles:["ROLE_ADMIN","ROLE_USER","ROLE_METHODES"],route:"home"}]}showNotice(){this.noticeService.presentModal()}ionViewWillEnter(){(0,e.X6Q)()&&this.loginForm.setValue({userName:g.N.username,password:g.N.password})}ngOnInit(){this.loginForm=this.formBuilder.group({userName:["",v.kI.required],password:[""]})}onSubmit(){this.loadingService.startLoading("Patienter pendant la connexion");const t=this.loginForm.get("userName").value.replace(/^0+/,""),c=this.loginForm.get("password").value||t;this.authService.authenticate(t,c).subscribe(()=>{this.afterLoginActions()},M=>{this.logginError(M)})}afterLoginActions(){this.loadingService.stopLoading().then(()=>{this.loginForm.reset(),this.reRouteUser(),this.updateService.showUpdates()})}reRouteUser(){const t=this.reRouteOpts.find(c=>this.authService.authUser.roles.some(M=>c.roles.find(y=>y===M)));console.log(t),this.navControler.navigateRoot(void 0===t?"home":t.route)}logginError(t){console.error(t),this.alertService.simpleAlert("Erreur d'authentification","","Le nom d'utilisateur ou votre mot de passe n'est pas correct"),this.loadingService.stopLoading()}}return m.\u0275fac=function(t){return new(t||m)(e.Y36(a.e),e.Y36(v.qu),e.Y36(i.b),e.Y36(l),e.Y36(s.SH),e.Y36(n.c),e.Y36(u.L))},m.\u0275cmp=e.Xpm({type:m,selectors:[["app-login"]],viewQuery:function(t,c){if(1&t&&(e.Gf(f,5),e.Gf(E,5)),2&t){let M;e.iGM(M=e.CRH())&&(c.userName=M.first),e.iGM(M=e.CRH())&&(c.password=M.first)}},decls:34,vars:6,consts:[[3,"fullscreen"],[1,"full-height",3,"formGroup","ngSubmit","keyup.enter"],[1,"inputs","ion-padding"],["position","floating"],["color","danger"],["autocapitalize","on","required","","formControlName","userName","type","text","autocomplete","off","autofocus","true","inputmode","numeric","value","204292"],["userName",""],["formControlName","password","type","password","value",""],["password",""],[1,"ion-justify-content-center","ion-padding"],[1,"buttons"],["block","","color","primary","type","submit","fill","solid",3,"disabled"],["color","primary",3,"routerLink"],["disabled","true","color","secondary","fill","solid","type","submit"],["slot","start","name","accessibility-outline"],["vertical","top","horizontal","end","slot","fixed"],["size","small","color","light",3,"click"],["name","information-circle-outline"],["slot","end",1,"ion-padding"]],template:function(t,c){1&t&&(e.TgZ(0,"ion-content",0)(1,"form",1),e.NdJ("ngSubmit",function(){return c.onSubmit()})("keyup.enter",function(){return c.onSubmit()}),e.TgZ(2,"div")(3,"div",2)(4,"ion-item")(5,"ion-label",3),e._uU(6,"Nom d'utilisateur "),e.TgZ(7,"ion-text",4),e._uU(8,"*"),e.qZA()(),e._UZ(9,"ion-input",5,6),e.TgZ(11,"ion-note"),e._uU(12," Le nom d'utilisateur est le num\xe9ro de matricule pr\xe9sent sur le badge "),e.qZA()(),e.TgZ(13,"ion-item")(14,"ion-label",3),e._uU(15,"Mot de passe "),e.qZA(),e._UZ(16,"ion-input",7,8),e.qZA()(),e.TgZ(18,"div",9)(19,"ion-buttons",10)(20,"ion-button",11),e._uU(21," Se connecter "),e.qZA(),e.TgZ(22,"ion-button",12),e._uU(23," Cr\xe9er un compte "),e.qZA(),e.TgZ(24,"ion-button",13),e._UZ(25,"ion-icon",14),e._uU(26," Visiteur "),e.qZA()()()()(),e.TgZ(27,"ion-fab",15)(28,"ion-fab-button",16),e.NdJ("click",function(){return c.showNotice()}),e._UZ(29,"ion-icon",17),e.qZA()()(),e.TgZ(30,"ion-footer")(31,"ion-toolbar")(32,"div",18),e._uU(33),e.qZA()()()),2&t&&(e.Q6J("fullscreen",!0),e.xp6(1),e.Q6J("formGroup",c.loginForm),e.xp6(19),e.Q6J("disabled",c.loginForm.invalid),e.xp6(2),e.Q6J("routerLink",e.DdM(5,S)),e.xp6(11),e.hij(" Version : ",c.version," "))},dependencies:[s.YG,s.Sm,s.W2,s.IJ,s.W4,s.fr,s.gu,s.pK,s.Ie,s.Q$,s.uN,s.yW,s.sr,s.j9,s.YI,h.rH,v._Y,v.JJ,v.JL,v.Q7,v.sg,v.u],styles:[".full-height[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;justify-content:center;align-items:center}.inputs[_ngcontent-%COMP%]{display:flex;flex-direction:column}.inputs[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{width:100%}.buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row}@media (max-width: 768px){.buttons[_ngcontent-%COMP%]{flex-direction:column}.buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:100%}}"]}),m})()},8088:(C,_,r)=>{r.d(_,{L:()=>a});var v=r(655),e=r(5e3),g=r(9928);let d=(()=>{class i{constructor(n){this.noticeService=n}ngOnInit(){}backClick(){this.noticeService.closeModal()}}return i.\u0275fac=function(n){return new(n||i)(e.Y36(a))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-login-notice"]],decls:42,vars:0,consts:[["slot","start"],["slot","start",3,"click"],["slot","icon-only","name","arrow-back-outline"],["fullscreen","true"],[1,"ion-margin","ion-padding",2,"background-color","red"],["color","light",1,"ion-margin","ion-padding",2,"background-color","red"],[1,"ion-margin","ion-padding"]],template:function(n,l){1&n&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",1),e.NdJ("click",function(){return l.backClick()}),e._UZ(4,"ion-icon",2),e.qZA()(),e.TgZ(5,"ion-title"),e._uU(6,"Notice page Login"),e.qZA()()(),e.TgZ(7,"ion-content",3)(8,"section",4)(9,"ion-title"),e._uU(10,"Connexion"),e.qZA(),e.TgZ(11,"ion-card")(12,"ion-card-header")(13,"ion-card-title"),e._uU(14,"Sans mot de passe"),e.qZA()(),e.TgZ(15,"ion-card-content")(16,"p"),e._uU(17,"Votre r\xf4le est : COMPAGNON, USER ... votre nom d'utilisateur est le num\xe9ro de matricule (avec ou sans les z\xe9ros de la gauche)"),e.qZA(),e.TgZ(18,"p"),e._uU(19,"Vous pouvez soit scanner le qr-code soit le taper directement"),e.qZA()()(),e.TgZ(20,"ion-card")(21,"ion-card-header")(22,"ion-card-title"),e._uU(23,"Avec mot de passe"),e.qZA()(),e.TgZ(24,"ion-card-content")(25,"p"),e._uU(26,'Taper votre matricule en nom d\'utilisateur. Taper votre mot de passe puis cliquer sur "SE CONNECTER"'),e.qZA()()()(),e.TgZ(27,"section",5)(28,"ion-title"),e._uU(29,"Vous n'avez pas de compte"),e.qZA(),e.TgZ(30,"ion-card")(31,"ion-card-header")(32,"ion-card-title"),e._uU(33,"Cr\xe9er un compte"),e.qZA()(),e.TgZ(34,"ion-card-content")(35,"p"),e._uU(36,'Si vous voulez vous cr\xe9er un compte cliquer sur "CREER UN COMPTE"'),e.qZA()()()(),e.TgZ(37,"section",6)(38,"ion-title"),e._uU(39,"Questions fr\xe9quentes"),e.qZA(),e.TgZ(40,"p"),e._uU(41,"Vous tapez votre nom d'utilisateur mais impossible de vous connecter : v\xe9rifiez si vous avez cr\xe9er un comte."),e.qZA()()())},dependencies:[g.YG,g.Sm,g.PM,g.FN,g.Zi,g.Dq,g.W2,g.Gu,g.gu,g.sr,g.wd]}),i})(),a=(()=>{class i{constructor(n){this.modalController=n}presentModal(){return(0,v.mG)(this,void 0,void 0,function*(){this.modal=yield this.modalController.create({component:d,cssClass:"fullscreen"}),yield this.modal.present()})}closeModal(){return(0,v.mG)(this,void 0,void 0,function*(){yield this.modal.dismiss()})}}return i.\u0275fac=function(n){return new(n||i)(e.LFG(g.IN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},2961:(C,_,r)=>{r.d(_,{p:()=>g});var v=r(1086),e=r(5e3);let g=(()=>{class d{getCoreByBatchNumber(i){let o=i.substring(5).split("~");return o={partNumber:o[0],batch1:o[1],batch2:o[2]},(0,v.of)({idCore:1,batchNumber:o})}getIri(i){return`/api/additional_materials/${i.id}`}}return d.\u0275fac=function(i){return new(i||d)},d.\u0275prov=e.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()},6015:(C,_,r)=>{r.d(_,{e:()=>o});var v=r(2340),e=r(1086),g=r(4850),d=r(5e3),a=r(6322),i=r(512);let o=(()=>{class n{constructor(s,u){this.requestService=s,this.alertService=u}getKitById(s){return this.requestService.createGetRequest(`${v.N.moldingApi}datas_kits?page=1&idMM=${s}`).pipe((0,g.U)(u=>{if(0===u.length)throw this.alertService.simpleAlert("Erreur","Kit non trouv\xe9","Veuillez r\xe9-essayer"),new Error(`aucun kit ne correspond au num\xe9ro : ${s}`);return{id:u[0].id,aCuirAv:u[0].ACuirAv,aDrapAv:u[0].ADrapAv,createdAt:u[0].createdAt,decongel:u[0].Decongel,designationSAP:u[0].DesignationSAP,idMM:u[0].idMM,lotSAP:u[0].LotSAP,peremptionMoins18:u[0].PeremptionMoins18,referenceSAP:u[0].ReferenceSAP,status:u[0].status,tackLife:u[0].TackLife,timeOut:u[0].TimeOut,updateAt:u[0].updateAt}}))}isPerim(s,u){return new Date(s)<new Date(u)}kitIsInKits(s,u){return u.some(h=>h.idMM===s.idMM)}getIri(s){return`/api/datas_kits/${s.id}`}handleError(s,u="error"){return this.alertService.simpleAlert("Erreur Kit","Kit non conforme","Il semble y avoir un probl\xe8me avec le kit scann\xe9. V\xe9rifier le kit et essayer de nouveau."),(0,e.of)()}}return n.\u0275fac=function(s){return new(s||n)(d.LFG(a.s),d.LFG(i.c))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})()},4038:(C,_,r)=>{r.d(_,{s:()=>w});var v=r(8929),e=r(567),g=r(1086),d=r(4850),a=r(7729),i=r(2340),o=r(5e3),n=r(6015),l=r(6702),s=r(2644),u=r(6322),h=r(2961),f=r(512),E=r(9928),S=r(4501);let w=(()=>{class m{constructor(t,c,M,y,O,D,L,A){this.kitService=t,this.matService=c,this.toolService=M,this.requestService=y,this.coreService=O,this.alertService=D,this.navCtrl=L,this.loadingService=A,this.molding$=new v.xQ,this.toolStatus=new v.xQ,this.moldingStatus=new a.B,this.moldingStatus$=this.moldingStatus.moldingStatus.asObservable()}setToolStatus(t){this.moldingStatus.setToolStatus(t)}setKitStatus(t){this.moldingStatus.setKitStatus(t)}removeKit(t){this.molding.kits.splice(t,1),this.updateDates(),this.updateMoldings(),this.updateKitStatus()}saveMolding(t){this.moldingIri=this.toIri(),(this.molding.id?this.patchMolding():this.postMolding()).subscribe(M=>{t&&this.printMolding()})}loadMolding(t){this.loadingService.startLoading("Patienter pendant le chargement du moulage"),this.getMoldingById(t).subscribe(c=>{this.molding=c,this.updateMoldings(),this.setKitStatus(!0),this.setToolStatus(!0),this.loadingService.stopLoading()},c=>{console.error(c),this.loadingService.stopLoading(),this.alertService.simpleAlert("Erreur moulage","Erreur de r\xe9cup\xe9ration du moulage",`Le moulage ${t} n'existe pas`)})}updateDates(){if(this.molding.aCuireAv=null,this.molding.aDraperAv=null,this.molding.kits.length<=0)return;this.molding.matPolym=this.molding.kits.reduce((c,M)=>c.aCuirAv>M.aCuirAv?M:c),this.molding.matDrap=this.molding.kits.reduce((c,M)=>c.aDrapAv>M.aDrapAv?M:c);const t=this.molding.kits.reduce((c,M)=>c.peremptionMoins18>M.peremptionMoins18?M:c);this.molding.aCuireAv=this.molding.matPolym.aCuirAv<t.peremptionMoins18?this.molding.matPolym.aCuirAv:t.peremptionMoins18,this.molding.aDraperAv=this.molding.matDrap.aDrapAv<t.peremptionMoins18?this.molding.matDrap.aDrapAv:t.peremptionMoins18}getMoldingById(t){return this.requestService.createGetRequest(`${i.N.moldingApi}moldings/${t}`).pipe((0,d.U)(c=>(c.kits=this.moldingServerToMoldingObject(c),c)))}getMoldings(){return this.requestService.createGetRequest(`${i.N.moldingApi}moldings`)}addKit(t){this.kitService.kitIsInKits(t,this.molding.kits)?(this.alertService.presentToast("Le kit a d\xe9j\xe0 \xe9t\xe9 scann\xe9"),console.error("kit en doublon")):(this.molding.kits.push(t),this.updateDates(),this.updateMoldings()),this.updateKitStatus()}addNida(t){this.molding.materialSupplementary.push(t),this.updateMoldings()}addTool(t){this.molding.OT=t,this.alertService.presentToast("Outillage associ\xe9 !"),this.setToolStatus(!0),this.updateMoldings()}updateKitStatus(){this.setKitStatus(this.molding.kits.length>0)}saveOtherMaterials(){return(0,e.D)(this.molding.materialSupplementary.map(t=>this.matService.addOne(t)))}postMolding(){const t=this.toIri();return this.requestService.createPostRequest(`${i.N.moldingApi}moldings`,t,!0)}patchMolding(){const t=this.toIri();return this.requestService.createPatchRequest(`${i.N.moldingApi}moldings/${t.id}`,t)}updateMoldings(){this.molding$.next(this.molding)}toIri(){const t=this.molding;return{id:t.id,kits:t.kits.map(c=>this.kitService.getIri(c)),materialSupplementary:t.materialSupplementary.map(c=>this.coreService.getIri(c)),moldingDay:t.moldingDay,outillage:t.OT?this.toolService.getIri(t.OT):null,aCuireAv:t.aCuireAv,aDraperAv:t.aDraperAv,matPolym:this.kitService.getIri(t.matPolym),matDrap:this.kitService.getIri(t.matDrap)}}moldingServerToMoldingObject(t){return t.kits.map(c=>({aCuirAv:c.ACuirAv,aDrapAv:c.ADrapAv,createdAt:c.createdAt,decongel:c.Decongel,designationSAP:c.DesignationSAP,id:c.id,idMM:c.idMM,lotSAP:c.LotSAP,peremptionMoins18:c.PeremptionMoins18,referenceSAP:c.ReferenceSAP,status:c.status,tackLife:c.TackLife,timeOut:c.TimeOut}))}printMolding(){return(0,g.of)(this.navCtrl.navigateForward(["molding/print-molding-sheet",this.molding.id]))}}return m.\u0275fac=function(t){return new(t||m)(o.LFG(n.e),o.LFG(l.N),o.LFG(s.o),o.LFG(u.s),o.LFG(h.p),o.LFG(f.c),o.LFG(E.SH),o.LFG(S.b))},m.\u0275prov=o.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()},6702:(C,_,r)=>{r.d(_,{N:()=>d});var v=r(2340),e=r(5e3),g=r(6322);let d=(()=>{class a{constructor(o){this.requestService=o}addOne(o){return this.requestService.createPostRequest(`${v.N.moldingApi}additional_materials`,o)}}return a.\u0275fac=function(o){return new(o||a)(e.LFG(g.s))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()}}]);