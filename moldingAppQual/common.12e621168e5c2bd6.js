"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8592],{5062:(w,v,o)=>{o.d(v,{i:()=>n});const n=c=>c&&""!==c.dir?"rtl"===c.dir.toLowerCase():"rtl"===(null==document?void 0:document.dir.toLowerCase())},4560:(w,v,o)=>{o.r(v),o.d(v,{startFocusVisible:()=>m});const n="ion-focused",l=["Tab","ArrowDown","Space","Escape"," ","Shift","Enter","ArrowLeft","ArrowRight","ArrowUp","Home","End"],m=d=>{let u=[],g=!0;const s=d?d.shadowRoot:document,a=d||document.body,i=p=>{u.forEach(h=>h.classList.remove(n)),p.forEach(h=>h.classList.add(n)),u=p},r=()=>{g=!1,i([])},e=p=>{g=l.includes(p.key),g||i([])},t=p=>{if(g&&p.composedPath){const h=p.composedPath().filter(M=>!!M.classList&&M.classList.contains("ion-focusable"));i(h)}},_=()=>{s.activeElement===a&&i([])};return s.addEventListener("keydown",e),s.addEventListener("focusin",t),s.addEventListener("focusout",_),s.addEventListener("touchstart",r),s.addEventListener("mousedown",r),{destroy:()=>{s.removeEventListener("keydown",e),s.removeEventListener("focusin",t),s.removeEventListener("focusout",_),s.removeEventListener("touchstart",r),s.removeEventListener("mousedown",r)},setFocus:i}}},6223:(w,v,o)=>{o.d(v,{a:()=>n,b:()=>s,c:()=>c,d:()=>d,e:()=>a,f:()=>g,g:()=>u,h:()=>m,i:()=>l});const n="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Arrow Down</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M112 268l144 144 144-144M256 392V100' class='ionicon-fill-none'/></svg>",c="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Caret Back</title><path d='M368 64L144 256l224 192V64z'/></svg>",l="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Caret Down</title><path d='M64 144l192 224 192-224H64z'/></svg>",m="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Caret Up</title><path d='M448 368L256 144 64 368h384z'/></svg>",d="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Back</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M328 112L184 256l144 144' class='ionicon-fill-none'/></svg>",u="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Down</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M112 184l144 144 144-144' class='ionicon-fill-none'/></svg>",g="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Forward</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",s="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Forward</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",a="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Ellipsis Horizontal</title><circle cx='256' cy='256' r='48'/><circle cx='416' cy='256' r='48'/><circle cx='96' cy='256' r='48'/></svg>"},5375:(w,v,o)=>{o.d(v,{e:()=>a});var n=o(2340),c=o(1086),l=o(2868),m=o(4850),d=o(7221),u=o(5e3),g=o(8219),s=o(2853);let a=(()=>{class i{constructor(e,t){this.requestService=e,this.alertService=t}getKitById(e){return this.requestService.createGetRequest(`${n.N.moldingApi}datas_kits?page=1&idMM=${e}`).pipe((0,l.b)(t=>this.log(t),t=>{console.error(t),this.alertService.simpleAlert("Erreur Kit","Kit non conforme","Il semble y avoir un probl\xe8me avec le kit scann\xe9. V\xe9rifier le kit et essayer de nouveau.")}),(0,m.U)(t=>{if(console.log(t),t.length>0){const _={id:t[0].id,aCuirAv:t[0].ACuirAv,aDrapAv:t[0].ADrapAv,createdAt:t[0].createdAt,decongel:t[0].Decongel,designationSAP:t[0].DesignationSAP,idMM:t[0].idMM,lotSAP:t[0].LotSAP,peremptionMoins18:t[0].PeremptionMoins18,referenceSAP:t[0].ReferenceSAP,status:t[0].status,tackLife:t[0].TackLife,timeOut:t[0].TimeOut,updateAt:t[0].updateAt};return console.log(_),_}return(0,c.of)(void 0)}),(0,d.K)(t=>this.handleError(t,[])))}isPerim(e,t){return new Date(e)<new Date(t)}kitIsInKits(e,t){return!(t.length<=0)&&t.every(_=>_.idMM===e.idMM)}getIri(e){return`/api/datas_kits/${e.id}`}log(e){console.table(e)}handleError(e,t){return console.error(e),(0,c.of)(t)}}return i.\u0275fac=function(e){return new(e||i)(u.LFG(g.s),u.LFG(s.c))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac}),i})()},9528:(w,v,o)=>{o.d(v,{s:()=>s});var n=o(2340),c=o(4850),l=o(5e3),m=o(5375),d=o(4224),u=o(1377),g=o(8219);let s=(()=>{class a{constructor(r,e,t,_){this.kitService=r,this.toolService=e,this.userService=t,this.requestService=_}saveMolding(r){return this.requestService.createPostRequest(`${n.N.moldingApi}moldings`,r).pipe((0,c.U)(e=>(e.kits=this.moldingServerToMoldingObject(e),e)))}updateMolding(r){return this.requestService.createPatchRequest(`${n.N.moldingApi}moldings/${r.id}`,r)}updateDates(r){r.aCuireAv=null,r.aDraperAv=null,r.matPolym=r.kits.reduce((e,t)=>e.aCuirAv>t.aCuirAv?t:e),r.aCuireAv=r.matPolym.aCuirAv,r.matDrap=r.kits.reduce((e,t)=>e.aDrapAv>t.aDrapAv?t:e),r.aDraperAv=r.matDrap.aDrapAv}moldingServerToMoldingObject(r){return r.kits.map(e=>({aCuirAv:e.ACuirAv,aDrapAv:e.ADrapAv,createdAt:e.createdAt,decongel:e.Decongel,designationSAP:e.DesignationSAP,id:e.id,idMM:e.idMM,lotSAP:e.LotSAP,peremptionMoins18:e.PeremptionMoins18,referenceSAP:e.ReferenceSAP,status:e.status,tackLife:e.TackLife,timeOut:e.TimeOut}))}getMoldingById(r){return this.requestService.createGetRequest(`${n.N.moldingApi}moldings/${r}`).pipe((0,c.U)(e=>(e.kits=this.moldingServerToMoldingObject(e),e)))}getMoldings(){return this.requestService.createGetRequest(`${n.N.moldingApi}moldings`)}toIri(r){return{id:r.id,kits:r.kits.map(e=>this.kitService.getIri(e)),materialSupplementary:r.materialSupplementary.map(e=>this.kitService.getIri(e)),moldingDay:r.moldingDay,createdBy:this.userService.getIri(r.createdBy),outillage:r.OT?this.toolService.getIri(r.OT):null,aCuireAv:r.aCuireAv,aDraperAv:r.aDraperAv,matPolym:this.kitService.getIri(r.matPolym),matDrap:this.kitService.getIri(r.matDrap)}}}return a.\u0275fac=function(r){return new(r||a)(l.LFG(m.e),l.LFG(d.o),l.LFG(u.f),l.LFG(g.s))},a.\u0275prov=l.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()}}]);