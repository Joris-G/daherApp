"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8592],{4833:(C,f,r)=>{r.d(f,{c:()=>d});var v=r(7205),t=r(7683),g=r(3139);const d=(l,i)=>{let o,n;const c=(h,_,E)=>{if("undefined"==typeof document)return;const M=document.elementFromPoint(h,_);M&&i(M)?M!==o&&(u(),s(M,E)):u()},s=(h,_)=>{o=h,n||(n=o);const E=o;(0,v.c)(()=>E.classList.add("ion-activated")),_()},u=(h=!1)=>{if(!o)return;const _=o;(0,v.c)(()=>_.classList.remove("ion-activated")),h&&n!==o&&o.click(),o=void 0};return(0,g.createGesture)({el:l,gestureName:"buttonActiveDrag",threshold:0,onStart:h=>c(h.currentX,h.currentY,t.a),onMove:h=>c(h.currentX,h.currentY,t.b),onEnd:()=>{u(!0),(0,t.h)(),n=void 0}})}},8685:(C,f,r)=>{r.d(f,{g:()=>v});const v=(i,o,n,c,s)=>g(i[1],o[1],n[1],c[1],s).map(u=>t(i[0],o[0],n[0],c[0],u)),t=(i,o,n,c,s)=>s*(3*o*Math.pow(s-1,2)+s*(-3*n*s+3*n+c*s))-i*Math.pow(s-1,3),g=(i,o,n,c,s)=>l((c-=s)-3*(n-=s)+3*(o-=s)-(i-=s),3*n-6*o+3*i,3*o-3*i,i).filter(h=>h>=0&&h<=1),l=(i,o,n,c)=>{if(0===i)return((i,o,n)=>{const c=o*o-4*i*n;return c<0?[]:[(-o+Math.sqrt(c))/(2*i),(-o-Math.sqrt(c))/(2*i)]})(o,n,c);const s=(3*(n/=i)-(o/=i)*o)/3,u=(2*o*o*o-9*o*n+27*(c/=i))/27;if(0===s)return[Math.pow(-u,1/3)];if(0===u)return[Math.sqrt(-s),-Math.sqrt(-s)];const h=Math.pow(u/2,2)+Math.pow(s/3,3);if(0===h)return[Math.pow(u/2,.5)-o/3];if(h>0)return[Math.pow(-u/2+Math.sqrt(h),1/3)-Math.pow(u/2+Math.sqrt(h),1/3)-o/3];const _=Math.sqrt(Math.pow(-s/3,3)),E=Math.acos(-u/(2*Math.sqrt(Math.pow(-s/3,3)))),M=2*Math.pow(_,1/3);return[M*Math.cos(E/3)-o/3,M*Math.cos((E+2*Math.PI)/3)-o/3,M*Math.cos((E+4*Math.PI)/3)-o/3]}},5062:(C,f,r)=>{r.d(f,{i:()=>v});const v=t=>t&&""!==t.dir?"rtl"===t.dir.toLowerCase():"rtl"===(null==document?void 0:document.dir.toLowerCase())},1112:(C,f,r)=>{r.r(f),r.d(f,{startFocusVisible:()=>d});const v="ion-focused",g=["Tab","ArrowDown","Space","Escape"," ","Shift","Enter","ArrowLeft","ArrowRight","ArrowUp","Home","End"],d=l=>{let i=[],o=!0;const n=l?l.shadowRoot:document,c=l||document.body,s=S=>{i.forEach(m=>m.classList.remove(v)),S.forEach(m=>m.classList.add(v)),i=S},u=()=>{o=!1,s([])},h=S=>{o=g.includes(S.key),o||s([])},_=S=>{if(o&&S.composedPath){const m=S.composedPath().filter(a=>!!a.classList&&a.classList.contains("ion-focusable"));s(m)}},E=()=>{n.activeElement===c&&s([])};return n.addEventListener("keydown",h),n.addEventListener("focusin",_),n.addEventListener("focusout",E),n.addEventListener("touchstart",u),n.addEventListener("mousedown",u),{destroy:()=>{n.removeEventListener("keydown",h),n.removeEventListener("focusin",_),n.removeEventListener("focusout",E),n.removeEventListener("touchstart",u),n.removeEventListener("mousedown",u)},setFocus:s}}},2983:(C,f,r)=>{r.d(f,{C:()=>l,a:()=>g,d:()=>d});var v=r(5861),t=r(3756);const g=function(){var i=(0,v.Z)(function*(o,n,c,s,u,h){var _;if(o)return o.attachViewToDom(n,c,u,s);if(!(h||"string"==typeof c||c instanceof HTMLElement))throw new Error("framework delegate is missing");const E="string"==typeof c?null===(_=n.ownerDocument)||void 0===_?void 0:_.createElement(c):c;return s&&s.forEach(M=>E.classList.add(M)),u&&Object.assign(E,u),n.appendChild(E),yield new Promise(M=>(0,t.c)(E,M)),E});return function(n,c,s,u,h,_){return i.apply(this,arguments)}}(),d=(i,o)=>{if(o){if(i)return i.removeViewFromDom(o.parentElement,o);o.remove()}return Promise.resolve()},l=()=>{let i,o;return{attachViewToDom:function(){var s=(0,v.Z)(function*(u,h,_={},E=[]){var M,S;if(i=u,h){const a="string"==typeof h?null===(M=i.ownerDocument)||void 0===M?void 0:M.createElement(h):h;E.forEach(e=>a.classList.add(e)),Object.assign(a,_),i.appendChild(a),yield new Promise(e=>(0,t.c)(a,e))}else if(i.children.length>0){const a=null===(S=i.ownerDocument)||void 0===S?void 0:S.createElement("div");E.forEach(e=>a.classList.add(e)),a.append(...i.children),i.appendChild(a)}const m=document.querySelector("ion-app")||document.body;return o=document.createComment("ionic teleport"),i.parentNode.insertBefore(o,i),m.appendChild(i),i});return function(h,_){return s.apply(this,arguments)}}(),removeViewFromDom:()=>(i&&o&&(o.parentNode.insertBefore(i,o),o.remove()),Promise.resolve())}}},7683:(C,f,r)=>{r.d(f,{a:()=>g,b:()=>d,c:()=>t,d:()=>i,h:()=>l});const v={getEngine(){var o;const n=window;return n.TapticEngine||(null===(o=n.Capacitor)||void 0===o?void 0:o.isPluginAvailable("Haptics"))&&n.Capacitor.Plugins.Haptics},available(){return!!this.getEngine()},isCordova:()=>!!window.TapticEngine,isCapacitor:()=>!!window.Capacitor,impact(o){const n=this.getEngine();if(!n)return;const c=this.isCapacitor()?o.style.toUpperCase():o.style;n.impact({style:c})},notification(o){const n=this.getEngine();if(!n)return;const c=this.isCapacitor()?o.style.toUpperCase():o.style;n.notification({style:c})},selection(){this.impact({style:"light"})},selectionStart(){const o=this.getEngine();!o||(this.isCapacitor()?o.selectionStart():o.gestureSelectionStart())},selectionChanged(){const o=this.getEngine();!o||(this.isCapacitor()?o.selectionChanged():o.gestureSelectionChanged())},selectionEnd(){const o=this.getEngine();!o||(this.isCapacitor()?o.selectionEnd():o.gestureSelectionEnd())}},t=()=>{v.selection()},g=()=>{v.selectionStart()},d=()=>{v.selectionChanged()},l=()=>{v.selectionEnd()},i=o=>{v.impact(o)}},6465:(C,f,r)=>{r.d(f,{I:()=>l,a:()=>s,b:()=>i,c:()=>_,d:()=>M,f:()=>u,g:()=>c,i:()=>n,p:()=>E,r:()=>S,s:()=>h});var v=r(5861),t=r(3756),g=r(7208);const l="ion-content",i=".ion-content-scroll-host",o=`${l}, ${i}`,n=m=>m&&"ION-CONTENT"===m.tagName,c=function(){var m=(0,v.Z)(function*(a){return n(a)?(yield new Promise(e=>(0,t.c)(a,e)),a.getScrollElement()):a});return function(e){return m.apply(this,arguments)}}(),s=m=>m.querySelector(i)||m.querySelector(o),u=m=>m.closest(o),h=(m,a)=>n(m)?m.scrollToTop(a):Promise.resolve(m.scrollTo({top:0,left:0,behavior:a>0?"smooth":"auto"})),_=(m,a,e,p)=>n(m)?m.scrollByPoint(a,e,p):Promise.resolve(m.scrollBy({top:e,left:a,behavior:p>0?"smooth":"auto"})),E=m=>(0,g.a)(m,l),M=m=>{if(n(m)){const e=m.scrollY;return m.scrollY=!1,e}return m.style.setProperty("overflow","hidden"),!0},S=(m,a)=>{n(m)?m.scrollY=a:m.style.removeProperty("overflow")}},7208:(C,f,r)=>{r.d(f,{a:()=>g,b:()=>t,p:()=>v});const v=d=>console.warn(`[Ionic Warning]: ${d}`),t=(d,...l)=>console.error(`[Ionic Error]: ${d}`,...l),g=(d,...l)=>console.error(`<${d.tagName.toLowerCase()}> must be used inside ${l.join(" or ")}.`)},3230:(C,f,r)=>{r.d(f,{a:()=>v,b:()=>u,c:()=>i,d:()=>h,e:()=>e,f:()=>g,g:()=>t,h:()=>m,i:()=>o,j:()=>c,k:()=>_,l:()=>n,m:()=>l,n:()=>d,o:()=>s,p:()=>E,q:()=>M,r:()=>S,s:()=>a});const v="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Arrow Back</title><path stroke-linecap='square' stroke-miterlimit='10' stroke-width='48' d='M244 400L100 256l144-144M120 256h292' class='ionicon-fill-none'/></svg>",t="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Arrow Down</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M112 268l144 144 144-144M256 392V100' class='ionicon-fill-none'/></svg>",g="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Caret Back</title><path d='M368 64L144 256l224 192V64z'/></svg>",d="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Caret Down</title><path d='M64 144l192 224 192-224H64z'/></svg>",l="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Caret Up</title><path d='M448 368L256 144 64 368h384z'/></svg>",i="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Back</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M328 112L184 256l144 144' class='ionicon-fill-none'/></svg>",o="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Down</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M112 184l144 144 144-144' class='ionicon-fill-none'/></svg>",n="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Forward</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",c="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Forward</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",s="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Close</title><path d='M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z'/></svg>",u="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Close Circle</title><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm75.31 260.69a16 16 0 11-22.62 22.62L256 278.63l-52.69 52.68a16 16 0 01-22.62-22.62L233.37 256l-52.68-52.69a16 16 0 0122.62-22.62L256 233.37l52.69-52.68a16 16 0 0122.62 22.62L278.63 256z'/></svg>",h="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Close</title><path d='M400 145.49L366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49z'/></svg>",_="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Ellipsis Horizontal</title><circle cx='256' cy='256' r='48'/><circle cx='416' cy='256' r='48'/><circle cx='96' cy='256' r='48'/></svg>",E="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Menu</title><path stroke-linecap='round' stroke-miterlimit='10' d='M80 160h352M80 256h352M80 352h352' class='ionicon-fill-none ionicon-stroke-width'/></svg>",M="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Menu</title><path d='M64 384h384v-42.67H64zm0-106.67h384v-42.66H64zM64 128v42.67h384V128z'/></svg>",S="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Reorder Three</title><path stroke-linecap='round' stroke-linejoin='round' d='M96 256h320M96 176h320M96 336h320' class='ionicon-fill-none ionicon-stroke-width'/></svg>",m="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Reorder Two</title><path stroke-linecap='square' stroke-linejoin='round' stroke-width='44' d='M118 304h276M118 208h276' class='ionicon-fill-none'/></svg>",a="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Search</title><path d='M221.09 64a157.09 157.09 0 10157.09 157.09A157.1 157.1 0 00221.09 64z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-miterlimit='10' d='M338.29 338.29L448 448' class='ionicon-fill-none ionicon-stroke-width'/></svg>",e="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Search</title><path d='M464 428L339.92 303.9a160.48 160.48 0 0030.72-94.58C370.64 120.37 298.27 48 209.32 48S48 120.37 48 209.32s72.37 161.32 161.32 161.32a160.48 160.48 0 0094.58-30.72L428 464zM209.32 319.69a110.38 110.38 0 11110.37-110.37 110.5 110.5 0 01-110.37 110.37z'/></svg>"},8439:(C,f,r)=>{r.d(f,{s:()=>v});const v=n=>{try{if(n instanceof class o{constructor(c){this.value=c}})return n.value;if(!d()||"string"!=typeof n||""===n)return n;const c=document.createDocumentFragment(),s=document.createElement("div");c.appendChild(s),s.innerHTML=n,i.forEach(E=>{const M=c.querySelectorAll(E);for(let S=M.length-1;S>=0;S--){const m=M[S];m.parentNode?m.parentNode.removeChild(m):c.removeChild(m);const a=g(m);for(let e=0;e<a.length;e++)t(a[e])}});const u=g(c);for(let E=0;E<u.length;E++)t(u[E]);const h=document.createElement("div");h.appendChild(c);const _=h.querySelector("div");return null!==_?_.innerHTML:h.innerHTML}catch(c){return console.error(c),""}},t=n=>{if(n.nodeType&&1!==n.nodeType)return;for(let s=n.attributes.length-1;s>=0;s--){const u=n.attributes.item(s),h=u.name;if(!l.includes(h.toLowerCase())){n.removeAttribute(h);continue}const _=u.value;null!=_&&_.toLowerCase().includes("javascript:")&&n.removeAttribute(h)}const c=g(n);for(let s=0;s<c.length;s++)t(c[s])},g=n=>null!=n.children?n.children:n.childNodes,d=()=>{var n;const c=window,s=null===(n=null==c?void 0:c.Ionic)||void 0===n?void 0:n.config;return!s||(s.get?s.get("sanitizerEnabled",!0):!0===s.sanitizerEnabled||void 0===s.sanitizerEnabled)},l=["class","id","href","src","name","slot"],i=["script","style","iframe","meta","link","object","embed"]},1316:(C,f,r)=>{r.r(f),r.d(f,{KEYBOARD_DID_CLOSE:()=>t,KEYBOARD_DID_OPEN:()=>v,copyVisualViewport:()=>a,keyboardDidClose:()=>E,keyboardDidOpen:()=>h,keyboardDidResize:()=>_,resetKeyboardAssist:()=>o,setKeyboardClose:()=>u,setKeyboardOpen:()=>s,startKeyboardAssist:()=>n,trackViewportChanges:()=>m});const v="ionKeyboardDidShow",t="ionKeyboardDidHide";let d={},l={},i=!1;const o=()=>{d={},l={},i=!1},n=e=>{c(e),e.visualViewport&&(l=a(e.visualViewport),e.visualViewport.onresize=()=>{m(e),h()||_(e)?s(e):E(e)&&u(e)})},c=e=>{e.addEventListener("keyboardDidShow",p=>s(e,p)),e.addEventListener("keyboardDidHide",()=>u(e))},s=(e,p)=>{M(e,p),i=!0},u=e=>{S(e),i=!1},h=()=>!i&&d.width===l.width&&(d.height-l.height)*l.scale>150,_=e=>i&&!E(e),E=e=>i&&l.height===e.innerHeight,M=(e,p)=>{const y=new CustomEvent(v,{detail:{keyboardHeight:p?p.keyboardHeight:e.innerHeight-l.height}});e.dispatchEvent(y)},S=e=>{const p=new CustomEvent(t);e.dispatchEvent(p)},m=e=>{d=Object.assign({},l),l=a(e.visualViewport)},a=e=>({width:Math.round(e.width),height:Math.round(e.height),offsetTop:e.offsetTop,offsetLeft:e.offsetLeft,pageTop:e.pageTop,pageLeft:e.pageLeft,scale:e.scale})},7741:(C,f,r)=>{r.d(f,{S:()=>t});const t={bubbles:{dur:1e3,circles:9,fn:(g,d,l)=>{const i=g*d/l-g+"ms",o=2*Math.PI*d/l;return{r:5,style:{top:9*Math.sin(o)+"px",left:9*Math.cos(o)+"px","animation-delay":i}}}},circles:{dur:1e3,circles:8,fn:(g,d,l)=>{const i=d/l,o=g*i-g+"ms",n=2*Math.PI*i;return{r:5,style:{top:9*Math.sin(n)+"px",left:9*Math.cos(n)+"px","animation-delay":o}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:()=>({r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}})},crescent:{dur:750,circles:1,fn:()=>({r:26,style:{}})},dots:{dur:750,circles:3,fn:(g,d)=>({r:6,style:{left:9-9*d+"px","animation-delay":-110*d+"ms"}})},lines:{dur:1e3,lines:8,fn:(g,d,l)=>({y1:14,y2:26,style:{transform:`rotate(${360/l*d+(d<l/2?180:-180)}deg)`,"animation-delay":g*d/l-g+"ms"}})},"lines-small":{dur:1e3,lines:8,fn:(g,d,l)=>({y1:12,y2:20,style:{transform:`rotate(${360/l*d+(d<l/2?180:-180)}deg)`,"animation-delay":g*d/l-g+"ms"}})},"lines-sharp":{dur:1e3,lines:12,fn:(g,d,l)=>({y1:17,y2:29,style:{transform:`rotate(${30*d+(d<6?180:-180)}deg)`,"animation-delay":g*d/l-g+"ms"}})},"lines-sharp-small":{dur:1e3,lines:12,fn:(g,d,l)=>({y1:12,y2:20,style:{transform:`rotate(${30*d+(d<6?180:-180)}deg)`,"animation-delay":g*d/l-g+"ms"}})}}},6546:(C,f,r)=>{r.r(f),r.d(f,{createSwipeBackGesture:()=>l});var v=r(3756),t=r(5062),g=r(3139);r(3509);const l=(i,o,n,c,s)=>{const u=i.ownerDocument.defaultView,h=(0,t.i)(i),E=e=>h?-e.deltaX:e.deltaX;return(0,g.createGesture)({el:i,gestureName:"goback-swipe",gesturePriority:40,threshold:10,canStart:e=>(e=>{const{startX:w}=e;return h?w>=u.innerWidth-50:w<=50})(e)&&o(),onStart:n,onMove:e=>{const w=E(e)/u.innerWidth;c(w)},onEnd:e=>{const p=E(e),w=u.innerWidth,y=p/w,O=(e=>h?-e.velocityX:e.velocityX)(e),L=O>=0&&(O>.2||p>w/2),A=(L?1-y:y)*w;let T=0;if(A>5){const P=A/Math.abs(O);T=Math.min(P,540)}s(L,y<=0?.01:(0,v.l)(0,y,.9999),T)}})}},2854:(C,f,r)=>{r.d(f,{c:()=>g,g:()=>l,h:()=>t,o:()=>o});var v=r(5861);const t=(n,c)=>null!==c.closest(n),g=(n,c)=>"string"==typeof n&&n.length>0?Object.assign({"ion-color":!0,[`ion-color-${n}`]:!0},c):c,l=n=>{const c={};return(n=>void 0!==n?(Array.isArray(n)?n:n.split(" ")).filter(s=>null!=s).map(s=>s.trim()).filter(s=>""!==s):[])(n).forEach(s=>c[s]=!0),c},i=/^[a-z][a-z0-9+\-.]*:/,o=function(){var n=(0,v.Z)(function*(c,s,u,h){if(null!=c&&"#"!==c[0]&&!i.test(c)){const _=document.querySelector("ion-router");if(_)return null!=s&&s.preventDefault(),_.push(c,u,h)}return!1});return function(s,u,h,_){return n.apply(this,arguments)}}()},7729:(C,f,r)=>{r.d(f,{B:()=>g,M:()=>t});var v=r(591);class t{constructor(){this.kits=[],this.moldingDay=new Date,this.materialSupplementary=[]}getIri(){return`api/moldings/${this.id}`}}class g{constructor(l=!1,i=!1){this.moldingStatus=new v.X({moldingStatus:!1,kitStatus:!1,toolStatus:!1}),console.log("new molding status"),this.kitStatus=i,this.toolStatus=l,this.upDateMoldingStatus()}setToolStatus(l){this.toolStatus=l,this.upDateMoldingStatus()}setKitStatus(l){this.kitStatus=l,this.upDateMoldingStatus()}getToolStatus(){return this.toolStatus}getKitStatus(){return this.kitStatus}upDateMoldingStatus(){this.moldingStatus.next({moldingStatus:this.kitStatus&&this.toolStatus,kitStatus:this.kitStatus,toolStatus:this.toolStatus})}}},175:(C,f,r)=>{r.r(f),r.d(f,{LoginPage:()=>S});var v=r(3075),t=r(5e3),g=r(2340),d=r(4147),l=r(3919),i=r(4501),o=r(1086),n=r(512);let c=(()=>{class m{constructor(e,p){this.authService=e,this.alertService=p,this.tableUpdates=[{id:1,dateUpdate:new Date(2022,4,9),description:"Pour associer un outillage \xe0 un moulage il suffit de scanner le num\xe9ro d'OT dans l'OF.Vous devez le scanner comme un kit",title:"Module Moulage"},{id:2,dateUpdate:new Date(2022,4,9),description:"Le module outillage est ouvert pour test",title:"Module Outillage"}]}showUpdates(){this.getUpdatesToShow().subscribe(e=>{e&&e.forEach(p=>{this.alertService.simpleAlert("Info sur la mise \xe0 jours",p.title,p.description)})})}getUpdates(e){const p=this.tableUpdates.filter(w=>w.dateUpdate>=new Date(e));return p.length>0?p:null}getUpdatesToShow(){return(0,o.of)(this.getUpdates(this.authService.authUser.lastCon))}}return m.\u0275fac=function(e){return new(e||m)(t.LFG(l.e),t.LFG(n.c))},m.\u0275prov=t.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})();var s=r(9928),u=r(8088),h=r(1661);const _=["userName"],E=["password"],M=function(){return["/register"]};let S=(()=>{class m{constructor(e,p,w,y,O,D,L){this.authService=e,this.formBuilder=p,this.loadingService=w,this.updateService=y,this.navControler=O,this.alertService=D,this.noticeService=L,this.version=d.i8,this.reRouteOpts=[{roles:["ROLE_MOULEUR","\tROLE_RESP_MOULAGE","ROLE_CE_MOULAGE"],route:"molding"},{roles:["ROLE_RESP_OUTIL","ROLE_CE_OUTIL","ROLE_OUTILLEUR"],route:"tooling"},{roles:["ROLE_ADMIN","ROLE_USER","ROLE_METHODES"],route:"home"}]}showNotice(){this.noticeService.presentModal()}ionViewWillEnter(){(0,t.X6Q)()&&this.loginForm.setValue({userName:g.N.username,password:g.N.password})}ngOnInit(){this.loginForm=this.formBuilder.group({userName:["",v.kI.required],password:[""]})}onSubmit(){this.loadingService.startLoading("Patienter pendant la connexion");const e=this.loginForm.get("userName").value.replace(/^0+/,""),p=this.loginForm.get("password").value||e;this.authService.authenticate(e,p).subscribe(()=>{this.afterLoginActions()},w=>{this.logginError(w)})}afterLoginActions(){this.loadingService.stopLoading().then(()=>{this.loginForm.reset(),this.reRouteUser(),this.updateService.showUpdates()})}reRouteUser(){const e=this.reRouteOpts.find(p=>this.authService.authUser.roles.some(w=>p.roles.find(y=>y===w)));console.log(e),this.navControler.navigateRoot(void 0===e?"home":e.route)}logginError(e){console.error(e),this.alertService.simpleAlert("Erreur d'authentification","","Le nom d'utilisateur ou votre mot de passe n'est pas correct"),this.loadingService.stopLoading()}}return m.\u0275fac=function(e){return new(e||m)(t.Y36(l.e),t.Y36(v.qu),t.Y36(i.b),t.Y36(c),t.Y36(s.SH),t.Y36(n.c),t.Y36(u.L))},m.\u0275cmp=t.Xpm({type:m,selectors:[["app-login"]],viewQuery:function(e,p){if(1&e&&(t.Gf(_,5),t.Gf(E,5)),2&e){let w;t.iGM(w=t.CRH())&&(p.userName=w.first),t.iGM(w=t.CRH())&&(p.password=w.first)}},decls:34,vars:6,consts:[[3,"fullscreen"],[1,"full-height",3,"formGroup","ngSubmit","keyup.enter"],[1,"inputs","ion-padding"],["position","floating"],["color","danger"],["autocapitalize","on","required","","formControlName","userName","type","text","autocomplete","off","autofocus","true","inputmode","numeric","value","204292"],["userName",""],["formControlName","password","type","password","value",""],["password",""],[1,"ion-justify-content-center","ion-padding"],[1,"buttons"],["block","","color","primary","type","submit","fill","solid",3,"disabled"],["color","primary",3,"routerLink"],["disabled","true","color","secondary","fill","solid","type","submit"],["slot","start","name","accessibility-outline"],["vertical","top","horizontal","end","slot","fixed"],["size","small","color","light",3,"click"],["name","information-circle-outline"],["slot","end",1,"ion-padding"]],template:function(e,p){1&e&&(t.TgZ(0,"ion-content",0)(1,"form",1),t.NdJ("ngSubmit",function(){return p.onSubmit()})("keyup.enter",function(){return p.onSubmit()}),t.TgZ(2,"div")(3,"div",2)(4,"ion-item")(5,"ion-label",3),t._uU(6,"Nom d'utilisateur "),t.TgZ(7,"ion-text",4),t._uU(8,"*"),t.qZA()(),t._UZ(9,"ion-input",5,6),t.TgZ(11,"ion-note"),t._uU(12," Le nom d'utilisateur est le num\xe9ro de matricule pr\xe9sent sur le badge "),t.qZA()(),t.TgZ(13,"ion-item")(14,"ion-label",3),t._uU(15,"Mot de passe "),t.qZA(),t._UZ(16,"ion-input",7,8),t.qZA()(),t.TgZ(18,"div",9)(19,"ion-buttons",10)(20,"ion-button",11),t._uU(21," Se connecter "),t.qZA(),t.TgZ(22,"ion-button",12),t._uU(23," Cr\xe9er un compte "),t.qZA(),t.TgZ(24,"ion-button",13),t._UZ(25,"ion-icon",14),t._uU(26," Visiteur "),t.qZA()()()()(),t.TgZ(27,"ion-fab",15)(28,"ion-fab-button",16),t.NdJ("click",function(){return p.showNotice()}),t._UZ(29,"ion-icon",17),t.qZA()()(),t.TgZ(30,"ion-footer")(31,"ion-toolbar")(32,"div",18),t._uU(33),t.qZA()()()),2&e&&(t.Q6J("fullscreen",!0),t.xp6(1),t.Q6J("formGroup",p.loginForm),t.xp6(19),t.Q6J("disabled",p.loginForm.invalid),t.xp6(2),t.Q6J("routerLink",t.DdM(5,M)),t.xp6(11),t.hij(" Version : ",p.version," "))},dependencies:[s.YG,s.Sm,s.W2,s.IJ,s.W4,s.fr,s.gu,s.pK,s.Ie,s.Q$,s.uN,s.yW,s.sr,s.j9,s.YI,h.rH,v._Y,v.JJ,v.JL,v.Q7,v.sg,v.u],styles:[".full-height[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;justify-content:center;align-items:center}.inputs[_ngcontent-%COMP%]{display:flex;flex-direction:column}.inputs[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{width:100%}.buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row}@media (max-width: 768px){.buttons[_ngcontent-%COMP%]{flex-direction:column}.buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:100%}}"]}),m})()},8088:(C,f,r)=>{r.d(f,{L:()=>l});var v=r(655),t=r(5e3),g=r(9928);let d=(()=>{class i{constructor(n){this.noticeService=n}ngOnInit(){}backClick(){this.noticeService.closeModal()}}return i.\u0275fac=function(n){return new(n||i)(t.Y36(l))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-login-notice"]],decls:42,vars:0,consts:[["slot","start"],["slot","start",3,"click"],["slot","icon-only","name","arrow-back-outline"],["fullscreen","true"],[1,"ion-margin","ion-padding",2,"background-color","red"],["color","light",1,"ion-margin","ion-padding",2,"background-color","red"],[1,"ion-margin","ion-padding"]],template:function(n,c){1&n&&(t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",1),t.NdJ("click",function(){return c.backClick()}),t._UZ(4,"ion-icon",2),t.qZA()(),t.TgZ(5,"ion-title"),t._uU(6,"Notice page Login"),t.qZA()()(),t.TgZ(7,"ion-content",3)(8,"section",4)(9,"ion-title"),t._uU(10,"Connexion"),t.qZA(),t.TgZ(11,"ion-card")(12,"ion-card-header")(13,"ion-card-title"),t._uU(14,"Sans mot de passe"),t.qZA()(),t.TgZ(15,"ion-card-content")(16,"p"),t._uU(17,"Votre r\xf4le est : COMPAGNON, USER ... votre nom d'utilisateur est le num\xe9ro de matricule (avec ou sans les z\xe9ros de la gauche)"),t.qZA(),t.TgZ(18,"p"),t._uU(19,"Vous pouvez soit scanner le qr-code soit le taper directement"),t.qZA()()(),t.TgZ(20,"ion-card")(21,"ion-card-header")(22,"ion-card-title"),t._uU(23,"Avec mot de passe"),t.qZA()(),t.TgZ(24,"ion-card-content")(25,"p"),t._uU(26,'Taper votre matricule en nom d\'utilisateur. Taper votre mot de passe puis cliquer sur "SE CONNECTER"'),t.qZA()()()(),t.TgZ(27,"section",5)(28,"ion-title"),t._uU(29,"Vous n'avez pas de compte"),t.qZA(),t.TgZ(30,"ion-card")(31,"ion-card-header")(32,"ion-card-title"),t._uU(33,"Cr\xe9er un compte"),t.qZA()(),t.TgZ(34,"ion-card-content")(35,"p"),t._uU(36,'Si vous voulez vous cr\xe9er un compte cliquer sur "CREER UN COMPTE"'),t.qZA()()()(),t.TgZ(37,"section",6)(38,"ion-title"),t._uU(39,"Questions fr\xe9quentes"),t.qZA(),t.TgZ(40,"p"),t._uU(41,"Vous tapez votre nom d'utilisateur mais impossible de vous connecter : v\xe9rifiez si vous avez cr\xe9er un comte."),t.qZA()()())},dependencies:[g.YG,g.Sm,g.PM,g.FN,g.Zi,g.Dq,g.W2,g.Gu,g.gu,g.sr,g.wd]}),i})(),l=(()=>{class i{constructor(n){this.modalController=n}presentModal(){return(0,v.mG)(this,void 0,void 0,function*(){this.modal=yield this.modalController.create({component:d,cssClass:"fullscreen"}),yield this.modal.present()})}closeModal(){return(0,v.mG)(this,void 0,void 0,function*(){yield this.modal.dismiss()})}}return i.\u0275fac=function(n){return new(n||i)(t.LFG(g.IN))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},2961:(C,f,r)=>{r.d(f,{p:()=>g});var v=r(1086),t=r(5e3);let g=(()=>{class d{getCoreByBatchNumber(i){let o=i.substring(5).split("~");return o={partNumber:o[0],batch1:o[1],batch2:o[2]},(0,v.of)({idCore:1,batchNumber:o})}getIri(i){return`/api/additional_materials/${i.id}`}}return d.\u0275fac=function(i){return new(i||d)},d.\u0275prov=t.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()},6015:(C,f,r)=>{r.d(f,{e:()=>o});var v=r(2340),t=r(1086),g=r(4850),d=r(5e3),l=r(6322),i=r(512);let o=(()=>{class n{constructor(s,u){this.requestService=s,this.alertService=u}getKitById(s){return this.requestService.createGetRequest(`${v.N.moldingApi}datas_kits?page=1&idMM=${s}`).pipe((0,g.U)(u=>{if(0===u.length)throw this.alertService.simpleAlert("Erreur","Kit non trouv\xe9","Veuillez r\xe9-essayer"),new Error(`aucun kit ne correspond au num\xe9ro : ${s}`);return{id:u[0].id,aCuirAv:u[0].ACuirAv,aDrapAv:u[0].ADrapAv,createdAt:u[0].createdAt,decongel:u[0].Decongel,designationSAP:u[0].DesignationSAP,idMM:u[0].idMM,lotSAP:u[0].LotSAP,peremptionMoins18:u[0].PeremptionMoins18,referenceSAP:u[0].ReferenceSAP,status:u[0].status,tackLife:u[0].TackLife,timeOut:u[0].TimeOut,updateAt:u[0].updateAt}}))}isPerim(s,u){return new Date(s)<new Date(u)}kitIsInKits(s,u){return u.some(h=>h.idMM===s.idMM)}getIri(s){return`/api/datas_kits/${s.id}`}handleError(s,u="error"){return this.alertService.simpleAlert("Erreur Kit","Kit non conforme","Il semble y avoir un probl\xe8me avec le kit scann\xe9. V\xe9rifier le kit et essayer de nouveau."),(0,t.of)()}}return n.\u0275fac=function(s){return new(s||n)(d.LFG(l.s),d.LFG(i.c))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})()},4038:(C,f,r)=>{r.d(f,{s:()=>M});var v=r(8929),t=r(567),g=r(4850),d=r(7729),l=r(2340),i=r(5e3),o=r(6015),n=r(6702),c=r(2644),s=r(6322),u=r(2961),h=r(512),_=r(9928),E=r(4501);let M=(()=>{class S{constructor(a,e,p,w,y,O,D,L){this.kitService=a,this.matService=e,this.toolService=p,this.requestService=w,this.coreService=y,this.alertService=O,this.navCtrl=D,this.loadingService=L,this.molding$=new v.xQ,this.toolStatus=new v.xQ,this.moldingStatus=new d.B,this.moldingStatus$=this.moldingStatus.moldingStatus.asObservable()}setToolStatus(a){this.moldingStatus.setToolStatus(a)}setKitStatus(a){this.moldingStatus.setKitStatus(a)}removeKit(a){this.molding.kits.splice(a,1),this.updateDates(),this.updateMoldings(),this.updateKitStatus()}saveMolding(a){this.moldingIri=this.toIri(),(this.molding.id?this.patchMolding():this.postMolding()).subscribe(p=>{this.molding=p,a&&this.printMolding()})}loadMolding(a){this.loadingService.startLoading("Patienter pendant le chargement du moulage"),this.getMoldingById(a).subscribe(e=>{this.molding=e,this.updateMoldings(),this.setKitStatus(!0),this.setToolStatus(!0),this.loadingService.stopLoading()},e=>{console.error(e),this.loadingService.stopLoading(),this.alertService.simpleAlert("Erreur moulage","Erreur de r\xe9cup\xe9ration du moulage",`Le moulage ${a} n'existe pas`)})}updateDates(){if(this.molding.aCuireAv=null,this.molding.aDraperAv=null,this.molding.kits.length<=0)return;this.molding.matPolym=this.molding.kits.reduce((e,p)=>e.aCuirAv>p.aCuirAv?p:e),this.molding.matDrap=this.molding.kits.reduce((e,p)=>e.aDrapAv>p.aDrapAv?p:e);const a=this.molding.kits.reduce((e,p)=>e.peremptionMoins18>p.peremptionMoins18?p:e);this.molding.aCuireAv=this.molding.matPolym.aCuirAv<a.peremptionMoins18?this.molding.matPolym.aCuirAv:a.peremptionMoins18,this.molding.aDraperAv=this.molding.matDrap.aDrapAv<a.peremptionMoins18?this.molding.matDrap.aDrapAv:a.peremptionMoins18}getMoldingById(a){return this.requestService.createGetRequest(`${l.N.moldingApi}moldings/${a}`).pipe((0,g.U)(e=>(e.kits=this.moldingServerToMoldingObject(e),e)))}getMoldings(){return this.requestService.createGetRequest(`${l.N.moldingApi}moldings`)}addKit(a){this.kitService.kitIsInKits(a,this.molding.kits)?(this.alertService.presentToast("Le kit a d\xe9j\xe0 \xe9t\xe9 scann\xe9"),console.error("kit en doublon")):(this.molding.kits.push(a),this.updateDates(),this.updateMoldings()),this.updateKitStatus()}addNida(a){this.molding.materialSupplementary.push(a),this.updateMoldings()}addTool(a){this.molding.OT=a,this.alertService.presentToast("Outillage associ\xe9 !"),this.setToolStatus(!0),this.updateMoldings()}updateKitStatus(){this.setKitStatus(this.molding.kits.length>0)}saveOtherMaterials(){return(0,t.D)(this.molding.materialSupplementary.map(a=>this.matService.addOne(a)))}postMolding(){const a=this.toIri();return this.requestService.createPostRequest(`${l.N.moldingApi}moldings`,a,!0)}patchMolding(){const a=this.toIri();return this.requestService.createPatchRequest(`${l.N.moldingApi}moldings/${a.id}`,a)}updateMoldings(){this.molding$.next(this.molding)}toIri(){const a=this.molding;return{id:a.id,kits:a.kits.map(e=>this.kitService.getIri(e)),materialSupplementary:a.materialSupplementary.map(e=>this.coreService.getIri(e)),moldingDay:a.moldingDay,outillage:a.OT?this.toolService.getIri(a.OT):null,aCuireAv:a.aCuireAv,aDraperAv:a.aDraperAv,matPolym:this.kitService.getIri(a.matPolym),matDrap:this.kitService.getIri(a.matDrap)}}moldingServerToMoldingObject(a){return a.kits.map(e=>({aCuirAv:e.ACuirAv,aDrapAv:e.ADrapAv,createdAt:e.createdAt,decongel:e.Decongel,designationSAP:e.DesignationSAP,id:e.id,idMM:e.idMM,lotSAP:e.LotSAP,peremptionMoins18:e.PeremptionMoins18,referenceSAP:e.ReferenceSAP,status:e.status,tackLife:e.TackLife,timeOut:e.TimeOut}))}printMolding(){this.navCtrl.navigateForward(["molding/print-molding-sheet",this.molding.id])}}return S.\u0275fac=function(a){return new(a||S)(i.LFG(o.e),i.LFG(n.N),i.LFG(c.o),i.LFG(s.s),i.LFG(u.p),i.LFG(h.c),i.LFG(_.SH),i.LFG(E.b))},S.\u0275prov=i.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})()},6702:(C,f,r)=>{r.d(f,{N:()=>d});var v=r(2340),t=r(5e3),g=r(6322);let d=(()=>{class l{constructor(o){this.requestService=o}addOne(o){return this.requestService.createPostRequest(`${v.N.moldingApi}additional_materials`,o)}}return l.\u0275fac=function(o){return new(o||l)(t.LFG(g.s))},l.\u0275prov=t.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()}}]);